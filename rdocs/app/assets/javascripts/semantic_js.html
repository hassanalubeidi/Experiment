<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>semantic.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/darkfish.js"></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../Gemfile_lock~.html">Gemfile.lock~</a>
  
    <li><a href="../../../README_rdoc.html">README</a>
  
    <li><a href="../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../app/assets/javascripts/Chart_js.html">Chart.js</a>
  
    <li><a href="../../../app/assets/javascripts/advanced_js.html">advanced.js</a>
  
    <li><a href="../../../app/assets/javascripts/answers_js_coffee.html">answers.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../../app/assets/javascripts/attempts_js_coffee.html">attempts.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/editor_css.html">editor.css</a>
  
    <li><a href="../../../app/assets/javascripts/improvements_js.html">improvements.js</a>
  
    <li><a href="../../../app/assets/javascripts/interventions_js_coffee.html">interventions.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/jquery_cookie_js.html">jquery.cookie.js</a>
  
    <li><a href="../../../app/assets/javascripts/lessons_js_coffee.html">lessons.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/module_pack_js_coffee.html">module_pack.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/module_packs_js_coffee.html">module_packs.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/nouislider_js.html">nouislider.js</a>
  
    <li><a href="../../../app/assets/javascripts/objective_states_js_coffee.html">objective_states.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/objectives_js.html">objectives.js</a>
  
    <li><a href="../../../app/assets/javascripts/parse_js_coffee.html">parse.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/questions_js_coffee.html">questions.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/semantic_js.html">semantic.js</a>
  
    <li><a href="../../../app/assets/javascripts/set_groups_js_coffee.html">set_groups.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/subjects_js_coffee.html">subjects.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/test_paper_report_js_coffee.html">test_paper_report.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/test_papers_js_coffee.html">test_papers.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/tinymce_assets_js_coffee.html">tinymce_assets.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/topics_js_coffee.html">topics.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/units_js_coffee.html">units.js.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/wysihtml5-0_3_0_js.html">wysihtml5-0.3.0.js</a>
  
    <li><a href="../../../app/assets/stylesheets/answers_css_scss.html">answers.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/application_scss.html">application.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/arcticles_css_scss.html">arcticles.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/attempts_css_scss.html">attempts.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/dashboard_css_scss.html">dashboard.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/datatables_css.html">datatables.css</a>
  
    <li><a href="../../../app/assets/stylesheets/feed_css.html">feed.css</a>
  
    <li><a href="../../../app/assets/stylesheets/font-awesome_min_css.html">font-awesome.min.css</a>
  
    <li><a href="../../../app/assets/stylesheets/interventions_css_scss.html">interventions.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/jquery_gritter_css.html">jquery.gritter.css</a>
  
    <li><a href="../../../app/assets/stylesheets/lessons_css_scss.html">lessons.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/module_pack_css_scss.html">module_pack.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/module_packs_css_scss.html">module_packs.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/nanoscroller_css.html">nanoscroller.css</a>
  
    <li><a href="../../../app/assets/stylesheets/nouislider_css.html">nouislider.css</a>
  
    <li><a href="../../../app/assets/stylesheets/objective_states_css_scss.html">objective_states.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/objectives_css_scss.html">objectives.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/parse_scss.html">parse.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/questions_css_scss.html">questions.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scaffolds_css_scss.html">scaffolds.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/semantic_css.html">semantic.css</a>
  
    <li><a href="../../../app/assets/stylesheets/set_groups_css_scss.html">set_groups.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/subjects_css_scss.html">subjects.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/test_paper_report_css_scss.html">test_paper_report.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/test_papers_css_scss.html">test_papers.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/tinymce_assets_scss.html">tinymce_assets.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/topics_css_scss.html">topics.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/units_css_scss.html">units.css.scss</a>
  
    <li><a href="../../../app/views/answers/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/answers/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/arcticles/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/arcticles/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/improvements/index_json.html">index.json</a>
  
    <li><a href="../../../app/views/improvements/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/interventions/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/interventions/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/lessons/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/lessons/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/module_packs/index_json.html">index.json</a>
  
    <li><a href="../../../app/views/module_packs/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/objectives/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/objectives/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/questions/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/questions/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/reviews/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/reviews/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/set_groups/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/set_groups/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/subjects/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/subjects/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/subjects/untitled_txt.html">untitled</a>
  
    <li><a href="../../../app/views/test_papers/_edit_form.html">_edit_form</a>
  
    <li><a href="../../../app/views/test_papers/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/test_papers/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/topics/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/topics/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/units/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/units/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../doc/controllers_brief_svg.html">controllers_brief.svg</a>
  
    <li><a href="../../../doc/controllers_complete_svg.html">controllers_complete.svg</a>
  
    <li><a href="../../../doc/models_brief_svg.html">models_brief.svg</a>
  
    <li><a href="../../../doc/models_complete_svg.html">models_complete.svg</a>
  
    <li><a href="../../../log/development_log.html">development.log</a>
  
    <li><a href="../../../npm-debug_log.html">npm-debug.log</a>
  
    <li><a href="../../../prelang-init.html">prelang-init</a>
  
    <li><a href="../../../public/404_html.html">404.html</a>
  
    <li><a href="../../../public/422_html.html">422.html</a>
  
    <li><a href="../../../public/500_html.html">500.html</a>
  
    <li><a href="../../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../../public/robots_txt.html">robots</a>
  
    <li><a href="../../../tmp/pids/server_pid.html">server.pid</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page app/assets/javascripts/semantic.js">

<pre> # Semantic UI - 2.1.6
 https://github.com/Semantic-Org/Semantic-UI
 http://www.semantic-ui.com/

 Copyright 2014 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

!
 # Semantic UI 2.1.6 - Site
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>$.site = $.fn.site = function(parameters) {</p>

<pre>var
  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),

  settings        = ( $.isPlainObject(parameters) )
    ? $.extend(true, {}, $.site.settings, parameters)
    : $.extend({}, $.site.settings),

  namespace       = settings.namespace,
  error           = settings.error,

  eventNamespace  = &#39;.&#39; + namespace,
  moduleNamespace = &#39;module-&#39; + namespace,

  $document       = $(document),
  $module         = $document,
  element         = this,
  instance        = $module.data(moduleNamespace),

  module,
  returnedValue
;
module = {

  initialize: function() {
    module.instantiate();
  },

  instantiate: function() {
    module.verbose(&#39;Storing instance of site&#39;, module);
    instance = module;
    $module
      .data(moduleNamespace, module)
    ;
  },

  normalize: function() {
    module.fix.console();
    module.fix.requestAnimationFrame();
  },

  fix: {
    console: function() {
      module.debug(&#39;Normalizing window.console&#39;);
      if (console === undefined || console.log === undefined) {
        module.verbose(&#39;Console not available, normalizing events&#39;);
        module.disable.console();
      }
      if (typeof console.group == &#39;undefined&#39; || typeof console.groupEnd == &#39;undefined&#39; || typeof console.groupCollapsed == &#39;undefined&#39;) {
        module.verbose(&#39;Console group not available, normalizing events&#39;);
        window.console.group = function() {};
        window.console.groupEnd = function() {};
        window.console.groupCollapsed = function() {};
      }
      if (typeof console.markTimeline == &#39;undefined&#39;) {
        module.verbose(&#39;Mark timeline not available, normalizing events&#39;);
        window.console.markTimeline = function() {};
      }
    },
    consoleClear: function() {
      module.debug(&#39;Disabling programmatic console clearing&#39;);
      window.console.clear = function() {};
    },
    requestAnimationFrame: function() {
      module.debug(&#39;Normalizing requestAnimationFrame&#39;);
      if(window.requestAnimationFrame === undefined) {
        module.debug(&#39;RequestAnimationFrame not available, normalizing event&#39;);
        window.requestAnimationFrame = window.requestAnimationFrame
          || window.mozRequestAnimationFrame
          || window.webkitRequestAnimationFrame
          || window.msRequestAnimationFrame
          || function(callback) { setTimeout(callback, 0); }
        ;
      }
    }
  },

  moduleExists: function(name) {
    return ($.fn[name] !== undefined &amp;&amp; $.fn[name].settings !== undefined);
  },

  enabled: {
    modules: function(modules) {
      var
        enabledModules = []
      ;
      modules = modules || settings.modules;
      $.each(modules, function(index, name) {
        if(module.moduleExists(name)) {
          enabledModules.push(name);
        }
      });
      return enabledModules;
    }
  },

  disabled: {
    modules: function(modules) {
      var
        disabledModules = []
      ;
      modules = modules || settings.modules;
      $.each(modules, function(index, name) {
        if(!module.moduleExists(name)) {
          disabledModules.push(name);
        }
      });
      return disabledModules;
    }
  },

  change: {
    setting: function(setting, value, modules, modifyExisting) {
      modules = (typeof modules === &#39;string&#39;)
        ? (modules === &#39;all&#39;)
          ? settings.modules
          : [modules]
        : modules || settings.modules
      ;
      modifyExisting = (modifyExisting !== undefined)
        ? modifyExisting
        : true
      ;
      $.each(modules, function(index, name) {
        var
          namespace = (module.moduleExists(name))
            ? $.fn[name].settings.namespace || false
            : true,
          $existingModules
        ;
        if(module.moduleExists(name)) {
          module.verbose(&#39;Changing default setting&#39;, setting, value, name);
          $.fn[name].settings[setting] = value;
          if(modifyExisting &amp;&amp; namespace) {
            $existingModules = $(&#39;:data(module-&#39; + namespace + &#39;)&#39;);
            if($existingModules.length &gt; 0) {
              module.verbose(&#39;Modifying existing settings&#39;, $existingModules);
              $existingModules[name](&#39;setting&#39;, setting, value);
            }
          }
        }
      });
    },
    settings: function(newSettings, modules, modifyExisting) {
      modules = (typeof modules === &#39;string&#39;)
        ? [modules]
        : modules || settings.modules
      ;
      modifyExisting = (modifyExisting !== undefined)
        ? modifyExisting
        : true
      ;
      $.each(modules, function(index, name) {
        var
          $existingModules
        ;
        if(module.moduleExists(name)) {
          module.verbose(&#39;Changing default setting&#39;, newSettings, name);
          $.extend(true, $.fn[name].settings, newSettings);
          if(modifyExisting &amp;&amp; namespace) {
            $existingModules = $(&#39;:data(module-&#39; + namespace + &#39;)&#39;);
            if($existingModules.length &gt; 0) {
              module.verbose(&#39;Modifying existing settings&#39;, $existingModules);
              $existingModules[name](&#39;setting&#39;, newSettings);
            }
          }
        }
      });
    }
  },

  enable: {
    console: function() {
      module.console(true);
    },
    debug: function(modules, modifyExisting) {
      modules = modules || settings.modules;
      module.debug(&#39;Enabling debug for modules&#39;, modules);
      module.change.setting(&#39;debug&#39;, true, modules, modifyExisting);
    },
    verbose: function(modules, modifyExisting) {
      modules = modules || settings.modules;
      module.debug(&#39;Enabling verbose debug for modules&#39;, modules);
      module.change.setting(&#39;verbose&#39;, true, modules, modifyExisting);
    }
  },
  disable: {
    console: function() {
      module.console(false);
    },
    debug: function(modules, modifyExisting) {
      modules = modules || settings.modules;
      module.debug(&#39;Disabling debug for modules&#39;, modules);
      module.change.setting(&#39;debug&#39;, false, modules, modifyExisting);
    },
    verbose: function(modules, modifyExisting) {
      modules = modules || settings.modules;
      module.debug(&#39;Disabling verbose debug for modules&#39;, modules);
      module.change.setting(&#39;verbose&#39;, false, modules, modifyExisting);
    }
  },

  console: function(enable) {
    if(enable) {
      if(instance.cache.console === undefined) {
        module.error(error.console);
        return;
      }
      module.debug(&#39;Restoring console function&#39;);
      window.console = instance.cache.console;
    }
    else {
      module.debug(&#39;Disabling console function&#39;);
      instance.cache.console = window.console;
      window.console = {
        clear          : function(){},
        error          : function(){},
        group          : function(){},
        groupCollapsed : function(){},
        groupEnd       : function(){},
        info           : function(){},
        log            : function(){},
        markTimeline   : function(){},
        warn           : function(){}
      };
    }
  },

  destroy: function() {
    module.verbose(&#39;Destroying previous site for&#39;, $module);
    $module
      .removeData(moduleNamespace)
    ;
  },

  cache: {},

  setting: function(name, value) {
    if( $.isPlainObject(name) ) {
      $.extend(true, settings, name);
    }
    else if(value !== undefined) {
      settings[name] = value;
    }
    else {
      return settings[name];
    }
  },
  internal: function(name, value) {
    if( $.isPlainObject(name) ) {
      $.extend(true, module, name);
    }
    else if(value !== undefined) {
      module[name] = value;
    }
    else {
      return module[name];
    }
  },
  debug: function() {
    if(settings.debug) {
      if(settings.performance) {
        module.performance.log(arguments);
      }
      else {
        module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
        module.debug.apply(console, arguments);
      }
    }
  },
  verbose: function() {
    if(settings.verbose &amp;&amp; settings.debug) {
      if(settings.performance) {
        module.performance.log(arguments);
      }
      else {
        module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
        module.verbose.apply(console, arguments);
      }
    }
  },
  error: function() {
    module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
    module.error.apply(console, arguments);
  },
  performance: {
    log: function(message) {
      var
        currentTime,
        executionTime,
        previousTime
      ;
      if(settings.performance) {
        currentTime   = new Date().getTime();
        previousTime  = time || currentTime;
        executionTime = currentTime - previousTime;
        time          = currentTime;
        performance.push({
          &#39;Element&#39;        : element,
          &#39;Name&#39;           : message[0],
          &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
          &#39;Execution Time&#39; : executionTime
        });
      }
      clearTimeout(module.performance.timer);
      module.performance.timer = setTimeout(module.performance.display, 500);
    },
    display: function() {
      var
        title = settings.name + &#39;:&#39;,
        totalTime = 0
      ;
      time = false;
      clearTimeout(module.performance.timer);
      $.each(performance, function(index, data) {
        totalTime += data[&#39;Execution Time&#39;];
      });
      title += &#39; &#39; + totalTime + &#39;ms&#39;;
      if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
        console.groupCollapsed(title);
        if(console.table) {
          console.table(performance);
        }
        else {
          $.each(performance, function(index, data) {
            console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
          });
        }
        console.groupEnd();
      }
      performance = [];
    }
  },
  invoke: function(query, passedArguments, context) {
    var
      object = instance,
      maxDepth,
      found,
      response
    ;
    passedArguments = passedArguments || queryArguments;
    context         = element         || context;
    if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
      query    = query.split(/[\. ]/);
      maxDepth = query.length - 1;
      $.each(query, function(depth, value) {
        var camelCaseValue = (depth != maxDepth)
          ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
          : query
        ;
        if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
          object = object[camelCaseValue];
        }
        else if( object[camelCaseValue] !== undefined ) {
          found = object[camelCaseValue];
          return false;
        }
        else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
          object = object[value];
        }
        else if( object[value] !== undefined ) {
          found = object[value];
          return false;
        }
        else {
          module.error(error.method, query);
          return false;
        }
      });
    }
    if ( $.isFunction( found ) ) {
      response = found.apply(context, passedArguments);
    }
    else if(found !== undefined) {
      response = found;
    }
    if($.isArray(returnedValue)) {
      returnedValue.push(response);
    }
    else if(returnedValue !== undefined) {
      returnedValue = [returnedValue, response];
    }
    else if(response !== undefined) {
      returnedValue = response;
    }
    return found;
  }
};

if(methodInvoked) {
  if(instance === undefined) {
    module.initialize();
  }
  module.invoke(query);
}
else {
  if(instance !== undefined) {
    module.destroy();
  }
  module.initialize();
}
return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.site.settings = {</p>

<pre>name        : &#39;Site&#39;,
namespace   : &#39;site&#39;,

error : {
  console : &#39;Console cannot be restored, most likely it was overwritten outside of module&#39;,
  method : &#39;The method you called is not defined.&#39;
},

debug       : false,
verbose     : false,
performance : true,

modules: [
  &#39;accordion&#39;,
  &#39;api&#39;,
  &#39;checkbox&#39;,
  &#39;dimmer&#39;,
  &#39;dropdown&#39;,
  &#39;embed&#39;,
  &#39;form&#39;,
  &#39;modal&#39;,
  &#39;nag&#39;,
  &#39;popup&#39;,
  &#39;rating&#39;,
  &#39;shape&#39;,
  &#39;sidebar&#39;,
  &#39;state&#39;,
  &#39;sticky&#39;,
  &#39;tab&#39;,
  &#39;transition&#39;,
  &#39;visit&#39;,
  &#39;visibility&#39;
],

siteNamespace   : &#39;site&#39;,
namespaceStub   : {
  cache     : {},
  config    : {},
  sections  : {},
  section   : {},
  utilities : {}
}</pre>

<p>};</p>

<p>// allows for selection of elements with data attributes $.extend($.expr[
“:” ], {</p>

<pre>data: ($.expr.createPseudo)
  ? $.expr.createPseudo(function(dataName) {
      return function(elem) {
        return !!$.data(elem, dataName);
      };
    })
  : function(elem, i, match) {
    // support: jQuery &lt; 1.8
    return !!$.data(elem, match[ 3 ]);
  }</pre>

<p>});</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Form Validation
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.form = function(parameters) {</p>

<pre>var
  $allModules      = $(this),
  moduleSelector   = $allModules.selector || &#39;&#39;,

  time             = new Date().getTime(),
  performance      = [],

  query            = arguments[0],
  legacyParameters = arguments[1],
  methodInvoked    = (typeof query == &#39;string&#39;),
  queryArguments   = [].slice.call(arguments, 1),
  returnedValue
;
$allModules
  .each(function() {
    var
      $module     = $(this),
      element     = this,

      formErrors  = [],
      keyHeldDown = false,

      // set at run-time
      $field,
      $group,
      $message,
      $prompt,
      $submit,
      $clear,
      $reset,

      settings,
      validation,

      metadata,
      selector,
      className,
      error,

      namespace,
      moduleNamespace,
      eventNamespace,

      instance,
      module
    ;

    module      = {

      initialize: function() {

        // settings grabbed at run time
        module.get.settings();
        if(methodInvoked) {
          if(instance === undefined) {
            module.instantiate();
          }
          module.invoke(query);
        }
        else {
          module.verbose(&#39;Initializing form validation&#39;, $module, settings);
          module.bindEvents();
          module.set.defaults();
          module.instantiate();
        }
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module&#39;, instance);
        module.removeEvents();
        $module
          .removeData(moduleNamespace)
        ;
      },

      refresh: function() {
        module.verbose(&#39;Refreshing selector cache&#39;);
        $field      = $module.find(selector.field);
        $group      = $module.find(selector.group);
        $message    = $module.find(selector.message);
        $prompt     = $module.find(selector.prompt);

        $submit     = $module.find(selector.submit);
        $clear      = $module.find(selector.clear);
        $reset      = $module.find(selector.reset);
      },

      submit: function() {
        module.verbose(&#39;Submitting form&#39;, $module);
        $module
          .submit()
        ;
      },

      attachEvents: function(selector, action) {
        action = action || &#39;submit&#39;;
        $(selector)
          .on(&#39;click&#39; + eventNamespace, function(event) {
            module[action]();
            event.preventDefault();
          })
        ;
      },

      bindEvents: function() {
        module.verbose(&#39;Attaching form events&#39;);
        $module
          .on(&#39;submit&#39; + eventNamespace, module.validate.form)
          .on(&#39;blur&#39;   + eventNamespace, selector.field, module.event.field.blur)
          .on(&#39;click&#39;  + eventNamespace, selector.submit, module.submit)
          .on(&#39;click&#39;  + eventNamespace, selector.reset, module.reset)
          .on(&#39;click&#39;  + eventNamespace, selector.clear, module.clear)
        ;
        if(settings.keyboardShortcuts) {
          $module
            .on(&#39;keydown&#39; + eventNamespace, selector.field, module.event.field.keydown)
          ;
        }
        $field
          .each(function() {
            var
              $input     = $(this),
              type       = $input.prop(&#39;type&#39;),
              inputEvent = module.get.changeEvent(type, $input)
            ;
            $(this)
              .on(inputEvent + eventNamespace, module.event.field.change)
            ;
          })
        ;
      },

      clear: function() {
        $field
          .each(function () {
            var
              $field       = $(this),
              $element     = $field.parent(),
              $fieldGroup  = $field.closest($group),
              $prompt      = $fieldGroup.find(selector.prompt),
              defaultValue = $field.data(metadata.defaultValue) || &#39;&#39;,
              isCheckbox   = $element.is(selector.uiCheckbox),
              isDropdown   = $element.is(selector.uiDropdown),
              isErrored    = $fieldGroup.hasClass(className.error)
            ;
            if(isErrored) {
              module.verbose(&#39;Resetting error on field&#39;, $fieldGroup);
              $fieldGroup.removeClass(className.error);
              $prompt.remove();
            }
            if(isDropdown) {
              module.verbose(&#39;Resetting dropdown value&#39;, $element, defaultValue);
              $element.dropdown(&#39;clear&#39;);
            }
            else if(isCheckbox) {
              $field.prop(&#39;checked&#39;, false);
            }
            else {
              module.verbose(&#39;Resetting field value&#39;, $field, defaultValue);
              $field.val(&#39;&#39;);
            }
          })
        ;
      },

      reset: function() {
        $field
          .each(function () {
            var
              $field       = $(this),
              $element     = $field.parent(),
              $fieldGroup  = $field.closest($group),
              $prompt      = $fieldGroup.find(selector.prompt),
              defaultValue = $field.data(metadata.defaultValue),
              isCheckbox   = $element.is(selector.uiCheckbox),
              isDropdown   = $element.is(selector.uiDropdown),
              isErrored    = $fieldGroup.hasClass(className.error)
            ;
            if(defaultValue === undefined) {
              return;
            }
            if(isErrored) {
              module.verbose(&#39;Resetting error on field&#39;, $fieldGroup);
              $fieldGroup.removeClass(className.error);
              $prompt.remove();
            }
            if(isDropdown) {
              module.verbose(&#39;Resetting dropdown value&#39;, $element, defaultValue);
              $element.dropdown(&#39;restore defaults&#39;);
            }
            else if(isCheckbox) {
              module.verbose(&#39;Resetting checkbox value&#39;, $element, defaultValue);
              $field.prop(&#39;checked&#39;, defaultValue);
            }
            else {
              module.verbose(&#39;Resetting field value&#39;, $field, defaultValue);
              $field.val(defaultValue);
            }
          })
        ;
      },

      is: {
        bracketedRule: function(rule) {
          return (rule.type &amp;&amp; rule.type.match(settings.regExp.bracket));
        },
        valid: function() {
          var
            allValid = true
          ;
          module.verbose(&#39;Checking if form is valid&#39;);
          $.each(validation, function(fieldName, field) {
            if( !( module.validate.field(field, fieldName) ) ) {
              allValid = false;
            }
          });
          return allValid;
        }
      },

      removeEvents: function() {
        $module
          .off(eventNamespace)
        ;
        $field
          .off(eventNamespace)
        ;
        $submit
          .off(eventNamespace)
        ;
        $field
          .off(eventNamespace)
        ;
      },

      event: {
        field: {
          keydown: function(event) {
            var
              $field  = $(this),
              key     = event.which,
              keyCode = {
                enter  : 13,
                escape : 27
              }
            ;
            if( key == keyCode.escape) {
              module.verbose(&#39;Escape key pressed blurring field&#39;);
              $field
                .blur()
              ;
            }
            if(!event.ctrlKey &amp;&amp; key == keyCode.enter &amp;&amp; $field.is(selector.input) &amp;&amp; $field.not(selector.checkbox).length &gt; 0 ) {
              if(!keyHeldDown) {
                $field
                  .one(&#39;keyup&#39; + eventNamespace, module.event.field.keyup)
                ;
                module.submit();
                module.debug(&#39;Enter pressed on input submitting form&#39;);
              }
              keyHeldDown = true;
            }
          },
          keyup: function() {
            keyHeldDown = false;
          },
          blur: function(event) {
            var
              $field          = $(this),
              $fieldGroup     = $field.closest($group),
              validationRules = module.get.validation($field)
            ;
            if( $fieldGroup.hasClass(className.error) ) {
              module.debug(&#39;Revalidating field&#39;, $field, validationRules);
              module.validate.form.call(module, event, true);
            }
            else if(settings.on == &#39;blur&#39; || settings.on == &#39;change&#39;) {
              if(validationRules) {
                module.validate.field( validationRules );
              }
            }
          },
          change: function(event) {
            var
              $field      = $(this),
              $fieldGroup = $field.closest($group)
            ;
            if(settings.on == &#39;change&#39; || ( $fieldGroup.hasClass(className.error) &amp;&amp; settings.revalidate) ) {
              clearTimeout(module.timer);
              module.timer = setTimeout(function() {
                module.debug(&#39;Revalidating field&#39;, $field,  module.get.validation($field));
                module.validate.form.call(module, event, true);
              }, settings.delay);
            }
          }
        }

      },

      get: {
        ancillaryValue: function(rule) {
          if(!rule.type || !module.is.bracketedRule(rule)) {
            return false;
          }
          return rule.type.match(settings.regExp.bracket)[1] + &#39;&#39;;
        },
        ruleName: function(rule) {
          if( module.is.bracketedRule(rule) ) {
            return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], &#39;&#39;);
          }
          return rule.type;
        },
        changeEvent: function(type, $input) {
          if(type == &#39;checkbox&#39; || type == &#39;radio&#39; || type == &#39;hidden&#39; || $input.is(&#39;select&#39;)) {
            return &#39;change&#39;;
          }
          else {
            return module.get.inputEvent();
          }
        },
        inputEvent: function() {
          return (document.createElement(&#39;input&#39;).oninput !== undefined)
            ? &#39;input&#39;
            : (document.createElement(&#39;input&#39;).onpropertychange !== undefined)
              ? &#39;propertychange&#39;
              : &#39;keyup&#39;
          ;
        },
        prompt: function(rule, field) {
          var
            ruleName      = module.get.ruleName(rule),
            ancillary     = module.get.ancillaryValue(rule),
            prompt        = rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,
            requiresValue = (prompt.search(&#39;{value}&#39;) !== -1),
            requiresName  = (prompt.search(&#39;{name}&#39;) !== -1),
            $label,
            $field,
            name
          ;
          if(requiresName || requiresValue) {
            $field = module.get.field(field.identifier);
          }
          if(requiresValue) {
            prompt = prompt.replace(&#39;{value}&#39;, $field.val());
          }
          if(requiresName) {
            $label = $field.closest(selector.group).find(&#39;label&#39;).eq(0);
            name = ($label.size() == 1)
              ? $label.text()
              : $field.prop(&#39;placeholder&#39;) || settings.text.unspecifiedField
            ;
            prompt = prompt.replace(&#39;{name}&#39;, name);
          }
          prompt = prompt.replace(&#39;{identifier}&#39;, field.identifier);
          prompt = prompt.replace(&#39;{ruleValue}&#39;, ancillary);
          if(!rule.prompt) {
            module.verbose(&#39;Using default validation prompt for type&#39;, prompt, ruleName);
          }
          return prompt;
        },
        settings: function() {
          if($.isPlainObject(parameters)) {
            var
              keys     = Object.keys(parameters),
              isLegacySettings = (keys.length &gt; 0)
                ? (parameters[keys[0]].identifier !== undefined &amp;&amp; parameters[keys[0]].rules !== undefined)
                : false,
              ruleKeys
            ;
            if(isLegacySettings) {
              // 1.x (ducktyped)
              settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);
              validation = $.extend({}, $.fn.form.settings.defaults, parameters);
              module.error(settings.error.oldSyntax, element);
              module.verbose(&#39;Extending settings from legacy parameters&#39;, validation, settings);
            }
            else {
              // 2.x
              if(parameters.fields) {
                ruleKeys = Object.keys(parameters.fields);
                if( typeof parameters.fields[ruleKeys[0]] == &#39;string&#39; || $.isArray(parameters.fields[ruleKeys[0]]) ) {
                  $.each(parameters.fields, function(name, rules) {
                    if(typeof rules == &#39;string&#39;) {
                      rules = [rules];
                    }
                    parameters.fields[name] = {
                      rules: []
                    };
                    $.each(rules, function(index, rule) {
                      parameters.fields[name].rules.push({ type: rule });
                    });
                  });
                }
              }

              settings   = $.extend(true, {}, $.fn.form.settings, parameters);
              validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);
              module.verbose(&#39;Extending settings&#39;, validation, settings);
            }
          }
          else {
            settings   = $.fn.form.settings;
            validation = $.fn.form.settings.defaults;
            module.verbose(&#39;Using default form validation&#39;, validation, settings);
          }

          // shorthand
          namespace       = settings.namespace;
          metadata        = settings.metadata;
          selector        = settings.selector;
          className       = settings.className;
          error           = settings.error;
          moduleNamespace = &#39;module-&#39; + namespace;
          eventNamespace  = &#39;.&#39; + namespace;

          // grab instance
          instance = $module.data(moduleNamespace);

          // refresh selector cache
          module.refresh();
        },
        field: function(identifier) {
          module.verbose(&#39;Finding field with identifier&#39;, identifier);
          if( $field.filter(&#39;#&#39; + identifier).length &gt; 0 ) {
            return $field.filter(&#39;#&#39; + identifier);
          }
          else if( $field.filter(&#39;[name=&quot;&#39; + identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
            return $field.filter(&#39;[name=&quot;&#39; + identifier +&#39;&quot;]&#39;);
          }
          else if( $field.filter(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;).length &gt; 0 ) {
            return $field.filter(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;);
          }
          else if( $field.filter(&#39;[data-&#39; + metadata.validate + &#39;=&quot;&#39;+ identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
            return $field.filter(&#39;[data-&#39; + metadata.validate + &#39;=&quot;&#39;+ identifier +&#39;&quot;]&#39;);
          }
          return $(&#39;&lt;input/&gt;&#39;);
        },
        fields: function(fields) {
          var
            $fields = $()
          ;
          $.each(fields, function(index, name) {
            $fields = $fields.add( module.get.field(name) );
          });
          return $fields;
        },
        validation: function($field) {
          var
            fieldValidation,
            identifier
          ;
          if(!validation) {
            return false;
          }
          $.each(validation, function(fieldName, field) {
            identifier = field.identifier || fieldName;
            if( module.get.field(identifier)[0] == $field[0] ) {
              field.identifier = identifier;
              fieldValidation = field;
            }
          });
          return fieldValidation || false;
        },
        value: function (field) {
          var
            fields = [],
            results
          ;
          fields.push(field);
          results = module.get.values.call(element, fields);
          return results[field];
        },
        values: function (fields) {
          var
            $fields = $.isArray(fields)
              ? module.get.fields(fields)
              : $field,
            values = {}
          ;
          $fields.each(function(index, field) {
            var
              $field     = $(field),
              type       = $field.prop(&#39;type&#39;),
              name       = $field.prop(&#39;name&#39;),
              value      = $field.val(),
              isCheckbox = $field.is(selector.checkbox),
              isRadio    = $field.is(selector.radio),
              isMultiple = (name.indexOf(&#39;[]&#39;) !== -1),
              isChecked  = (isCheckbox)
                ? $field.is(&#39;:checked&#39;)
                : false
            ;
            if(name) {
              if(isMultiple) {
                name = name.replace(&#39;[]&#39;, &#39;&#39;);
                if(!values[name]) {
                  values[name] = [];
                }
                if(isCheckbox) {
                  if(isChecked) {
                    values[name].push(value || true);
                  }
                  else {
                    values[name].push(false);
                  }
                }
                else {
                  values[name].push(value);
                }
              }
              else {
                if(isRadio) {
                  if(isChecked) {
                    values[name] = value;
                  }
                }
                else if(isCheckbox) {
                  if(isChecked) {
                    values[name] = value || true;
                  }
                  else {
                    values[name] = false;
                  }
                }
                else {
                  values[name] = value;
                }
              }
            }
          });
          return values;
        }
      },

      has: {

        field: function(identifier) {
          module.verbose(&#39;Checking for existence of a field with identifier&#39;, identifier);
          if(typeof identifier !== &#39;string&#39;) {
            module.error(error.identifier, identifier);
          }
          if( $field.filter(&#39;#&#39; + identifier).length &gt; 0 ) {
            return true;
          }
          else if( $field.filter(&#39;[name=&quot;&#39; + identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
            return true;
          }
          else if( $field.filter(&#39;[data-&#39; + metadata.validate + &#39;=&quot;&#39;+ identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
            return true;
          }
          return false;
        }

      },

      add: {
        prompt: function(identifier, errors) {
          var
            $field       = module.get.field(identifier),
            $fieldGroup  = $field.closest($group),
            $prompt      = $fieldGroup.children(selector.prompt),
            promptExists = ($prompt.length !== 0)
          ;
          errors = (typeof errors == &#39;string&#39;)
            ? [errors]
            : errors
          ;
          module.verbose(&#39;Adding field error state&#39;, identifier);
          $fieldGroup
            .addClass(className.error)
          ;
          if(settings.inline) {
            if(!promptExists) {
              $prompt = settings.templates.prompt(errors);
              $prompt
                .appendTo($fieldGroup)
              ;
            }
            $prompt
              .html(errors[0])
            ;
            if(!promptExists) {
              if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
                module.verbose(&#39;Displaying error with css transition&#39;, settings.transition);
                $prompt.transition(settings.transition + &#39; in&#39;, settings.duration);
              }
              else {
                module.verbose(&#39;Displaying error with fallback javascript animation&#39;);
                $prompt
                  .fadeIn(settings.duration)
                ;
              }
            }
            else {
              module.verbose(&#39;Inline errors are disabled, no inline error added&#39;, identifier);
            }
          }
        },
        errors: function(errors) {
          module.debug(&#39;Adding form error messages&#39;, errors);
          module.set.error();
          $message
            .html( settings.templates.error(errors) )
          ;
        }
      },

      remove: {
        prompt: function(identifier) {
          var
            $field      = module.get.field(identifier),
            $fieldGroup = $field.closest($group),
            $prompt     = $fieldGroup.children(selector.prompt)
          ;
          $fieldGroup
            .removeClass(className.error)
          ;
          if(settings.inline &amp;&amp; $prompt.is(&#39;:visible&#39;)) {
            module.verbose(&#39;Removing prompt for field&#39;, identifier);
            if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              $prompt.transition(settings.transition + &#39; out&#39;, settings.duration, function() {
                $prompt.remove();
              });
            }
            else {
              $prompt
                .fadeOut(settings.duration, function(){
                  $prompt.remove();
                })
              ;
            }
          }
        }
      },

      set: {
        success: function() {
          $module
            .removeClass(className.error)
            .addClass(className.success)
          ;
        },
        defaults: function () {
          $field
            .each(function () {
              var
                $field     = $(this),
                isCheckbox = ($field.filter(selector.checkbox).length &gt; 0),
                value      = (isCheckbox)
                  ? $field.is(&#39;:checked&#39;)
                  : $field.val()
              ;
              $field.data(metadata.defaultValue, value);
            })
          ;
        },
        error: function() {
          $module
            .removeClass(className.success)
            .addClass(className.error)
          ;
        },
        value: function (field, value) {
          var
            fields = {}
          ;
          fields[field] = value;
          return module.set.values.call(element, fields);
        },
        values: function (fields) {
          if($.isEmptyObject(fields)) {
            return;
          }
          $.each(fields, function(key, value) {
            var
              $field      = module.get.field(key),
              $element    = $field.parent(),
              isMultiple  = $.isArray(value),
              isCheckbox  = $element.is(selector.uiCheckbox),
              isDropdown  = $element.is(selector.uiDropdown),
              isRadio     = ($field.is(selector.radio) &amp;&amp; isCheckbox),
              fieldExists = ($field.length &gt; 0),
              $multipleField
            ;
            if(fieldExists) {
              if(isMultiple &amp;&amp; isCheckbox) {
                module.verbose(&#39;Selecting multiple&#39;, value, $field);
                $element.checkbox(&#39;uncheck&#39;);
                $.each(value, function(index, value) {
                  $multipleField = $field.filter(&#39;[value=&quot;&#39; + value + &#39;&quot;]&#39;);
                  $element       = $multipleField.parent();
                  if($multipleField.length &gt; 0) {
                    $element.checkbox(&#39;check&#39;);
                  }
                });
              }
              else if(isRadio) {
                module.verbose(&#39;Selecting radio value&#39;, value, $field);
                $field.filter(&#39;[value=&quot;&#39; + value + &#39;&quot;]&#39;)
                  .parent(selector.uiCheckbox)
                    .checkbox(&#39;check&#39;)
                ;
              }
              else if(isCheckbox) {
                module.verbose(&#39;Setting checkbox value&#39;, value, $element);
                if(value === true) {
                  $element.checkbox(&#39;check&#39;);
                }
                else {
                  $element.checkbox(&#39;uncheck&#39;);
                }
              }
              else if(isDropdown) {
                module.verbose(&#39;Setting dropdown value&#39;, value, $element);
                $element.dropdown(&#39;set selected&#39;, value);
              }
              else {
                module.verbose(&#39;Setting field value&#39;, value, $field);
                $field.val(value);
              }
            }
          });
        }
      },

      validate: {

        form: function(event, ignoreCallbacks) {
          var
            values = module.get.values(),
            apiRequest
          ;

          // input keydown event will fire submit repeatedly by browser default
          if(keyHeldDown) {
            return false;
          }

          // reset errors
          formErrors = [];
          if( module.is.valid() ) {
            module.debug(&#39;Form has no validation errors, submitting&#39;);
            module.set.success();
            if(ignoreCallbacks !== true) {
              return settings.onSuccess.call(element, event, values);
            }
          }
          else {
            module.debug(&#39;Form has errors&#39;);
            module.set.error();
            if(!settings.inline) {
              module.add.errors(formErrors);
            }
            // prevent ajax submit
            if($module.data(&#39;moduleApi&#39;) !== undefined) {
              event.stopImmediatePropagation();
            }
            if(ignoreCallbacks !== true) {
              return settings.onFailure.call(element, formErrors, values);
            }
          }
        },

        // takes a validation object and returns whether field passes validation
        field: function(field, fieldName) {
          var
            identifier  = field.identifier || fieldName,
            $field      = module.get.field(identifier),
            fieldValid  = true,
            fieldErrors = []
          ;
          if(!field.identifier) {
            module.debug(&#39;Using field name as identifier&#39;, identifier);
            field.identifier = identifier;
          }
          if($field.prop(&#39;disabled&#39;)) {
            module.debug(&#39;Field is disabled. Skipping&#39;, identifier);
            fieldValid = true;
          }
          else if(field.optional &amp;&amp; $.trim($field.val()) === &#39;&#39;){
            module.debug(&#39;Field is optional and empty. Skipping&#39;, identifier);
            fieldValid = true;
          }
          else if(field.rules !== undefined) {
            $.each(field.rules, function(index, rule) {
              if( module.has.field(identifier) &amp;&amp; !( module.validate.rule(field, rule) ) ) {
                module.debug(&#39;Field is invalid&#39;, identifier, rule.type);
                fieldErrors.push(module.get.prompt(rule, field));
                fieldValid = false;
              }
            });
          }
          if(fieldValid) {
            module.remove.prompt(identifier, fieldErrors);
            settings.onValid.call($field);
          }
          else {
            formErrors = formErrors.concat(fieldErrors);
            module.add.prompt(identifier, fieldErrors);
            settings.onInvalid.call($field, fieldErrors);
            return false;
          }
          return true;
        },

        // takes validation rule and returns whether field passes rule
        rule: function(field, rule) {
          var
            $field       = module.get.field(field.identifier),
            type         = rule.type,
            value        = $field.val(),
            isValid      = true,
            ancillary    = module.get.ancillaryValue(rule),
            ruleName     = module.get.ruleName(rule),
            ruleFunction = settings.rules[ruleName]
          ;
          if( !$.isFunction(ruleFunction) ) {
            module.error(error.noRule, ruleName);
            return;
          }
          // cast to string avoiding encoding special values
          value = (value === undefined || value === &#39;&#39; || value === null)
            ? &#39;&#39;
            : $.trim(value + &#39;&#39;)
          ;
          return ruleFunction.call($field, value, ancillary);
        }
      },

      setting: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };
    module.initialize();
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.form.settings = {</p>

<pre>name              : &#39;Form&#39;,
namespace         : &#39;form&#39;,

debug             : false,
verbose           : false,
performance       : true,

fields            : false,

keyboardShortcuts : true,
on                : &#39;submit&#39;,
inline            : false,

delay             : 200,
revalidate        : true,

transition        : &#39;scale&#39;,
duration          : 200,

onValid           : function() {},
onInvalid         : function() {},
onSuccess         : function() { return true; },
onFailure         : function() { return false; },

metadata : {
  defaultValue : &#39;default&#39;,
  validate     : &#39;validate&#39;
},

regExp: {
  bracket : /\[(.*)\]/i,
  decimal : /^\d*(\.)\d+/,
  email   : &quot;[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;,
  escape  : /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
  flags   : /^\/(.*)\/(.*)?/,
  integer : /^\-?\d+$/,
  number  : /^\-?\d*(\.\d+)?$/,
  url     : /(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i
},

text: {
  unspecifiedRule  : &#39;Please enter a valid value&#39;,
  unspecifiedField : &#39;This field&#39;
},

prompt: {
  empty                : &#39;{name} must have a value&#39;,
  checked              : &#39;{name} must be checked&#39;,
  email                : &#39;{name} must be a valid e-mail&#39;,
  url                  : &#39;{name} must be a valid url&#39;,
  regExp               : &#39;{name} is not formatted correctly&#39;,
  integer              : &#39;{name} must be an integer&#39;,
  decimal              : &#39;{name} must be a decimal number&#39;,
  number               : &#39;{name} must be set to a number&#39;,
  is                   : &#39;{name} must be &quot;{ruleValue}&quot;&#39;,
  isExactly            : &#39;{name} must be exactly &quot;{ruleValue}&quot;&#39;,
  not                  : &#39;{name} cannot be set to &quot;{ruleValue}&quot;&#39;,
  notExactly           : &#39;{name} cannot be set to exactly &quot;{ruleValue}&quot;&#39;,
  contain              : &#39;{name} cannot contain &quot;{ruleValue}&quot;&#39;,
  containExactly       : &#39;{name} cannot contain exactly &quot;{ruleValue}&quot;&#39;,
  doesntContain        : &#39;{name} must contain  &quot;{ruleValue}&quot;&#39;,
  doesntContainExactly : &#39;{name} must contain exactly &quot;{ruleValue}&quot;&#39;,
  minLength            : &#39;{name} must be at least {ruleValue} characters&#39;,
  length               : &#39;{name} must be at least {ruleValue} characters&#39;,
  exactLength          : &#39;{name} must be exactly {ruleValue} characters&#39;,
  maxLength            : &#39;{name} cannot be longer than {ruleValue} characters&#39;,
  match                : &#39;{name} must match {ruleValue} field&#39;,
  different            : &#39;{name} must have a different value than {ruleValue} field&#39;,
  creditCard           : &#39;{name} must be a valid credit card number&#39;,
  minCount             : &#39;{name} must have at least {ruleValue} choices&#39;,
  exactCount           : &#39;{name} must have exactly {ruleValue} choices&#39;,
  maxCount             : &#39;{name} must have {ruleValue} or less choices&#39;
},

selector : {
  checkbox   : &#39;input[type=&quot;checkbox&quot;], input[type=&quot;radio&quot;]&#39;,
  clear      : &#39;.clear&#39;,
  field      : &#39;input, textarea, select&#39;,
  group      : &#39;.field&#39;,
  input      : &#39;input&#39;,
  message    : &#39;.error.message&#39;,
  prompt     : &#39;.prompt.label&#39;,
  radio      : &#39;input[type=&quot;radio&quot;]&#39;,
  reset      : &#39;.reset:not([type=&quot;reset&quot;])&#39;,
  submit     : &#39;.submit:not([type=&quot;submit&quot;])&#39;,
  uiCheckbox : &#39;.ui.checkbox&#39;,
  uiDropdown : &#39;.ui.dropdown&#39;
},

className : {
  error   : &#39;error&#39;,
  label   : &#39;ui prompt label&#39;,
  pressed : &#39;down&#39;,
  success : &#39;success&#39;
},

error: {
  identifier : &#39;You must specify a string identifier for each field&#39;,
  method     : &#39;The method you called is not defined.&#39;,
  noRule     : &#39;There is no rule matching the one you specified&#39;,
  oldSyntax  : &#39;Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.&#39;
},

templates: {

  // template that produces error message
  error: function(errors) {
    var
      html = &#39;&lt;ul class=&quot;list&quot;&gt;&#39;
    ;
    $.each(errors, function(index, value) {
      html += &#39;&lt;li&gt;&#39; + value + &#39;&lt;/li&gt;&#39;;
    });
    html += &#39;&lt;/ul&gt;&#39;;
    return $(html);
  },

  // template that produces label
  prompt: function(errors) {
    return $(&#39;&lt;div/&gt;&#39;)
      .addClass(&#39;ui basic red pointing prompt label&#39;)
      .html(errors[0])
    ;
  }
},

rules: {

  // is not empty or blank string
  empty: function(value) {
    return !(value === undefined || &#39;&#39; === value || $.isArray(value) &amp;&amp; value.length === 0);
  },

  // checkbox checked
  checked: function() {
    return ($(this).filter(&#39;:checked&#39;).length &gt; 0);
  },

  // is most likely an email
  email: function(value){
    var
      emailRegExp = new RegExp($.fn.form.settings.regExp.email, &#39;i&#39;)
    ;
    return emailRegExp.test(value);
  },

  // value is most likely url
  url: function(value) {
    return $.fn.form.settings.regExp.url.test(value);
  },

  // matches specified regExp
  regExp: function(value, regExp) {
    var
      regExpParts = regExp.match($.fn.form.settings.regExp.flags),
      flags
    ;
    // regular expression specified as /baz/gi (flags)
    if(regExpParts) {
      regExp = (regExpParts.length &gt;= 2)
        ? regExpParts[1]
        : regExp
      ;
      flags = (regExpParts.length &gt;= 3)
        ? regExpParts[2]
        : &#39;&#39;
      ;
    }
    return value.match( new RegExp(regExp, flags) );
  },

  // is valid integer or matches range
  integer: function(value, range) {
    var
      intRegExp = $.fn.form.settings.regExp.integer,
      min,
      max,
      parts
    ;
    if( !range || [&#39;&#39;, &#39;..&#39;].indexOf(range) !== -1) {
      // do nothing
    }
    else if(range.indexOf(&#39;..&#39;) == -1) {
      if(intRegExp.test(range)) {
        min = max = range - 0;
      }
    }
    else {
      parts = range.split(&#39;..&#39;, 2);
      if(intRegExp.test(parts[0])) {
        min = parts[0] - 0;
      }
      if(intRegExp.test(parts[1])) {
        max = parts[1] - 0;
      }
    }
    return (
      intRegExp.test(value) &amp;&amp;
      (min === undefined || value &gt;= min) &amp;&amp;
      (max === undefined || value &lt;= max)
    );
  },

  // is valid number (with decimal)
  decimal: function(value) {
    return $.fn.form.settings.regExp.decimal.test(value);
  },

  // is valid number
  number: function(value) {
    return $.fn.form.settings.regExp.number.test(value);
  },

  // is value (case insensitive)
  is: function(value, text) {
    text = (typeof text == &#39;string&#39;)
      ? text.toLowerCase()
      : text
    ;
    value = (typeof value == &#39;string&#39;)
      ? value.toLowerCase()
      : value
    ;
    return (value == text);
  },

  // is value
  isExactly: function(value, text) {
    return (value == text);
  },

  // value is not another value (case insensitive)
  not: function(value, notValue) {
    value = (typeof value == &#39;string&#39;)
      ? value.toLowerCase()
      : value
    ;
    notValue = (typeof notValue == &#39;string&#39;)
      ? notValue.toLowerCase()
      : notValue
    ;
    return (value != notValue);
  },

  // value is not another value (case sensitive)
  notExactly: function(value, notValue) {
    return (value != notValue);
  },

  // value contains text (insensitive)
  contains: function(value, text) {
    // escape regex characters
    text = text.replace($.fn.form.settings.regExp.escape, &quot;\\$&amp;&quot;);
    return (value.search( new RegExp(text, &#39;i&#39;) ) !== -1);
  },

  // value contains text (case sensitive)
  containsExactly: function(value, text) {
    // escape regex characters
    text = text.replace($.fn.form.settings.regExp.escape, &quot;\\$&amp;&quot;);
    return (value.search( new RegExp(text) ) !== -1);
  },

  // value contains text (insensitive)
  doesntContain: function(value, text) {
    // escape regex characters
    text = text.replace($.fn.form.settings.regExp.escape, &quot;\\$&amp;&quot;);
    return (value.search( new RegExp(text, &#39;i&#39;) ) === -1);
  },

  // value contains text (case sensitive)
  doesntContainExactly: function(value, text) {
    // escape regex characters
    text = text.replace($.fn.form.settings.regExp.escape, &quot;\\$&amp;&quot;);
    return (value.search( new RegExp(text) ) === -1);
  },

  // is at least string length
  minLength: function(value, requiredLength) {
    return (value !== undefined)
      ? (value.length &gt;= requiredLength)
      : false
    ;
  },

  // see rls notes for 2.0.6 (this is a duplicate of minLength)
  length: function(value, requiredLength) {
    return (value !== undefined)
      ? (value.length &gt;= requiredLength)
      : false
    ;
  },

  // is exactly length
  exactLength: function(value, requiredLength) {
    return (value !== undefined)
      ? (value.length == requiredLength)
      : false
    ;
  },

  // is less than length
  maxLength: function(value, maxLength) {
    return (value !== undefined)
      ? (value.length &lt;= maxLength)
      : false
    ;
  },

  // matches another field
  match: function(value, identifier) {
    var
      $form = $(this),
      matchingValue
    ;
    if( $(&#39;[data-validate=&quot;&#39;+ identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
      matchingValue = $(&#39;[data-validate=&quot;&#39;+ identifier +&#39;&quot;]&#39;).val();
    }
    else if($(&#39;#&#39; + identifier).length &gt; 0) {
      matchingValue = $(&#39;#&#39; + identifier).val();
    }
    else if($(&#39;[name=&quot;&#39; + identifier +&#39;&quot;]&#39;).length &gt; 0) {
      matchingValue = $(&#39;[name=&quot;&#39; + identifier + &#39;&quot;]&#39;).val();
    }
    else if( $(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;).length &gt; 0 ) {
      matchingValue = $(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;);
    }
    return (matchingValue !== undefined)
      ? ( value.toString() == matchingValue.toString() )
      : false
    ;
  },

  // different than another field
  different: function(value, identifier) {
    // use either id or name of field
    var
      $form = $(this),
      matchingValue
    ;
    if( $(&#39;[data-validate=&quot;&#39;+ identifier +&#39;&quot;]&#39;).length &gt; 0 ) {
      matchingValue = $(&#39;[data-validate=&quot;&#39;+ identifier +&#39;&quot;]&#39;).val();
    }
    else if($(&#39;#&#39; + identifier).length &gt; 0) {
      matchingValue = $(&#39;#&#39; + identifier).val();
    }
    else if($(&#39;[name=&quot;&#39; + identifier +&#39;&quot;]&#39;).length &gt; 0) {
      matchingValue = $(&#39;[name=&quot;&#39; + identifier + &#39;&quot;]&#39;).val();
    }
    else if( $(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;).length &gt; 0 ) {
      matchingValue = $(&#39;[name=&quot;&#39; + identifier +&#39;[]&quot;]&#39;);
    }
    return (matchingValue !== undefined)
      ? ( value.toString() !== matchingValue.toString() )
      : false
    ;
  },

  creditCard: function(cardNumber, cardTypes) {
    var
      cards = {
        visa: {
          pattern : /^4/,
          length  : [16]
        },
        amex: {
          pattern : /^3[47]/,
          length  : [15]
        },
        mastercard: {
          pattern : /^5[1-5]/,
          length  : [16]
        },
        discover: {
          pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,
          length  : [16]
        },
        unionPay: {
          pattern : /^(62|88)/,
          length  : [16, 17, 18, 19]
        },
        jcb: {
          pattern : /^35(2[89]|[3-8][0-9])/,
          length  : [16]
        },
        maestro: {
          pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,
          length  : [12, 13, 14, 15, 16, 17, 18, 19]
        },
        dinersClub: {
          pattern : /^(30[0-5]|^36)/,
          length  : [14]
        },
        laser: {
          pattern : /^(6304|670[69]|6771)/,
          length  : [16, 17, 18, 19]
        },
        visaElectron: {
          pattern : /^(4026|417500|4508|4844|491(3|7))/,
          length  : [16]
        }
      },
      valid         = {},
      validCard     = false,
      requiredTypes = (typeof cardTypes == &#39;string&#39;)
        ? cardTypes.split(&#39;,&#39;)
        : false,
      unionPay,
      validation
    ;

    if(typeof cardNumber !== &#39;string&#39; || cardNumber.length === 0) {
      return;
    }

    // verify card types
    if(requiredTypes) {
      $.each(requiredTypes, function(index, type){
        // verify each card type
        validation = cards[type];
        if(validation) {
          valid = {
            length  : ($.inArray(cardNumber.length, validation.length) !== -1),
            pattern : (cardNumber.search(validation.pattern) !== -1)
          };
          if(valid.length &amp;&amp; valid.pattern) {
            validCard = true;
          }
        }
      });

      if(!validCard) {
        return false;
      }
    }

    // skip luhn for UnionPay
    unionPay = {
      number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),
      pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)
    };
    if(unionPay.number &amp;&amp; unionPay.pattern) {
      return true;
    }

    // verify luhn, adapted from  &lt;https://gist.github.com/2134376&gt;
    var
      length        = cardNumber.length,
      multiple      = 0,
      producedValue = [
        [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
        [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]
      ],
      sum           = 0
    ;
    while (length--) {
      sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];
      multiple ^= 1;
    }
    return (sum % 10 === 0 &amp;&amp; sum &gt; 0);
  },

  minCount: function(value, minCount) {
    if(minCount == 0) {
      return true;
    }
    if(minCount == 1) {
      return (value !== &#39;&#39;);
    }
    return (value.split(&#39;,&#39;).length &gt;= minCount);
  },

  exactCount: function(value, exactCount) {
    if(exactCount == 0) {
      return (value === &#39;&#39;);
    }
    if(exactCount == 1) {
      return (value !== &#39;&#39; &amp;&amp; value.search(&#39;,&#39;) === -1);
    }
    return (value.split(&#39;,&#39;).length == exactCount);
  },

  maxCount: function(value, maxCount) {
    if(maxCount == 0) {
      return false;
    }
    if(maxCount == 1) {
      return (value.search(&#39;,&#39;) === -1);
    }
    return (value.split(&#39;,&#39;).length &lt;= maxCount);
  }
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Accordion
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.accordion = function(parameters) {</p>

<pre>var
  $allModules     = $(this),

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  requestAnimationFrame = window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || function(callback) { setTimeout(callback, 0); },

  returnedValue
;
$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.accordion.settings, parameters)
        : $.extend({}, $.fn.accordion.settings),

      className       = settings.className,
      namespace       = settings.namespace,
      selector        = settings.selector,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,
      moduleSelector  = $allModules.selector || &#39;&#39;,

      $module  = $(this),
      $title   = $module.find(selector.title),
      $content = $module.find(selector.content),

      element  = this,
      instance = $module.data(moduleNamespace),
      observer,
      module
    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing&#39;, $module);
        module.bind.events();
        if(settings.observeChanges) {
          module.observeChanges();
        }
        module.instantiate();
      },

      instantiate: function() {
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.debug(&#39;Destroying previous instance&#39;, $module);
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
      },

      refresh: function() {
        $title   = $module.find(selector.title);
        $content = $module.find(selector.content);
      },

      observeChanges: function() {
        if(&#39;MutationObserver&#39; in window) {
          observer = new MutationObserver(function(mutations) {
            module.debug(&#39;DOM tree modified, updating selector cache&#39;);
            module.refresh();
          });
          observer.observe(element, {
            childList : true,
            subtree   : true
          });
          module.debug(&#39;Setting up mutation observer&#39;, observer);
        }
      },

      bind: {
        events: function() {
          module.debug(&#39;Binding delegated events&#39;);
          $module
            .on(settings.on + eventNamespace, selector.trigger, module.event.click)
          ;
        }
      },

      event: {
        click: function() {
          module.toggle.call(this);
        }
      },

      toggle: function(query) {
        var
          $activeTitle = (query !== undefined)
            ? (typeof query === &#39;number&#39;)
              ? $title.eq(query)
              : $(query).closest(selector.title)
            : $(this).closest(selector.title),
          $activeContent = $activeTitle.next($content),
          isAnimating = $activeContent.hasClass(className.animating),
          isActive    = $activeContent.hasClass(className.active),
          isOpen      = (isActive &amp;&amp; !isAnimating),
          isOpening   = (!isActive &amp;&amp; isAnimating)
        ;
        module.debug(&#39;Toggling visibility of content&#39;, $activeTitle);
        if(isOpen || isOpening) {
          if(settings.collapsible) {
            module.close.call($activeTitle);
          }
          else {
            module.debug(&#39;Cannot close accordion content collapsing is disabled&#39;);
          }
        }
        else {
          module.open.call($activeTitle);
        }
      },

      open: function(query) {
        var
          $activeTitle = (query !== undefined)
            ? (typeof query === &#39;number&#39;)
              ? $title.eq(query)
              : $(query).closest(selector.title)
            : $(this).closest(selector.title),
          $activeContent = $activeTitle.next($content),
          isAnimating = $activeContent.hasClass(className.animating),
          isActive    = $activeContent.hasClass(className.active),
          isOpen      = (isActive || isAnimating)
        ;
        if(isOpen) {
          module.debug(&#39;Accordion already open, skipping&#39;, $activeContent);
          return;
        }
        module.debug(&#39;Opening accordion content&#39;, $activeTitle);
        settings.onOpening.call($activeContent);
        if(settings.exclusive) {
          module.closeOthers.call($activeTitle);
        }
        $activeTitle
          .addClass(className.active)
        ;
        $activeContent
          .stop(true, true)
          .addClass(className.animating)
        ;
        if(settings.animateChildren) {
          if($.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
            $activeContent
              .children()
                .transition({
                  animation   : &#39;fade in&#39;,
                  queue       : false,
                  useFailSafe : true,
                  debug       : settings.debug,
                  verbose     : settings.verbose,
                  duration    : settings.duration
                })
            ;
          }
          else {
            $activeContent
              .children()
                .stop(true, true)
                .animate({
                  opacity: 1
                }, settings.duration, module.resetOpacity)
            ;
          }
        }
        $activeContent
          .slideDown(settings.duration, settings.easing, function() {
            $activeContent
              .removeClass(className.animating)
              .addClass(className.active)
            ;
            module.reset.display.call(this);
            settings.onOpen.call(this);
            settings.onChange.call(this);
          })
        ;
      },

      close: function(query) {
        var
          $activeTitle = (query !== undefined)
            ? (typeof query === &#39;number&#39;)
              ? $title.eq(query)
              : $(query).closest(selector.title)
            : $(this).closest(selector.title),
          $activeContent = $activeTitle.next($content),
          isAnimating    = $activeContent.hasClass(className.animating),
          isActive       = $activeContent.hasClass(className.active),
          isOpening      = (!isActive &amp;&amp; isAnimating),
          isClosing      = (isActive &amp;&amp; isAnimating)
        ;
        if((isActive || isOpening) &amp;&amp; !isClosing) {
          module.debug(&#39;Closing accordion content&#39;, $activeContent);
          settings.onClosing.call($activeContent);
          $activeTitle
            .removeClass(className.active)
          ;
          $activeContent
            .stop(true, true)
            .addClass(className.animating)
          ;
          if(settings.animateChildren) {
            if($.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              $activeContent
                .children()
                  .transition({
                    animation   : &#39;fade out&#39;,
                    queue       : false,
                    useFailSafe : true,
                    debug       : settings.debug,
                    verbose     : settings.verbose,
                    duration    : settings.duration
                  })
              ;
            }
            else {
              $activeContent
                .children()
                  .stop(true, true)
                  .animate({
                    opacity: 0
                  }, settings.duration, module.resetOpacity)
              ;
            }
          }
          $activeContent
            .slideUp(settings.duration, settings.easing, function() {
              $activeContent
                .removeClass(className.animating)
                .removeClass(className.active)
              ;
              module.reset.display.call(this);
              settings.onClose.call(this);
              settings.onChange.call(this);
            })
          ;
        }
      },

      closeOthers: function(index) {
        var
          $activeTitle = (index !== undefined)
            ? $title.eq(index)
            : $(this).closest(selector.title),
          $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),
          $activeAccordion = $activeTitle.closest(selector.accordion),
          activeSelector   = selector.title + &#39;.&#39; + className.active + &#39;:visible&#39;,
          activeContent    = selector.content + &#39;.&#39; + className.active + &#39;:visible&#39;,
          $openTitles,
          $nestedTitles,
          $openContents
        ;
        if(settings.closeNested) {
          $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);
          $openContents = $openTitles.next($content);
        }
        else {
          $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);
          $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);
          $openTitles   = $openTitles.not($nestedTitles);
          $openContents = $openTitles.next($content);
        }
        if( ($openTitles.length &gt; 0) ) {
          module.debug(&#39;Exclusive enabled, closing other content&#39;, $openTitles);
          $openTitles
            .removeClass(className.active)
          ;
          $openContents
            .removeClass(className.animating)
            .stop(true, true)
          ;
          if(settings.animateChildren) {
            if($.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              $openContents
                .children()
                  .transition({
                    animation   : &#39;fade out&#39;,
                    useFailSafe : true,
                    debug       : settings.debug,
                    verbose     : settings.verbose,
                    duration    : settings.duration
                  })
              ;
            }
            else {
              $openContents
                .children()
                  .stop(true, true)
                  .animate({
                    opacity: 0
                  }, settings.duration, module.resetOpacity)
              ;
            }
          }
          $openContents
            .slideUp(settings.duration , settings.easing, function() {
              $(this).removeClass(className.active);
              module.reset.display.call(this);
            })
          ;
        }
      },

      reset: {

        display: function() {
          module.verbose(&#39;Removing inline display from element&#39;, this);
          $(this).css(&#39;display&#39;, &#39;&#39;);
          if( $(this).attr(&#39;style&#39;) === &#39;&#39;) {
            $(this)
              .attr(&#39;style&#39;, &#39;&#39;)
              .removeAttr(&#39;style&#39;)
            ;
          }
        },

        opacity: function() {
          module.verbose(&#39;Removing inline opacity from element&#39;, this);
          $(this).css(&#39;opacity&#39;, &#39;&#39;);
          if( $(this).attr(&#39;style&#39;) === &#39;&#39;) {
            $(this)
              .attr(&#39;style&#39;, &#39;&#39;)
              .removeAttr(&#39;style&#39;)
            ;
          }
        },

      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        module.debug(&#39;Changing internal&#39;, name, value);
        if(value !== undefined) {
          if( $.isPlainObject(name) ) {
            $.extend(true, module, name);
          }
          else {
            module[name] = value;
          }
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };
    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;
return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.accordion.settings = {</p>

<pre>name            : &#39;Accordion&#39;,
namespace       : &#39;accordion&#39;,

debug           : false,
verbose         : false,
performance     : true,

on              : &#39;click&#39;, // event on title that opens accordion

observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion

exclusive       : true,  // whether a single accordion content panel should be open at once
collapsible     : true,  // whether accordion content can be closed
closeNested     : false, // whether nested content should be closed when a panel is closed
animateChildren : true,  // whether children opacity should be animated

duration        : 350, // duration of animation
easing          : &#39;easeOutQuad&#39;, // easing equation for animation

onOpening       : function(){}, // callback before open animation
onOpen          : function(){}, // callback after open animation
onClosing       : function(){}, // callback before closing animation
onClose         : function(){}, // callback after closing animation
onChange        : function(){}, // callback after closing or opening animation

error: {
  method : &#39;The method you called is not defined&#39;
},

className   : {
  active    : &#39;active&#39;,
  animating : &#39;animating&#39;
},

selector    : {
  accordion : &#39;.accordion&#39;,
  title     : &#39;.title&#39;,
  trigger   : &#39;.title&#39;,
  content   : &#39;.content&#39;
}</pre>

<p>};</p>

<p>// Adds easing $.extend( $.easing, {</p>

<pre>easeOutQuad: function (x, t, b, c, d) {
  return -c *(t/=d)*(t-2) + b;
}</pre>

<p>});</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Checkbox
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.checkbox = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),
  returnedValue
;

$allModules
  .each(function() {
    var
      settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),

      className       = settings.className,
      namespace       = settings.namespace,
      selector        = settings.selector,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $module         = $(this),
      $label          = $(this).children(selector.label),
      $input          = $(this).children(selector.input),
      input           = $input[0],

      initialLoad     = false,
      shortcutPressed = false,
      instance        = $module.data(moduleNamespace),

      observer,
      element         = this,
      module
    ;

    module      = {

      initialize: function() {
        module.verbose(&#39;Initializing checkbox&#39;, settings);

        module.create.label();
        module.bind.events();

        module.set.tabbable();
        module.hide.input();

        module.observeChanges();
        module.instantiate();
        module.setup();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying module&#39;);
        module.unbind.events();
        module.show.input();
        $module.removeData(moduleNamespace);
      },

      fix: {
        reference: function() {
          if( $module.is(selector.input) ) {
            module.debug(&#39;Behavior called on &lt;input&gt; adjusting invoked element&#39;);
            $module = $module.closest(selector.checkbox);
            module.refresh();
          }
        }
      },

      setup: function() {
        module.set.initialLoad();
        if( module.is.indeterminate() ) {
          module.debug(&#39;Initial value is indeterminate&#39;);
          module.indeterminate();
        }
        else if( module.is.checked() ) {
          module.debug(&#39;Initial value is checked&#39;);
          module.check();
        }
        else {
          module.debug(&#39;Initial value is unchecked&#39;);
          module.uncheck();
        }
        module.remove.initialLoad();
      },

      refresh: function() {
        $label = $module.children(selector.label);
        $input = $module.children(selector.input);
        input  = $input[0];
      },

      hide: {
        input: function() {
          module.verbose(&#39;Modfying &lt;input&gt; z-index to be unselectable&#39;);
          $input.addClass(className.hidden);
        }
      },
      show: {
        input: function() {
          module.verbose(&#39;Modfying &lt;input&gt; z-index to be selectable&#39;);
          $input.removeClass(className.hidden);
        }
      },

      observeChanges: function() {
        if(&#39;MutationObserver&#39; in window) {
          observer = new MutationObserver(function(mutations) {
            module.debug(&#39;DOM tree modified, updating selector cache&#39;);
            module.refresh();
          });
          observer.observe(element, {
            childList : true,
            subtree   : true
          });
          module.debug(&#39;Setting up mutation observer&#39;, observer);
        }
      },

      attachEvents: function(selector, event) {
        var
          $element = $(selector)
        ;
        event = $.isFunction(module[event])
          ? module[event]
          : module.toggle
        ;
        if($element.length &gt; 0) {
          module.debug(&#39;Attaching checkbox events to element&#39;, selector, event);
          $element
            .on(&#39;click&#39; + eventNamespace, event)
          ;
        }
        else {
          module.error(error.notFound);
        }
      },

      event: {
        click: function(event) {
          var
            $target = $(event.target)
          ;
          if( $target.is(selector.input) ) {
            module.verbose(&#39;Using default check action on initialized checkbox&#39;);
            return;
          }
          if( $target.is(selector.link) ) {
            module.debug(&#39;Clicking link inside checkbox, skipping toggle&#39;);
            return;
          }
          module.toggle();
          $input.focus();
          event.preventDefault();
        },
        keydown: function(event) {
          var
            key     = event.which,
            keyCode = {
              enter  : 13,
              space  : 32,
              escape : 27
            }
          ;
          if(key == keyCode.escape) {
            module.verbose(&#39;Escape key pressed blurring field&#39;);
            $input.blur();
            shortcutPressed = true;
          }
          else if(!event.ctrlKey &amp;&amp; ( key == keyCode.space || key == keyCode.enter) ) {
            module.verbose(&#39;Enter/space key pressed, toggling checkbox&#39;);
            module.toggle();
            shortcutPressed = true;
          }
          else {
            shortcutPressed = false;
          }
        },
        keyup: function(event) {
          if(shortcutPressed) {
            event.preventDefault();
          }
        }
      },

      check: function() {
        if( !module.should.allowCheck() ) {
          return;
        }
        module.debug(&#39;Checking checkbox&#39;, $input);
        module.set.checked();
        if( !module.should.ignoreCallbacks() ) {
          settings.onChecked.call(input);
          settings.onChange.call(input);
        }
      },

      uncheck: function() {
        if( !module.should.allowUncheck() ) {
          return;
        }
        module.debug(&#39;Unchecking checkbox&#39;);
        module.set.unchecked();
        if( !module.should.ignoreCallbacks() ) {
          settings.onUnchecked.call(input);
          settings.onChange.call(input);
        }
      },

      indeterminate: function() {
        if( module.should.allowIndeterminate() ) {
          module.debug(&#39;Checkbox is already indeterminate&#39;);
          return;
        }
        module.debug(&#39;Making checkbox indeterminate&#39;);
        module.set.indeterminate();
        if( !module.should.ignoreCallbacks() ) {
          settings.onIndeterminate.call(input);
          settings.onChange.call(input);
        }
      },

      determinate: function() {
        if( module.should.allowDeterminate() ) {
          module.debug(&#39;Checkbox is already determinate&#39;);
          return;
        }
        module.debug(&#39;Making checkbox determinate&#39;);
        module.set.determinate();
        if( !module.should.ignoreCallbacks() ) {
          settings.onDeterminate.call(input);
          settings.onChange.call(input);
        }
      },

      enable: function() {
        if( module.is.enabled() ) {
          module.debug(&#39;Checkbox is already enabled&#39;);
          return;
        }
        module.debug(&#39;Enabling checkbox&#39;);
        module.set.enabled();
        settings.onEnable.call(input);
      },

      disable: function() {
        if( module.is.disabled() ) {
          module.debug(&#39;Checkbox is already disabled&#39;);
          return;
        }
        module.debug(&#39;Disabling checkbox&#39;);
        module.set.disabled();
        settings.onDisable.call(input);
      },

      get: {
        radios: function() {
          var
            name = module.get.name()
          ;
          return $(&#39;input[name=&quot;&#39; + name + &#39;&quot;]&#39;).closest(selector.checkbox);
        },
        otherRadios: function() {
          return module.get.radios().not($module);
        },
        name: function() {
          return $input.attr(&#39;name&#39;);
        }
      },

      is: {
        initialLoad: function() {
          return initialLoad;
        },
        radio: function() {
          return ($input.hasClass(className.radio) || $input.attr(&#39;type&#39;) == &#39;radio&#39;);
        },
        indeterminate: function() {
          return $input.prop(&#39;indeterminate&#39;) !== undefined &amp;&amp; $input.prop(&#39;indeterminate&#39;);
        },
        checked: function() {
          return $input.prop(&#39;checked&#39;) !== undefined &amp;&amp; $input.prop(&#39;checked&#39;);
        },
        disabled: function() {
          return $input.prop(&#39;disabled&#39;) !== undefined &amp;&amp; $input.prop(&#39;disabled&#39;);
        },
        enabled: function() {
          return !module.is.disabled();
        },
        determinate: function() {
          return !module.is.indeterminate();
        },
        unchecked: function() {
          return !module.is.checked();
        }
      },

      should: {
        allowCheck: function() {
          if(module.is.determinate() &amp;&amp; module.is.checked() &amp;&amp; !module.should.forceCallbacks() ) {
            module.debug(&#39;Should not allow check, checkbox is already checked&#39;);
            return false;
          }
          if(settings.beforeChecked.apply(input) === false) {
            module.debug(&#39;Should not allow check, beforeChecked cancelled&#39;);
            return false;
          }
          return true;
        },
        allowUncheck: function() {
          if(module.is.determinate() &amp;&amp; module.is.unchecked() &amp;&amp; !module.should.forceCallbacks() ) {
            module.debug(&#39;Should not allow uncheck, checkbox is already unchecked&#39;);
            return false;
          }
          if(settings.beforeUnchecked.apply(input) === false) {
            module.debug(&#39;Should not allow uncheck, beforeUnchecked cancelled&#39;);
            return false;
          }
          return true;
        },
        allowIndeterminate: function() {
          if(module.is.indeterminate() &amp;&amp; !module.should.forceCallbacks() ) {
            module.debug(&#39;Should not allow indeterminate, checkbox is already indeterminate&#39;);
            return false;
          }
          if(settings.beforeIndeterminate.apply(input) === false) {
            module.debug(&#39;Should not allow indeterminate, beforeIndeterminate cancelled&#39;);
            return false;
          }
          return true;
        },
        allowDeterminate: function() {
          if(module.is.determinate() &amp;&amp; !module.should.forceCallbacks() ) {
            module.debug(&#39;Should not allow determinate, checkbox is already determinate&#39;);
            return false;
          }
          if(settings.beforeDeterminate.apply(input) === false) {
            module.debug(&#39;Should not allow determinate, beforeDeterminate cancelled&#39;);
            return false;
          }
          return true;
        },
        forceCallbacks: function() {
          return (module.is.initialLoad() &amp;&amp; settings.fireOnInit);
        },
        ignoreCallbacks: function() {
          return (initialLoad &amp;&amp; !settings.fireOnInit);
        }
      },

      can: {
        change: function() {
          return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop(&#39;disabled&#39;) || $input.prop(&#39;readonly&#39;) );
        },
        uncheck: function() {
          return (typeof settings.uncheckable === &#39;boolean&#39;)
            ? settings.uncheckable
            : !module.is.radio()
          ;
        }
      },

      set: {
        initialLoad: function() {
          initialLoad = true;
        },
        checked: function() {
          module.verbose(&#39;Setting class to checked&#39;);
          $module
            .removeClass(className.indeterminate)
            .addClass(className.checked)
          ;
          if( module.is.radio() ) {
            module.uncheckOthers();
          }
          if(!module.is.indeterminate() &amp;&amp; module.is.checked()) {
            module.debug(&#39;Input is already checked, skipping input property change&#39;);
            return;
          }
          module.verbose(&#39;Setting state to checked&#39;, input);
          $input
            .prop(&#39;indeterminate&#39;, false)
            .prop(&#39;checked&#39;, true)
          ;
          module.trigger.change();
        },
        unchecked: function() {
          module.verbose(&#39;Removing checked class&#39;);
          $module
            .removeClass(className.indeterminate)
            .removeClass(className.checked)
          ;
          if(!module.is.indeterminate() &amp;&amp;  module.is.unchecked() ) {
            module.debug(&#39;Input is already unchecked&#39;);
            return;
          }
          module.debug(&#39;Setting state to unchecked&#39;);
          $input
            .prop(&#39;indeterminate&#39;, false)
            .prop(&#39;checked&#39;, false)
          ;
          module.trigger.change();
        },
        indeterminate: function() {
          module.verbose(&#39;Setting class to indeterminate&#39;);
          $module
            .addClass(className.indeterminate)
          ;
          if( module.is.indeterminate() ) {
            module.debug(&#39;Input is already indeterminate, skipping input property change&#39;);
            return;
          }
          module.debug(&#39;Setting state to indeterminate&#39;);
          $input
            .prop(&#39;indeterminate&#39;, true)
          ;
          module.trigger.change();
        },
        determinate: function() {
          module.verbose(&#39;Removing indeterminate class&#39;);
          $module
            .removeClass(className.indeterminate)
          ;
          if( module.is.determinate() ) {
            module.debug(&#39;Input is already determinate, skipping input property change&#39;);
            return;
          }
          module.debug(&#39;Setting state to determinate&#39;);
          $input
            .prop(&#39;indeterminate&#39;, false)
          ;
        },
        disabled: function() {
          module.verbose(&#39;Setting class to disabled&#39;);
          $module
            .addClass(className.disabled)
          ;
          if( module.is.disabled() ) {
            module.debug(&#39;Input is already disabled, skipping input property change&#39;);
            return;
          }
          module.debug(&#39;Setting state to disabled&#39;);
          $input
            .prop(&#39;disabled&#39;, &#39;disabled&#39;)
          ;
          module.trigger.change();
        },
        enabled: function() {
          module.verbose(&#39;Removing disabled class&#39;);
          $module.removeClass(className.disabled);
          if( module.is.enabled() ) {
            module.debug(&#39;Input is already enabled, skipping input property change&#39;);
            return;
          }
          module.debug(&#39;Setting state to enabled&#39;);
          $input
            .prop(&#39;disabled&#39;, false)
          ;
          module.trigger.change();
        },
        tabbable: function() {
          module.verbose(&#39;Adding tabindex to checkbox&#39;);
          if( $input.attr(&#39;tabindex&#39;) === undefined) {
            $input.attr(&#39;tabindex&#39;, 0);
          }
        }
      },

      remove: {
        initialLoad: function() {
          initialLoad = false;
        }
      },

      trigger: {
        change: function() {
          var
            events       = document.createEvent(&#39;HTMLEvents&#39;),
            inputElement = $input[0]
          ;
          if(inputElement) {
            module.verbose(&#39;Triggering native change event&#39;);
            events.initEvent(&#39;change&#39;, true, false);
            inputElement.dispatchEvent(events);
          }
        }
      },

      create: {
        label: function() {
          if($input.prevAll(selector.label).length &gt; 0) {
            $input.prev(selector.label).detach().insertAfter($input);
            module.debug(&#39;Moving existing label&#39;, $label);
          }
          else if( !module.has.label() ) {
            $label = $(&#39;&lt;label&gt;&#39;).insertAfter($input);
            module.debug(&#39;Creating label&#39;, $label);
          }
        }
      },

      has: {
        label: function() {
          return ($label.length &gt; 0);
        }
      },

      bind: {
        events: function() {
          module.verbose(&#39;Attaching checkbox events&#39;);
          $module
            .on(&#39;click&#39;   + eventNamespace, module.event.click)
            .on(&#39;keydown&#39; + eventNamespace, selector.input, module.event.keydown)
            .on(&#39;keyup&#39;   + eventNamespace, selector.input, module.event.keyup)
          ;
        }
      },

      unbind: {
        events: function() {
          module.debug(&#39;Removing events&#39;);
          $module
            .off(eventNamespace)
          ;
        }
      },

      uncheckOthers: function() {
        var
          $radios = module.get.otherRadios()
        ;
        module.debug(&#39;Unchecking other radios&#39;, $radios);
        $radios.removeClass(className.checked);
      },

      toggle: function() {
        if( !module.can.change() ) {
          if(!module.is.radio()) {
            module.debug(&#39;Checkbox is read-only or disabled, ignoring toggle&#39;);
          }
          return;
        }
        if( module.is.indeterminate() || module.is.unchecked() ) {
          module.debug(&#39;Currently unchecked&#39;);
          module.check();
        }
        else if( module.is.checked() &amp;&amp; module.can.uncheck() ) {
          module.debug(&#39;Currently checked&#39;);
          module.uncheck();
        }
      },
      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.checkbox.settings = {</p>

<pre>name                : &#39;Checkbox&#39;,
namespace           : &#39;checkbox&#39;,

debug               : false,
verbose             : true,
performance         : true,

// delegated event context
uncheckable         : &#39;auto&#39;,
fireOnInit          : false,

onChange            : function(){},

beforeChecked       : function(){},
beforeUnchecked     : function(){},
beforeDeterminate   : function(){},
beforeIndeterminate : function(){},

onChecked           : function(){},
onUnchecked         : function(){},

onDeterminate       : function() {},
onIndeterminate     : function() {},

onEnabled           : function(){},
onDisabled          : function(){},

className       : {
  checked       : &#39;checked&#39;,
  indeterminate : &#39;indeterminate&#39;,
  disabled      : &#39;disabled&#39;,
  hidden        : &#39;hidden&#39;,
  radio         : &#39;radio&#39;,
  readOnly      : &#39;read-only&#39;
},

error     : {
  method       : &#39;The method you called is not defined&#39;
},

selector : {
  checkbox : &#39;.ui.checkbox&#39;,
  label    : &#39;label, .box&#39;,
  input    : &#39;input[type=&quot;checkbox&quot;], input[type=&quot;radio&quot;]&#39;,
  link     : &#39;a[href]&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Dimmer
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.dimmer = function(parameters) {</p>

<pre>var
  $allModules     = $(this),

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  returnedValue
;

$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.dimmer.settings, parameters)
        : $.extend({}, $.fn.dimmer.settings),

      selector        = settings.selector,
      namespace       = settings.namespace,
      className       = settings.className,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,
      moduleSelector  = $allModules.selector || &#39;&#39;,

      clickEvent      = (&#39;ontouchstart&#39; in document.documentElement)
        ? &#39;touchstart&#39;
        : &#39;click&#39;,

      $module = $(this),
      $dimmer,
      $dimmable,

      element   = this,
      instance  = $module.data(moduleNamespace),
      module
    ;

    module = {

      preinitialize: function() {
        if( module.is.dimmer() ) {

          $dimmable = $module.parent();
          $dimmer   = $module;
        }
        else {
          $dimmable = $module;
          if( module.has.dimmer() ) {
            if(settings.dimmerName) {
              $dimmer = $dimmable.find(selector.dimmer).filter(&#39;.&#39; + settings.dimmerName);
            }
            else {
              $dimmer = $dimmable.find(selector.dimmer);
            }
          }
          else {
            $dimmer = module.create();
          }
        }
      },

      initialize: function() {
        module.debug(&#39;Initializing dimmer&#39;, settings);

        module.bind.events();
        module.set.dimmable();
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module&#39;, $dimmer);
        module.unbind.events();
        module.remove.variation();
        $dimmable
          .off(eventNamespace)
        ;
      },

      bind: {
        events: function() {
          if(settings.on == &#39;hover&#39;) {
            $dimmable
              .on(&#39;mouseenter&#39; + eventNamespace, module.show)
              .on(&#39;mouseleave&#39; + eventNamespace, module.hide)
            ;
          }
          else if(settings.on == &#39;click&#39;) {
            $dimmable
              .on(clickEvent + eventNamespace, module.toggle)
            ;
          }
          if( module.is.page() ) {
            module.debug(&#39;Setting as a page dimmer&#39;, $dimmable);
            module.set.pageDimmer();
          }

          if( module.is.closable() ) {
            module.verbose(&#39;Adding dimmer close event&#39;, $dimmer);
            $dimmable
              .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)
            ;
          }
        }
      },

      unbind: {
        events: function() {
          $module
            .removeData(moduleNamespace)
          ;
        }
      },

      event: {
        click: function(event) {
          module.verbose(&#39;Determining if event occured on dimmer&#39;, event);
          if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {
            module.hide();
            event.stopImmediatePropagation();
          }
        }
      },

      addContent: function(element) {
        var
          $content = $(element)
        ;
        module.debug(&#39;Add content to dimmer&#39;, $content);
        if($content.parent()[0] !== $dimmer[0]) {
          $content.detach().appendTo($dimmer);
        }
      },

      create: function() {
        var
          $element = $( settings.template.dimmer() )
        ;
        if(settings.variation) {
          module.debug(&#39;Creating dimmer with variation&#39;, settings.variation);
          $element.addClass(settings.variation);
        }
        if(settings.dimmerName) {
          module.debug(&#39;Creating named dimmer&#39;, settings.dimmerName);
          $element.addClass(settings.dimmerName);
        }
        $element
          .appendTo($dimmable)
        ;
        return $element;
      },

      show: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        module.debug(&#39;Showing dimmer&#39;, $dimmer, settings);
        if( (!module.is.dimmed() || module.is.animating()) &amp;&amp; module.is.enabled() ) {
          module.animate.show(callback);
          settings.onShow.call(element);
          settings.onChange.call(element);
        }
        else {
          module.debug(&#39;Dimmer is already shown or disabled&#39;);
        }
      },

      hide: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( module.is.dimmed() || module.is.animating() ) {
          module.debug(&#39;Hiding dimmer&#39;, $dimmer);
          module.animate.hide(callback);
          settings.onHide.call(element);
          settings.onChange.call(element);
        }
        else {
          module.debug(&#39;Dimmer is not visible&#39;);
        }
      },

      toggle: function() {
        module.verbose(&#39;Toggling dimmer visibility&#39;, $dimmer);
        if( !module.is.dimmed() ) {
          module.show();
        }
        else {
          module.hide();
        }
      },

      animate: {
        show: function(callback) {
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          if(settings.useCSS &amp;&amp; $.fn.transition !== undefined &amp;&amp; $dimmer.transition(&#39;is supported&#39;)) {
            if(settings.opacity !== &#39;auto&#39;) {
              module.set.opacity();
            }
            $dimmer
              .transition({
                animation   : settings.transition + &#39; in&#39;,
                queue       : false,
                duration    : module.get.duration(),
                useFailSafe : true,
                onStart     : function() {
                  module.set.dimmed();
                },
                onComplete  : function() {
                  module.set.active();
                  callback();
                }
              })
            ;
          }
          else {
            module.verbose(&#39;Showing dimmer animation with javascript&#39;);
            module.set.dimmed();
            if(settings.opacity == &#39;auto&#39;) {
              settings.opacity = 0.8;
            }
            $dimmer
              .stop()
              .css({
                opacity : 0,
                width   : &#39;100%&#39;,
                height  : &#39;100%&#39;
              })
              .fadeTo(module.get.duration(), settings.opacity, function() {
                $dimmer.removeAttr(&#39;style&#39;);
                module.set.active();
                callback();
              })
            ;
          }
        },
        hide: function(callback) {
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          if(settings.useCSS &amp;&amp; $.fn.transition !== undefined &amp;&amp; $dimmer.transition(&#39;is supported&#39;)) {
            module.verbose(&#39;Hiding dimmer with css&#39;);
            $dimmer
              .transition({
                animation   : settings.transition + &#39; out&#39;,
                queue       : false,
                duration    : module.get.duration(),
                useFailSafe : true,
                onStart     : function() {
                  module.remove.dimmed();
                },
                onComplete  : function() {
                  module.remove.active();
                  callback();
                }
              })
            ;
          }
          else {
            module.verbose(&#39;Hiding dimmer with javascript&#39;);
            module.remove.dimmed();
            $dimmer
              .stop()
              .fadeOut(module.get.duration(), function() {
                module.remove.active();
                $dimmer.removeAttr(&#39;style&#39;);
                callback();
              })
            ;
          }
        }
      },

      get: {
        dimmer: function() {
          return $dimmer;
        },
        duration: function() {
          if(typeof settings.duration == &#39;object&#39;) {
            if( module.is.active() ) {
              return settings.duration.hide;
            }
            else {
              return settings.duration.show;
            }
          }
          return settings.duration;
        }
      },

      has: {
        dimmer: function() {
          if(settings.dimmerName) {
            return ($module.find(selector.dimmer).filter(&#39;.&#39; + settings.dimmerName).length &gt; 0);
          }
          else {
            return ( $module.find(selector.dimmer).length &gt; 0 );
          }
        }
      },

      is: {
        active: function() {
          return $dimmer.hasClass(className.active);
        },
        animating: function() {
          return ( $dimmer.is(&#39;:animated&#39;) || $dimmer.hasClass(className.animating) );
        },
        closable: function() {
          if(settings.closable == &#39;auto&#39;) {
            if(settings.on == &#39;hover&#39;) {
              return false;
            }
            return true;
          }
          return settings.closable;
        },
        dimmer: function() {
          return $module.hasClass(className.dimmer);
        },
        dimmable: function() {
          return $module.hasClass(className.dimmable);
        },
        dimmed: function() {
          return $dimmable.hasClass(className.dimmed);
        },
        disabled: function() {
          return $dimmable.hasClass(className.disabled);
        },
        enabled: function() {
          return !module.is.disabled();
        },
        page: function () {
          return $dimmable.is(&#39;body&#39;);
        },
        pageDimmer: function() {
          return $dimmer.hasClass(className.pageDimmer);
        }
      },

      can: {
        show: function() {
          return !$dimmer.hasClass(className.disabled);
        }
      },

      set: {
        opacity: function(opacity) {
          var
            color      = $dimmer.css(&#39;background-color&#39;),
            colorArray = color.split(&#39;,&#39;),
            isRGBA     = (colorArray &amp;&amp; colorArray.length == 4)
          ;
          opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;
          if(isRGBA) {
            colorArray[3] = opacity + &#39;)&#39;;
            color         = colorArray.join(&#39;,&#39;);
          }
          else {
            color = &#39;rgba(0, 0, 0, &#39; + opacity + &#39;)&#39;;
          }
          module.debug(&#39;Setting opacity to&#39;, opacity);
          $dimmer.css(&#39;background-color&#39;, color);
        },
        active: function() {
          $dimmer.addClass(className.active);
        },
        dimmable: function() {
          $dimmable.addClass(className.dimmable);
        },
        dimmed: function() {
          $dimmable.addClass(className.dimmed);
        },
        pageDimmer: function() {
          $dimmer.addClass(className.pageDimmer);
        },
        disabled: function() {
          $dimmer.addClass(className.disabled);
        },
        variation: function(variation) {
          variation = variation || settings.variation;
          if(variation) {
            $dimmer.addClass(variation);
          }
        }
      },

      remove: {
        active: function() {
          $dimmer
            .removeClass(className.active)
          ;
        },
        dimmed: function() {
          $dimmable.removeClass(className.dimmed);
        },
        disabled: function() {
          $dimmer.removeClass(className.disabled);
        },
        variation: function(variation) {
          variation = variation || settings.variation;
          if(variation) {
            $dimmer.removeClass(variation);
          }
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    module.preinitialize();

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.dimmer.settings = {</p>

<pre>name        : &#39;Dimmer&#39;,
namespace   : &#39;dimmer&#39;,

debug       : false,
verbose     : false,
performance : true,

// name to distinguish between multiple dimmers in context
dimmerName  : false,

// whether to add a variation type
variation   : false,

// whether to bind close events
closable    : &#39;auto&#39;,

// whether to use css animations
useCSS      : true,

// css animation to use
transition  : &#39;fade&#39;,

// event to bind to
on          : false,

// overriding opacity value
opacity     : &#39;auto&#39;,

// transition durations
duration    : {
  show : 500,
  hide : 500
},

onChange    : function(){},
onShow      : function(){},
onHide      : function(){},

error   : {
  method   : &#39;The method you called is not defined.&#39;
},

className : {
  active     : &#39;active&#39;,
  animating  : &#39;animating&#39;,
  dimmable   : &#39;dimmable&#39;,
  dimmed     : &#39;dimmed&#39;,
  dimmer     : &#39;dimmer&#39;,
  disabled   : &#39;disabled&#39;,
  hide       : &#39;hide&#39;,
  pageDimmer : &#39;page&#39;,
  show       : &#39;show&#39;
},

selector: {
  dimmer   : &#39;&gt; .ui.dimmer&#39;,
  content  : &#39;.ui.dimmer &gt; .content, .ui.dimmer &gt; .content &gt; .center&#39;
},

template: {
  dimmer: function() {
   return $(&#39;&lt;div /&gt;&#39;).attr(&#39;class&#39;, &#39;ui dimmer&#39;);
  }
}</pre>

<p>};</p>

<p>})( jQuery, window, document ); /*!</p>

<pre> # Semantic UI 2.1.6 - Dropdown
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.dropdown = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  $document      = $(document),

  moduleSelector = $allModules.selector || &#39;&#39;,

  hasTouch       = (&#39;ontouchstart&#39; in document.documentElement),
  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),
  returnedValue
;

$allModules
  .each(function(elementIndex) {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.dropdown.settings, parameters)
        : $.extend({}, $.fn.dropdown.settings),

      className       = settings.className,
      message         = settings.message,
      fields          = settings.fields,
      keys            = settings.keys,
      metadata        = settings.metadata,
      namespace       = settings.namespace,
      regExp          = settings.regExp,
      selector        = settings.selector,
      error           = settings.error,
      templates       = settings.templates,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $module         = $(this),
      $context        = $(settings.context),
      $text           = $module.find(selector.text),
      $search         = $module.find(selector.search),
      $input          = $module.find(selector.input),
      $icon           = $module.find(selector.icon),

      $combo = ($module.prev().find(selector.text).length &gt; 0)
        ? $module.prev().find(selector.text)
        : $module.prev(),

      $menu           = $module.children(selector.menu),
      $item           = $menu.find(selector.item),

      activated       = false,
      itemActivated   = false,
      internalChange  = false,
      element         = this,
      instance        = $module.data(moduleNamespace),

      initialLoad,
      pageLostFocus,
      elementNamespace,
      id,
      selectObserver,
      menuObserver,
      module
    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing dropdown&#39;, settings);

        if( module.is.alreadySetup() ) {
          module.setup.reference();
        }
        else {
          module.setup.layout();
          module.refreshData();

          module.save.defaults();
          module.restore.selected();

          module.create.id();
          module.bind.events();

          module.observeChanges();
          module.instantiate();
        }

      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of dropdown&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous dropdown&#39;, $module);
        module.remove.tabbable();
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
        $menu
          .off(eventNamespace)
        ;
        $document
          .off(elementNamespace)
        ;
        if(selectObserver) {
          selectObserver.disconnect();
        }
        if(menuObserver) {
          menuObserver.disconnect();
        }
      },

      observeChanges: function() {
        if(&#39;MutationObserver&#39; in window) {
          selectObserver = new MutationObserver(function(mutations) {
            module.debug(&#39;&lt;select&gt; modified, recreating menu&#39;);
            module.setup.select();
          });
          menuObserver = new MutationObserver(function(mutations) {
            module.debug(&#39;Menu modified, updating selector cache&#39;);
            module.refresh();
          });
          if(module.has.input()) {
            selectObserver.observe($input[0], {
              childList : true,
              subtree   : true
            });
          }
          if(module.has.menu()) {
            menuObserver.observe($menu[0], {
              childList : true,
              subtree   : true
            });
          }
          module.debug(&#39;Setting up mutation observer&#39;, selectObserver, menuObserver);
        }
      },

      create: {
        id: function() {
          id = (Math.random().toString(16) + &#39;000000000&#39;).substr(2, 8);
          elementNamespace = &#39;.&#39; + id;
          module.verbose(&#39;Creating unique id for element&#39;, id);
        },
        userChoice: function(values) {
          var
            $userChoices,
            $userChoice,
            isUserValue,
            html
          ;
          values = values || module.get.userValues();
          if(!values) {
            return false;
          }
          values = $.isArray(values)
            ? values
            : [values]
          ;
          $.each(values, function(index, value) {
            if(module.get.item(value) === false) {
              html         = settings.templates.addition( module.add.variables(message.addResult, value) );
              $userChoice  = $(&#39;&lt;div /&gt;&#39;)
                .html(html)
                .attr(&#39;data-&#39; + metadata.value, value)
                .attr(&#39;data-&#39; + metadata.text, value)
                .addClass(className.addition)
                .addClass(className.item)
              ;
              $userChoices = ($userChoices === undefined)
                ? $userChoice
                : $userChoices.add($userChoice)
              ;
              module.verbose(&#39;Creating user choices for value&#39;, value, $userChoice);
            }
          });
          return $userChoices;
        },
        userLabels: function(value) {
          var
            userValues = module.get.userValues()
          ;
          if(userValues) {
            module.debug(&#39;Adding user labels&#39;, userValues);
            $.each(userValues, function(index, value) {
              module.verbose(&#39;Adding custom user value&#39;);
              module.add.label(value, value);
            });
          }
        },
        menu: function() {
          $menu = $(&#39;&lt;div /&gt;&#39;)
            .addClass(className.menu)
            .appendTo($module)
          ;
        }
      },

      search: function(query) {
        query = (query !== undefined)
          ? query
          : module.get.query()
        ;
        module.verbose(&#39;Searching for query&#39;, query);
        module.filter(query);
      },

      select: {
        firstUnfiltered: function() {
          module.verbose(&#39;Selecting first non-filtered element&#39;);
          module.remove.selectedItem();
          $item
            .not(selector.unselectable)
              .eq(0)
              .addClass(className.selected)
          ;
        },
        nextAvailable: function($selected) {
          $selected = $selected.eq(0);
          var
            $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),
            $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),
            hasNext        = ($nextAvailable.length &gt; 0)
          ;
          if(hasNext) {
            module.verbose(&#39;Moving selection to&#39;, $nextAvailable);
            $nextAvailable.addClass(className.selected);
          }
          else {
            module.verbose(&#39;Moving selection to&#39;, $prevAvailable);
            $prevAvailable.addClass(className.selected);
          }
        }
      },

      setup: {
        api: function() {
          var
            apiSettings = {
              debug : settings.debug,
              on    : false
            }
          ;
          module.verbose(&#39;First request, initializing API&#39;);
          $module
            .api(apiSettings)
          ;
        },
        layout: function() {
          if( $module.is(&#39;select&#39;) ) {
            module.setup.select();
            module.setup.returnedObject();
          }
          if( !module.has.menu() ) {
            module.create.menu();
          }
          if( module.is.search() &amp;&amp; !module.has.search() ) {
            module.verbose(&#39;Adding search input&#39;);
            $search = $(&#39;&lt;input /&gt;&#39;)
              .addClass(className.search)
              .prop(&#39;autocomplete&#39;, &#39;off&#39;)
              .insertBefore($text)
            ;
          }
          if(settings.allowTab) {
            module.set.tabbable();
          }
        },
        select: function() {
          var
            selectValues  = module.get.selectValues()
          ;
          module.debug(&#39;Dropdown initialized on a select&#39;, selectValues);
          if( $module.is(&#39;select&#39;) ) {
            $input = $module;
          }
          // see if select is placed correctly already
          if($input.parent(selector.dropdown).length &gt; 0) {
            module.debug(&#39;UI dropdown already exists. Creating dropdown menu only&#39;);
            $module = $input.closest(selector.dropdown);
            if( !module.has.menu() ) {
              module.create.menu();
            }
            $menu = $module.children(selector.menu);
            module.setup.menu(selectValues);
          }
          else {
            module.debug(&#39;Creating entire dropdown from select&#39;);
            $module = $(&#39;&lt;div /&gt;&#39;)
              .attr(&#39;class&#39;, $input.attr(&#39;class&#39;) )
              .addClass(className.selection)
              .addClass(className.dropdown)
              .html( templates.dropdown(selectValues) )
              .insertBefore($input)
            ;
            if($input.hasClass(className.multiple) &amp;&amp; $input.prop(&#39;multiple&#39;) === false) {
              module.error(error.missingMultiple);
              $input.prop(&#39;multiple&#39;, true);
            }
            if($input.is(&#39;[multiple]&#39;)) {
              module.set.multiple();
            }
            if ($input.prop(&#39;disabled&#39;)) {
              module.debug(&#39;Disabling dropdown&#39;)
              $module.addClass(className.disabled)
            }
            $input
              .removeAttr(&#39;class&#39;)
              .detach()
              .prependTo($module)
            ;
          }
          module.refresh();
        },
        menu: function(values) {
          $menu.html( templates.menu(values, fields));
          $item = $menu.find(selector.item);
        },
        reference: function() {
          module.debug(&#39;Dropdown behavior was called on select, replacing with closest dropdown&#39;);
          // replace module reference
          $module = $module.parent(selector.dropdown);
          module.refresh();
          module.setup.returnedObject();
          // invoke method in context of current instance
          if(methodInvoked) {
            instance = module;
            module.invoke(query);
          }
        },
        returnedObject: function() {
          var
            $firstModules = $allModules.slice(0, elementIndex),
            $lastModules = $allModules.slice(elementIndex + 1)
          ;
          // adjust all modules to use correct reference
          $allModules = $firstModules.add($module).add($lastModules);
        }
      },

      refresh: function() {
        module.refreshSelectors();
        module.refreshData();
      },

      refreshSelectors: function() {
        module.verbose(&#39;Refreshing selector cache&#39;);
        $text   = $module.find(selector.text);
        $search = $module.find(selector.search);
        $input  = $module.find(selector.input);
        $icon   = $module.find(selector.icon);
        $combo  = ($module.prev().find(selector.text).length &gt; 0)
          ? $module.prev().find(selector.text)
          : $module.prev()
        ;
        $menu    = $module.children(selector.menu);
        $item    = $menu.find(selector.item);
      },

      refreshData: function() {
        module.verbose(&#39;Refreshing cached metadata&#39;);
        $item
          .removeData(metadata.text)
          .removeData(metadata.value)
        ;
        $module
          .removeData(metadata.defaultText)
          .removeData(metadata.defaultValue)
          .removeData(metadata.placeholderText)
        ;
      },

      toggle: function() {
        module.verbose(&#39;Toggling menu visibility&#39;);
        if( !module.is.active() ) {
          module.show();
        }
        else {
          module.hide();
        }
      },

      show: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( module.can.show() &amp;&amp; !module.is.active() ) {
          module.debug(&#39;Showing dropdown&#39;);
          if(module.is.multiple() &amp;&amp; !module.has.search() &amp;&amp; module.is.allFiltered()) {
            return true;
          }
          if(module.has.message() &amp;&amp; !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {
            module.remove.message();
          }
          if(settings.onShow.call(element) !== false) {
            module.animate.show(function() {
              if( module.can.click() ) {
                module.bind.intent();
              }
              module.set.visible();
              callback.call(element);
            });
          }
        }
      },

      hide: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( module.is.active() ) {
          module.debug(&#39;Hiding dropdown&#39;);
          if(settings.onHide.call(element) !== false) {
            module.animate.hide(function() {
              module.remove.visible();
              callback.call(element);
            });
          }
        }
      },

      hideOthers: function() {
        module.verbose(&#39;Finding other dropdowns to hide&#39;);
        $allModules
          .not($module)
            .has(selector.menu + &#39;.&#39; + className.visible)
              .dropdown(&#39;hide&#39;)
        ;
      },

      hideMenu: function() {
        module.verbose(&#39;Hiding menu  instantaneously&#39;);
        module.remove.active();
        module.remove.visible();
        $menu.transition(&#39;hide&#39;);
      },

      hideSubMenus: function() {
        var
          $subMenus = $menu.children(selector.item).find(selector.menu)
        ;
        module.verbose(&#39;Hiding sub menus&#39;, $subMenus);
        $subMenus.transition(&#39;hide&#39;);
      },

      bind: {
        events: function() {
          if(hasTouch) {
            module.bind.touchEvents();
          }
          module.bind.keyboardEvents();
          module.bind.inputEvents();
          module.bind.mouseEvents();
        },
        touchEvents: function() {
          module.debug(&#39;Touch device detected binding additional touch events&#39;);
          if( module.is.searchSelection() ) {
            // do nothing special yet
          }
          else if( module.is.single() ) {
            $module
              .on(&#39;touchstart&#39; + eventNamespace, module.event.test.toggle)
            ;
          }
          $menu
            .on(&#39;touchstart&#39; + eventNamespace, selector.item, module.event.item.mouseenter)
          ;
        },
        keyboardEvents: function() {
          module.verbose(&#39;Binding keyboard events&#39;);
          $module
            .on(&#39;keydown&#39; + eventNamespace, module.event.keydown)
          ;
          if( module.has.search() ) {
            $module
              .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)
            ;
          }
          if( module.is.multiple() ) {
            $document
              .on(&#39;keydown&#39; + elementNamespace, module.event.document.keydown)
            ;
          }
        },
        inputEvents: function() {
          module.verbose(&#39;Binding input change events&#39;);
          $module
            .on(&#39;change&#39; + eventNamespace, selector.input, module.event.change)
          ;
        },
        mouseEvents: function() {
          module.verbose(&#39;Binding mouse events&#39;);
          if(module.is.multiple()) {
            $module
              .on(&#39;click&#39;   + eventNamespace, selector.label,  module.event.label.click)
              .on(&#39;click&#39;   + eventNamespace, selector.remove, module.event.remove.click)
            ;
          }
          if( module.is.searchSelection() ) {
            $module
              .on(&#39;mousedown&#39; + eventNamespace, selector.menu,   module.event.menu.mousedown)
              .on(&#39;mouseup&#39;   + eventNamespace, selector.menu,   module.event.menu.mouseup)
              .on(&#39;click&#39;     + eventNamespace, selector.icon,   module.event.icon.click)
              .on(&#39;click&#39;     + eventNamespace, selector.search, module.show)
              .on(&#39;focus&#39;     + eventNamespace, selector.search, module.event.search.focus)
              .on(&#39;blur&#39;      + eventNamespace, selector.search, module.event.search.blur)
              .on(&#39;click&#39;     + eventNamespace, selector.text,   module.event.text.focus)
            ;
            if(module.is.multiple()) {
              $module
                .on(&#39;click&#39; + eventNamespace, module.event.click)
              ;
            }
          }
          else {
            if(settings.on == &#39;click&#39;) {
              $module
                .on(&#39;click&#39; + eventNamespace, selector.icon, module.event.icon.click)
                .on(&#39;click&#39; + eventNamespace, module.event.test.toggle)
              ;
            }
            else if(settings.on == &#39;hover&#39;) {
              $module
                .on(&#39;mouseenter&#39; + eventNamespace, module.delay.show)
                .on(&#39;mouseleave&#39; + eventNamespace, module.delay.hide)
              ;
            }
            else {
              $module
                .on(settings.on + eventNamespace, module.toggle)
              ;
            }
            $module
              .on(&#39;mousedown&#39; + eventNamespace, module.event.mousedown)
              .on(&#39;mouseup&#39;   + eventNamespace, module.event.mouseup)
              .on(&#39;focus&#39;     + eventNamespace, module.event.focus)
              .on(&#39;blur&#39;      + eventNamespace, module.event.blur)
            ;
          }
          $menu
            .on(&#39;mouseenter&#39; + eventNamespace, selector.item, module.event.item.mouseenter)
            .on(&#39;mouseleave&#39; + eventNamespace, selector.item, module.event.item.mouseleave)
            .on(&#39;click&#39;      + eventNamespace, selector.item, module.event.item.click)
          ;
        },
        intent: function() {
          module.verbose(&#39;Binding hide intent event to document&#39;);
          if(hasTouch) {
            $document
              .on(&#39;touchstart&#39; + elementNamespace, module.event.test.touch)
              .on(&#39;touchmove&#39;  + elementNamespace, module.event.test.touch)
            ;
          }
          $document
            .on(&#39;click&#39; + elementNamespace, module.event.test.hide)
          ;
        }
      },

      unbind: {
        intent: function() {
          module.verbose(&#39;Removing hide intent event from document&#39;);
          if(hasTouch) {
            $document
              .off(&#39;touchstart&#39; + elementNamespace)
              .off(&#39;touchmove&#39; + elementNamespace)
            ;
          }
          $document
            .off(&#39;click&#39; + elementNamespace)
          ;
        }
      },

      filter: function(query) {
        var
          searchTerm = (query !== undefined)
            ? query
            : module.get.query(),
          afterFiltered = function() {
            if(module.is.multiple()) {
              module.filterActive();
            }
            module.select.firstUnfiltered();
            if( module.has.allResultsFiltered() ) {
              if( settings.onNoResults.call(element, searchTerm) ) {
                if(!settings.allowAdditions) {
                  module.verbose(&#39;All items filtered, showing message&#39;, searchTerm);
                  module.add.message(message.noResults);
                }
              }
              else {
                module.verbose(&#39;All items filtered, hiding dropdown&#39;, searchTerm);
                module.hideMenu();
              }
            }
            else {
              module.remove.message();
            }
            if(settings.allowAdditions) {
              module.add.userSuggestion(query);
            }
            if(module.is.searchSelection() &amp;&amp; module.can.show() &amp;&amp; module.is.focusedOnSearch() ) {
              module.show();
            }
          }
        ;
        if(settings.useLabels &amp;&amp; module.has.maxSelections()) {
          return;
        }
        if(settings.apiSettings) {
          if( module.can.useAPI() ) {
            module.queryRemote(searchTerm, function() {
              afterFiltered();
            });
          }
          else {
            module.error(error.noAPI);
          }
        }
        else {
          module.filterItems(searchTerm);
          afterFiltered();
        }
      },

      queryRemote: function(query, callback) {
        var
          apiSettings = {
            errorDuration        : false,
            throttle             : settings.throttle,
            urlData              : {
              query: query
            },
            onError: function() {
              module.add.message(message.serverError);
              callback();
            },
            onFailure: function() {
              module.add.message(message.serverError);
              callback();
            },
            onSuccess : function(response) {
              module.remove.message();
              module.setup.menu({
                values: response[fields.remoteValues]
              });
              callback();
            }
          }
        ;
        if( !$module.api(&#39;get request&#39;) ) {
          module.setup.api();
        }
        apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);
        $module
          .api(&#39;setting&#39;, apiSettings)
          .api(&#39;query&#39;)
        ;
      },

      filterItems: function(query) {
        var
          searchTerm = (query !== undefined)
            ? query
            : module.get.query(),
          results          =  null,
          escapedTerm      = module.escape.regExp(searchTerm),
          beginsWithRegExp = new RegExp(&#39;^&#39; + escapedTerm, &#39;igm&#39;)
        ;
        // avoid loop if we&#39;re matching nothing
        if( module.has.query() ) {
          results = [];

          module.verbose(&#39;Searching for matching values&#39;, searchTerm);
          $item
            .each(function(){
              var
                $choice = $(this),
                text,
                value
              ;
              if(settings.match == &#39;both&#39; || settings.match == &#39;text&#39;) {
                text = String(module.get.choiceText($choice, false));
                if(text.search(beginsWithRegExp) !== -1) {
                  results.push(this);
                  return true;
                }
                else if(settings.fullTextSearch &amp;&amp; module.fuzzySearch(searchTerm, text)) {
                  results.push(this);
                  return true;
                }
              }
              if(settings.match == &#39;both&#39; || settings.match == &#39;value&#39;) {
                value = String(module.get.choiceValue($choice, text));

                if(value.search(beginsWithRegExp) !== -1) {
                  results.push(this);
                  return true;
                }
                else if(settings.fullTextSearch &amp;&amp; module.fuzzySearch(searchTerm, value)) {
                  results.push(this);
                  return true;
                }
              }
            })
          ;
        }
        module.debug(&#39;Showing only matched items&#39;, searchTerm);
        module.remove.filteredItem();
        if(results) {
          $item
            .not(results)
            .addClass(className.filtered)
          ;
        }
      },

      fuzzySearch: function(query, term) {
        var
          termLength  = term.length,
          queryLength = query.length
        ;
        query = query.toLowerCase();
        term  = term.toLowerCase();
        if(queryLength &gt; termLength) {
          return false;
        }
        if(queryLength === termLength) {
          return (query === term);
        }
        search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex &lt; queryLength; characterIndex++) {
          var
            queryCharacter = query.charCodeAt(characterIndex)
          ;
          while(nextCharacterIndex &lt; termLength) {
            if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {
              continue search;
            }
          }
          return false;
        }
        return true;
      },

      filterActive: function() {
        if(settings.useLabels) {
          $item.filter(&#39;.&#39; + className.active)
            .addClass(className.filtered)
          ;
        }
      },

      focusSearch: function() {
        if( module.is.search() &amp;&amp; !module.is.focusedOnSearch() ) {
          $search[0].focus();
        }
      },

      forceSelection: function() {
        var
          $currentlySelected = $item.not(className.filtered).filter(&#39;.&#39; + className.selected).eq(0),
          $activeItem        = $item.not(className.filtered).filter(&#39;.&#39; + className.active).eq(0),
          $selectedItem      = ($currentlySelected.length &gt; 0)
            ? $currentlySelected
            : $activeItem,
          hasSelected = ($selectedItem.size() &gt; 0)
        ;
        if( module.has.query() ) {
          if(hasSelected) {
            module.debug(&#39;Forcing partial selection to selected item&#39;, $selectedItem);
            module.event.item.click.call($selectedItem);
            return;
          }
          else {
            module.remove.searchTerm();
          }
        }
        module.hide();
      },

      event: {
        change: function() {
          if(!internalChange) {
            module.debug(&#39;Input changed, updating selection&#39;);
            module.set.selected();
          }
        },
        focus: function() {
          if(settings.showOnFocus &amp;&amp; !activated &amp;&amp; module.is.hidden() &amp;&amp; !pageLostFocus) {
            module.show();
          }
        },
        click: function(event) {
          var
            $target = $(event.target)
          ;
          // focus search
          if($target.is($module) &amp;&amp; !module.is.focusedOnSearch()) {
            module.focusSearch();
          }
        },
        blur: function(event) {
          pageLostFocus = (document.activeElement === this);
          if(!activated &amp;&amp; !pageLostFocus) {
            module.remove.activeLabel();
            module.hide();
          }
        },
        // prevents focus callback from occurring on mousedown
        mousedown: function() {
          activated = true;
        },
        mouseup: function() {
          activated = false;
        },
        search: {
          focus: function() {
            activated = true;
            if(module.is.multiple()) {
              module.remove.activeLabel();
            }
            if(settings.showOnFocus) {
              module.search();
              module.show();
            }
          },
          blur: function(event) {
            pageLostFocus = (document.activeElement === this);
            if(!itemActivated &amp;&amp; !pageLostFocus) {
              if(module.is.multiple()) {
                module.remove.activeLabel();
                module.hide();
              }
              else if(settings.forceSelection) {
                module.forceSelection();
              }
              else {
                module.hide();
              }
            }
            else if(pageLostFocus) {
              if(settings.forceSelection) {
                module.forceSelection();
              }
            }
          }
        },
        icon: {
          click: function(event) {
            module.toggle();
            event.stopPropagation();
          }
        },
        text: {
          focus: function(event) {
            activated = true;
            module.focusSearch();
          }
        },
        input: function(event) {
          if(module.is.multiple() || module.is.searchSelection()) {
            module.set.filtered();
          }
          clearTimeout(module.timer);
          module.timer = setTimeout(module.search, settings.delay.search);
        },
        label: {
          click: function(event) {
            var
              $label        = $(this),
              $labels       = $module.find(selector.label),
              $activeLabels = $labels.filter(&#39;.&#39; + className.active),
              $nextActive   = $label.nextAll(&#39;.&#39; + className.active),
              $prevActive   = $label.prevAll(&#39;.&#39; + className.active),
              $range = ($nextActive.length &gt; 0)
                ? $label.nextUntil($nextActive).add($activeLabels).add($label)
                : $label.prevUntil($prevActive).add($activeLabels).add($label)
            ;
            if(event.shiftKey) {
              $activeLabels.removeClass(className.active);
              $range.addClass(className.active);
            }
            else if(event.ctrlKey) {
              $label.toggleClass(className.active);
            }
            else {
              $activeLabels.removeClass(className.active);
              $label.addClass(className.active);
            }
            settings.onLabelSelect.apply(this, $labels.filter(&#39;.&#39; + className.active));
          }
        },
        remove: {
          click: function() {
            var
              $label = $(this).parent()
            ;
            if( $label.hasClass(className.active) ) {
              // remove all selected labels
              module.remove.activeLabels();
            }
            else {
              // remove this label only
              module.remove.activeLabels( $label );
            }
          }
        },
        test: {
          toggle: function(event) {
            var
              toggleBehavior = (module.is.multiple())
                ? module.show
                : module.toggle
            ;
            if( module.determine.eventOnElement(event, toggleBehavior) ) {
              event.preventDefault();
            }
          },
          touch: function(event) {
            module.determine.eventOnElement(event, function() {
              if(event.type == &#39;touchstart&#39;) {
                module.timer = setTimeout(function() {
                  module.hide();
                }, settings.delay.touch);
              }
              else if(event.type == &#39;touchmove&#39;) {
                clearTimeout(module.timer);
              }
            });
            event.stopPropagation();
          },
          hide: function(event) {
            module.determine.eventInModule(event, module.hide);
          }
        },
        menu: {
          mousedown: function() {
            itemActivated = true;
          },
          mouseup: function() {
            itemActivated = false;
          }
        },
        item: {
          mouseenter: function(event) {
            var
              $subMenu    = $(this).children(selector.menu),
              $otherMenus = $(this).siblings(selector.item).children(selector.menu)
            ;
            if( $subMenu.length &gt; 0 ) {
              clearTimeout(module.itemTimer);
              module.itemTimer = setTimeout(function() {
                module.verbose(&#39;Showing sub-menu&#39;, $subMenu);
                $.each($otherMenus, function() {
                  module.animate.hide(false, $(this));
                });
                module.animate.show(false,  $subMenu);
              }, settings.delay.show);
              event.preventDefault();
            }
          },
          mouseleave: function(event) {
            var
              $subMenu = $(this).children(selector.menu)
            ;
            if($subMenu.length &gt; 0) {
              clearTimeout(module.itemTimer);
              module.itemTimer = setTimeout(function() {
                module.verbose(&#39;Hiding sub-menu&#39;, $subMenu);
                module.animate.hide(false,  $subMenu);
              }, settings.delay.hide);
            }
          },
          touchend: function() {
          },
          click: function (event) {
            var
              $choice        = $(this),
              $target        = (event)
                ? $(event.target)
                : $(&#39;&#39;),
              $subMenu       = $choice.find(selector.menu),
              text           = module.get.choiceText($choice),
              value          = module.get.choiceValue($choice, text),
              hasSubMenu     = ($subMenu.length &gt; 0),
              isBubbledEvent = ($subMenu.find($target).length &gt; 0)
            ;
            if(!isBubbledEvent &amp;&amp; (!hasSubMenu || settings.allowCategorySelection)) {
              if(!settings.useLabels) {
                module.remove.filteredItem();
                module.remove.searchTerm();
                module.set.scrollPosition($choice);
              }
              module.determine.selectAction.call(this, text, value);
            }
          }
        },

        document: {
          // label selection should occur even when element has no focus
          keydown: function(event) {
            var
              pressedKey    = event.which,
              isShortcutKey = module.is.inObject(pressedKey, keys)
            ;
            if(isShortcutKey) {
              var
                $label            = $module.find(selector.label),
                $activeLabel      = $label.filter(&#39;.&#39; + className.active),
                activeValue       = $activeLabel.data(metadata.value),
                labelIndex        = $label.index($activeLabel),
                labelCount        = $label.length,
                hasActiveLabel    = ($activeLabel.length &gt; 0),
                hasMultipleActive = ($activeLabel.length &gt; 1),
                isFirstLabel      = (labelIndex === 0),
                isLastLabel       = (labelIndex + 1 == labelCount),
                isSearch          = module.is.searchSelection(),
                isFocusedOnSearch = module.is.focusedOnSearch(),
                isFocused         = module.is.focused(),
                caretAtStart      = (isFocusedOnSearch &amp;&amp; module.get.caretPosition() === 0),
                $nextLabel
              ;
              if(isSearch &amp;&amp; !hasActiveLabel &amp;&amp; !isFocusedOnSearch) {
                return;
              }

              if(pressedKey == keys.leftArrow) {
                // activate previous label
                if((isFocused || caretAtStart) &amp;&amp; !hasActiveLabel) {
                  module.verbose(&#39;Selecting previous label&#39;);
                  $label.last().addClass(className.active);
                }
                else if(hasActiveLabel) {
                  if(!event.shiftKey) {
                    module.verbose(&#39;Selecting previous label&#39;);
                    $label.removeClass(className.active);
                  }
                  else {
                    module.verbose(&#39;Adding previous label to selection&#39;);
                  }
                  if(isFirstLabel &amp;&amp; !hasMultipleActive) {
                    $activeLabel.addClass(className.active);
                  }
                  else {
                    $activeLabel.prev(selector.siblingLabel)
                      .addClass(className.active)
                      .end()
                    ;
                  }
                  event.preventDefault();
                }
              }
              else if(pressedKey == keys.rightArrow) {
                // activate first label
                if(isFocused &amp;&amp; !hasActiveLabel) {
                  $label.first().addClass(className.active);
                }
                // activate next label
                if(hasActiveLabel) {
                  if(!event.shiftKey) {
                    module.verbose(&#39;Selecting next label&#39;);
                    $label.removeClass(className.active);
                  }
                  else {
                    module.verbose(&#39;Adding next label to selection&#39;);
                  }
                  if(isLastLabel) {
                    if(isSearch) {
                      if(!isFocusedOnSearch) {
                        module.focusSearch();
                      }
                      else {
                        $label.removeClass(className.active);
                      }
                    }
                    else if(hasMultipleActive) {
                      $activeLabel.next(selector.siblingLabel).addClass(className.active);
                    }
                    else {
                      $activeLabel.addClass(className.active);
                    }
                  }
                  else {
                    $activeLabel.next(selector.siblingLabel).addClass(className.active);
                  }
                  event.preventDefault();
                }
              }
              else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {
                if(hasActiveLabel) {
                  module.verbose(&#39;Removing active labels&#39;);
                  if(isLastLabel) {
                    if(isSearch &amp;&amp; !isFocusedOnSearch) {
                      module.focusSearch();
                    }
                  }
                  $activeLabel.last().next(selector.siblingLabel).addClass(className.active);
                  module.remove.activeLabels($activeLabel);
                  event.preventDefault();
                }
                else if(caretAtStart &amp;&amp; !hasActiveLabel &amp;&amp; pressedKey == keys.backspace) {
                  module.verbose(&#39;Removing last label on input backspace&#39;);
                  $activeLabel = $label.last().addClass(className.active);
                  module.remove.activeLabels($activeLabel);
                }
              }
              else {
                $activeLabel.removeClass(className.active);
              }
            }
          }
        },

        keydown: function(event) {
          var
            pressedKey    = event.which,
            isShortcutKey = module.is.inObject(pressedKey, keys)
          ;
          if(isShortcutKey) {
            var
              $currentlySelected = $item.not(selector.unselectable).filter(&#39;.&#39; + className.selected).eq(0),
              $activeItem        = $menu.children(&#39;.&#39; + className.active).eq(0),
              $selectedItem      = ($currentlySelected.length &gt; 0)
                ? $currentlySelected
                : $activeItem,
              $visibleItems = ($selectedItem.length &gt; 0)
                ? $selectedItem.siblings(&#39;:not(.&#39; + className.filtered +&#39;)&#39;).andSelf()
                : $menu.children(&#39;:not(.&#39; + className.filtered +&#39;)&#39;),
              $subMenu             = $selectedItem.children(selector.menu),
              $parentMenu          = $selectedItem.closest(selector.menu),
              inVisibleMenu        = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length &gt; 0),
              hasSubMenu           = ($subMenu.length&gt; 0),
              hasSelectedItem      = ($selectedItem.length &gt; 0),
              selectedIsSelectable = ($selectedItem.not(selector.unselectable).length &gt; 0),
              delimiterPressed     = (pressedKey == keys.delimiter &amp;&amp; settings.allowAdditions &amp;&amp; module.is.multiple()),
              $nextItem,
              isSubMenuItem,
              newIndex
            ;
            // visible menu keyboard shortcuts
            if( module.is.visible() ) {

              // enter (select or open sub-menu)
              if(pressedKey == keys.enter || delimiterPressed) {
                if(pressedKey == keys.enter &amp;&amp; hasSelectedItem &amp;&amp; hasSubMenu &amp;&amp; !settings.allowCategorySelection) {
                  module.verbose(&#39;Pressed enter on unselectable category, opening sub menu&#39;);
                  pressedKey = keys.rightArrow;
                }
                else if(selectedIsSelectable) {
                  module.verbose(&#39;Selecting item from keyboard shortcut&#39;, $selectedItem);
                  module.event.item.click.call($selectedItem, event);
                  if(module.is.searchSelection()) {
                    module.remove.searchTerm();
                  }
                }
                event.preventDefault();
              }

              // left arrow (hide sub-menu)
              if(pressedKey == keys.leftArrow) {

                isSubMenuItem = ($parentMenu[0] !== $menu[0]);

                if(isSubMenuItem) {
                  module.verbose(&#39;Left key pressed, closing sub-menu&#39;);
                  module.animate.hide(false,  $parentMenu);
                  $selectedItem
                    .removeClass(className.selected)
                  ;
                  $parentMenu
                    .closest(selector.item)
                      .addClass(className.selected)
                  ;
                  event.preventDefault();
                }
              }

              // right arrow (show sub-menu)
              if(pressedKey == keys.rightArrow) {
                if(hasSubMenu) {
                  module.verbose(&#39;Right key pressed, opening sub-menu&#39;);
                  module.animate.show(false,  $subMenu);
                  $selectedItem
                    .removeClass(className.selected)
                  ;
                  $subMenu
                    .find(selector.item).eq(0)
                      .addClass(className.selected)
                  ;
                  event.preventDefault();
                }
              }

              // up arrow (traverse menu up)
              if(pressedKey == keys.upArrow) {
                $nextItem = (hasSelectedItem &amp;&amp; inVisibleMenu)
                  ? $selectedItem.prevAll(selector.item + &#39;:not(&#39; + selector.unselectable + &#39;)&#39;).eq(0)
                  : $item.eq(0)
                ;
                if($visibleItems.index( $nextItem ) &lt; 0) {
                  module.verbose(&#39;Up key pressed but reached top of current menu&#39;);
                  event.preventDefault();
                  return;
                }
                else {
                  module.verbose(&#39;Up key pressed, changing active item&#39;);
                  $selectedItem
                    .removeClass(className.selected)
                  ;
                  $nextItem
                    .addClass(className.selected)
                  ;
                  module.set.scrollPosition($nextItem);
                }
                event.preventDefault();
              }

              // down arrow (traverse menu down)
              if(pressedKey == keys.downArrow) {
                $nextItem = (hasSelectedItem &amp;&amp; inVisibleMenu)
                  ? $nextItem = $selectedItem.nextAll(selector.item + &#39;:not(&#39; + selector.unselectable + &#39;)&#39;).eq(0)
                  : $item.eq(0)
                ;
                if($nextItem.length === 0) {
                  module.verbose(&#39;Down key pressed but reached bottom of current menu&#39;);
                  event.preventDefault();
                  return;
                }
                else {
                  module.verbose(&#39;Down key pressed, changing active item&#39;);
                  $item
                    .removeClass(className.selected)
                  ;
                  $nextItem
                    .addClass(className.selected)
                  ;
                  module.set.scrollPosition($nextItem);
                }
                event.preventDefault();
              }

              // page down (show next page)
              if(pressedKey == keys.pageUp) {
                module.scrollPage(&#39;up&#39;);
                event.preventDefault();
              }
              if(pressedKey == keys.pageDown) {
                module.scrollPage(&#39;down&#39;);
                event.preventDefault();
              }

              // escape (close menu)
              if(pressedKey == keys.escape) {
                module.verbose(&#39;Escape key pressed, closing dropdown&#39;);
                module.hide();
              }

            }
            else {
              // delimiter key
              if(delimiterPressed) {
                event.preventDefault();
              }
              // down arrow (open menu)
              if(pressedKey == keys.downArrow) {
                module.verbose(&#39;Down key pressed, showing dropdown&#39;);
                module.show();
                event.preventDefault();
              }
            }
          }
          else {
            if( module.is.selection() &amp;&amp; !module.is.search() ) {
              module.set.selectedLetter( String.fromCharCode(pressedKey) );
            }
          }
        }
      },

      trigger: {
        change: function() {
          var
            events       = document.createEvent(&#39;HTMLEvents&#39;),
            inputElement = $input[0]
          ;
          if(inputElement) {
            module.verbose(&#39;Triggering native change event&#39;);
            events.initEvent(&#39;change&#39;, true, false);
            inputElement.dispatchEvent(events);
          }
        }
      },

      determine: {
        selectAction: function(text, value) {
          module.verbose(&#39;Determining action&#39;, settings.action);
          if( $.isFunction( module.action[settings.action] ) ) {
            module.verbose(&#39;Triggering preset action&#39;, settings.action, text, value);
            module.action[ settings.action ].call(this, text, value);
          }
          else if( $.isFunction(settings.action) ) {
            module.verbose(&#39;Triggering user action&#39;, settings.action, text, value);
            settings.action.call(this, text, value);
          }
          else {
            module.error(error.action, settings.action);
          }
        },
        eventInModule: function(event, callback) {
          var
            $target    = $(event.target),
            inDocument = ($target.closest(document.documentElement).length &gt; 0),
            inModule   = ($target.closest($module).length &gt; 0)
          ;
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          if(inDocument &amp;&amp; !inModule) {
            module.verbose(&#39;Triggering event&#39;, callback);
            callback();
            return true;
          }
          else {
            module.verbose(&#39;Event occurred in dropdown, canceling callback&#39;);
            return false;
          }
        },
        eventOnElement: function(event, callback) {
          var
            $target    = $(event.target),
            $label     = $target.closest(selector.siblingLabel),
            notOnLabel = ($module.find($label).length === 0),
            notInMenu  = ($target.closest($menu).length === 0)
          ;
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          if(notOnLabel &amp;&amp; notInMenu) {
            module.verbose(&#39;Triggering event&#39;, callback);
            callback();
            return true;
          }
          else {
            module.verbose(&#39;Event occurred in dropdown menu, canceling callback&#39;);
            return false;
          }
        }
      },

      action: {

        nothing: function() {},

        activate: function(text, value) {
          value = (value !== undefined)
            ? value
            : text
          ;
          if( module.can.activate( $(this) ) ) {
            module.set.selected(value, $(this));
            if(module.is.multiple() &amp;&amp; !module.is.allFiltered()) {
              return;
            }
            else {
              module.hideAndClear();
            }
          }
        },

        select: function(text, value) {
          // mimics action.activate but does not select text
          module.action.activate.call(this);
        },

        combo: function(text, value) {
          value = (value !== undefined)
            ? value
            : text
          ;
          module.set.selected(value, $(this));
          module.hideAndClear();
        },

        hide: function(text, value) {
          module.set.value(value);
          module.hideAndClear();
        }

      },

      get: {
        id: function() {
          return id;
        },
        defaultText: function() {
          return $module.data(metadata.defaultText);
        },
        defaultValue: function() {
          return $module.data(metadata.defaultValue);
        },
        placeholderText: function() {
          return $module.data(metadata.placeholderText) || &#39;&#39;;
        },
        text: function() {
          return $text.text();
        },
        query: function() {
          return $.trim($search.val());
        },
        searchWidth: function(characterCount) {
          return (characterCount * settings.glyphWidth) + &#39;em&#39;;
        },
        selectionCount: function() {
          var
            values = module.get.values(),
            count
          ;
          count = ( module.is.multiple() )
            ? $.isArray(values)
              ? values.length
              : 0
            : (module.get.value() !== &#39;&#39;)
              ? 1
              : 0
          ;
          return count;
        },
        transition: function($subMenu) {
          return (settings.transition == &#39;auto&#39;)
            ? module.is.upward($subMenu)
              ? &#39;slide up&#39;
              : &#39;slide down&#39;
            : settings.transition
          ;
        },
        userValues: function() {
          var
            values = module.get.values()
          ;
          if(!values) {
            return false;
          }
          values = $.isArray(values)
            ? values
            : [values]
          ;
          return $.grep(values, function(value) {
            return (module.get.item(value) === false);
          });
        },
        uniqueArray: function(array) {
          return $.grep(array, function (value, index) {
              return $.inArray(value, array) === index;
          });
        },
        caretPosition: function() {
          var
            input = $search.get(0),
            range,
            rangeLength
          ;
          if(&#39;selectionStart&#39; in input) {
            return input.selectionStart;
          }
          else if (document.selection) {
            input.focus();
            range       = document.selection.createRange();
            rangeLength = range.text.length;
            range.moveStart(&#39;character&#39;, -input.value.length);
            return range.text.length - rangeLength;
          }
        },
        value: function() {
          var
            value = ($input.length &gt; 0)
              ? $input.val()
              : $module.data(metadata.value)
          ;
          // prevents placeholder element from being selected when multiple
          if($.isArray(value) &amp;&amp; value.length === 1 &amp;&amp; value[0] === &#39;&#39;) {
            return &#39;&#39;;
          }
          return value;
        },
        values: function() {
          var
            value = module.get.value()
          ;
          if(value === &#39;&#39;) {
            return &#39;&#39;;
          }
          return ( !module.has.selectInput() &amp;&amp; module.is.multiple() )
            ? (typeof value == &#39;string&#39;) // delimited string
              ? value.split(settings.delimiter)
              : &#39;&#39;
            : value
          ;
        },
        remoteValues: function() {
          var
            values = module.get.values(),
            remoteValues = false
          ;
          if(values) {
            if(typeof values == &#39;string&#39;) {
              values = [values];
            }
            remoteValues = {};
            $.each(values, function(index, value) {
              var
                name = module.read.remoteData(value)
              ;
              module.verbose(&#39;Restoring value from session data&#39;, name, value);
              remoteValues[value] = (name)
                ? name
                : value
              ;
            });
          }
          return remoteValues;
        },
        choiceText: function($choice, preserveHTML) {
          preserveHTML = (preserveHTML !== undefined)
            ? preserveHTML
            : settings.preserveHTML
          ;
          if($choice) {
            if($choice.find(selector.menu).length &gt; 0) {
              module.verbose(&#39;Retreiving text of element with sub-menu&#39;);
              $choice = $choice.clone();
              $choice.find(selector.menu).remove();
              $choice.find(selector.menuIcon).remove();
            }
            return ($choice.data(metadata.text) !== undefined)
              ? $choice.data(metadata.text)
              : (preserveHTML)
                ? $.trim($choice.html())
                : $.trim($choice.text())
            ;
          }
        },
        choiceValue: function($choice, choiceText) {
          choiceText = choiceText || module.get.choiceText($choice);
          if(!$choice) {
            return false;
          }
          return ($choice.data(metadata.value) !== undefined)
            ? String( $choice.data(metadata.value) )
            : (typeof choiceText === &#39;string&#39;)
              ? $.trim(choiceText.toLowerCase())
              : String(choiceText)
          ;
        },
        inputEvent: function() {
          var
            input = $search[0]
          ;
          if(input) {
            return (input.oninput !== undefined)
              ? &#39;input&#39;
              : (input.onpropertychange !== undefined)
                ? &#39;propertychange&#39;
                : &#39;keyup&#39;
            ;
          }
          return false;
        },
        selectValues: function() {
          var
            select = {}
          ;
          select.values = [];
          $module
            .find(&#39;option&#39;)
              .each(function() {
                var
                  $option  = $(this),
                  name     = $option.html(),
                  disabled = $option.attr(&#39;disabled&#39;),
                  value    = ( $option.attr(&#39;value&#39;) !== undefined )
                    ? $option.attr(&#39;value&#39;)
                    : name
                ;
                if(settings.placeholder === &#39;auto&#39; &amp;&amp; value === &#39;&#39;) {
                  select.placeholder = name;
                }
                else {
                  select.values.push({
                    name     : name,
                    value    : value,
                    disabled : disabled
                  });
                }
              })
          ;
          if(settings.placeholder &amp;&amp; settings.placeholder !== &#39;auto&#39;) {
            module.debug(&#39;Setting placeholder value to&#39;, settings.placeholder);
            select.placeholder = settings.placeholder;
          }
          if(settings.sortSelect) {
            select.values.sort(function(a, b) {
              return (a.name &gt; b.name)
                ? 1
                : -1
              ;
            });
            module.debug(&#39;Retrieved and sorted values from select&#39;, select);
          }
          else {
            module.debug(&#39;Retreived values from select&#39;, select);
          }
          return select;
        },
        activeItem: function() {
          return $item.filter(&#39;.&#39;  + className.active);
        },
        selectedItem: function() {
          var
            $selectedItem = $item.not(selector.unselectable).filter(&#39;.&#39;  + className.selected)
          ;
          return ($selectedItem.length &gt; 0)
            ? $selectedItem
            : $item.eq(0)
          ;
        },
        itemWithAdditions: function(value) {
          var
            $items       = module.get.item(value),
            $userItems   = module.create.userChoice(value),
            hasUserItems = ($userItems &amp;&amp; $userItems.length &gt; 0)
          ;
          if(hasUserItems) {
            $items = ($items.length &gt; 0)
              ? $items.add($userItems)
              : $userItems
            ;
          }
          return $items;
        },
        item: function(value, strict) {
          var
            $selectedItem = false,
            shouldSearch,
            isMultiple
          ;
          value = (value !== undefined)
            ? value
            : ( module.get.values() !== undefined)
              ? module.get.values()
              : module.get.text()
          ;
          shouldSearch = (isMultiple)
            ? (value.length &gt; 0)
            : (value !== undefined &amp;&amp; value !== null)
          ;
          isMultiple = (module.is.multiple() &amp;&amp; $.isArray(value));
          strict     = (value === &#39;&#39; || value === 0)
            ? true
            : strict || false
          ;
          if(shouldSearch) {
            $item
              .each(function() {
                var
                  $choice       = $(this),
                  optionText    = module.get.choiceText($choice),
                  optionValue   = module.get.choiceValue($choice, optionText)
                ;
                // safe early exit
                if(optionValue === null || optionValue === undefined) {
                  return;
                }
                if(isMultiple) {
                  if($.inArray( String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {
                    $selectedItem = ($selectedItem)
                      ? $selectedItem.add($choice)
                      : $choice
                    ;
                  }
                }
                else if(strict) {
                  module.verbose(&#39;Ambiguous dropdown value using strict type check&#39;, $choice, value);
                  if( optionValue === value || optionText === value) {
                    $selectedItem = $choice;
                    return true;
                  }
                }
                else {
                  if( String(optionValue) == String(value) || optionText == value) {
                    module.verbose(&#39;Found select item by value&#39;, optionValue, value);
                    $selectedItem = $choice;
                    return true;
                  }
                }
              })
            ;
          }
          return $selectedItem;
        }
      },

      check: {
        maxSelections: function(selectionCount) {
          if(settings.maxSelections) {
            selectionCount = (selectionCount !== undefined)
              ? selectionCount
              : module.get.selectionCount()
            ;
            if(selectionCount &gt;= settings.maxSelections) {
              module.debug(&#39;Maximum selection count reached&#39;);
              if(settings.useLabels) {
                $item.addClass(className.filtered);
                module.add.message(message.maxSelections);
              }
              return true;
            }
            else {
              module.verbose(&#39;No longer at maximum selection count&#39;);
              module.remove.message();
              module.remove.filteredItem();
              if(module.is.searchSelection()) {
                module.filterItems();
              }
              return false;
            }
          }
          return true;
        }
      },

      restore: {
        defaults: function() {
          module.clear();
          module.restore.defaultText();
          module.restore.defaultValue();
        },
        defaultText: function() {
          var
            defaultText     = module.get.defaultText(),
            placeholderText = module.get.placeholderText
          ;
          if(defaultText === placeholderText) {
            module.debug(&#39;Restoring default placeholder text&#39;, defaultText);
            module.set.placeholderText(defaultText);
          }
          else {
            module.debug(&#39;Restoring default text&#39;, defaultText);
            module.set.text(defaultText);
          }
        },
        defaultValue: function() {
          var
            defaultValue = module.get.defaultValue()
          ;
          if(defaultValue !== undefined) {
            module.debug(&#39;Restoring default value&#39;, defaultValue);
            if(defaultValue !== &#39;&#39;) {
              module.set.value(defaultValue);
              module.set.selected();
            }
            else {
              module.remove.activeItem();
              module.remove.selectedItem();
            }
          }
        },
        labels: function() {
          if(settings.allowAdditions) {
            if(!settings.useLabels) {
              module.error(error.labels);
              settings.useLabels = true;
            }
            module.debug(&#39;Restoring selected values&#39;);
            module.create.userLabels();
          }
          module.check.maxSelections();
        },
        selected: function() {
          module.restore.values();
          if(module.is.multiple()) {
            module.debug(&#39;Restoring previously selected values and labels&#39;);
            module.restore.labels();
          }
          else {
            module.debug(&#39;Restoring previously selected values&#39;);
          }
        },
        values: function() {
          // prevents callbacks from occuring on initial load
          module.set.initialLoad();
          if(settings.apiSettings) {
            if(settings.saveRemoteData) {
              module.restore.remoteValues();
            }
            else {
              module.clearValue();
            }
          }
          else {
            module.set.selected();
          }
          module.remove.initialLoad();
        },
        remoteValues: function() {
          var
            values = module.get.remoteValues()
          ;
          module.debug(&#39;Recreating selected from session data&#39;, values);
          if(values) {
            if( module.is.single() ) {
              $.each(values, function(value, name) {
                module.set.text(name);
              });
            }
            else {
              $.each(values, function(value, name) {
                module.add.label(value, name);
              });
            }
          }
        }
      },

      read: {
        remoteData: function(value) {
          var
            name
          ;
          if(window.Storage === undefined) {
            module.error(error.noStorage);
            return;
          }
          name = sessionStorage.getItem(value);
          return (name !== undefined)
            ? name
            : false
          ;
        }
      },

      save: {
        defaults: function() {
          module.save.defaultText();
          module.save.placeholderText();
          module.save.defaultValue();
        },
        defaultValue: function() {
          var
            value = module.get.value()
          ;
          module.verbose(&#39;Saving default value as&#39;, value);
          $module.data(metadata.defaultValue, value);
        },
        defaultText: function() {
          var
            text = module.get.text()
          ;
          module.verbose(&#39;Saving default text as&#39;, text);
          $module.data(metadata.defaultText, text);
        },
        placeholderText: function() {
          var
            text
          ;
          if(settings.placeholder !== false &amp;&amp; $text.hasClass(className.placeholder)) {
            text = module.get.text();
            module.verbose(&#39;Saving placeholder text as&#39;, text);
            $module.data(metadata.placeholderText, text);
          }
        },
        remoteData: function(name, value) {
          if(window.Storage === undefined) {
            module.error(error.noStorage);
            return;
          }
          module.verbose(&#39;Saving remote data to session storage&#39;, value, name);
          sessionStorage.setItem(value, name);
        }
      },

      clear: function() {
        if(module.is.multiple()) {
          module.remove.labels();
        }
        else {
          module.remove.activeItem();
          module.remove.selectedItem();
        }
        module.set.placeholderText();
        module.clearValue();
      },

      clearValue: function() {
        module.set.value(&#39;&#39;);
      },

      scrollPage: function(direction, $selectedItem) {
        var
          $currentItem  = $selectedItem || module.get.selectedItem(),
          $menu         = $currentItem.closest(selector.menu),
          menuHeight    = $menu.outerHeight(),
          currentScroll = $menu.scrollTop(),
          itemHeight    = $item.eq(0).outerHeight(),
          itemsPerPage  = Math.floor(menuHeight / itemHeight),
          maxScroll     = $menu.prop(&#39;scrollHeight&#39;),
          newScroll     = (direction == &#39;up&#39;)
            ? currentScroll - (itemHeight * itemsPerPage)
            : currentScroll + (itemHeight * itemsPerPage),
          $selectableItem = $item.not(selector.unselectable),
          isWithinRange,
          $nextSelectedItem,
          elementIndex
        ;
        elementIndex      = (direction == &#39;up&#39;)
          ? $selectableItem.index($currentItem) - itemsPerPage
          : $selectableItem.index($currentItem) + itemsPerPage
        ;
        isWithinRange = (direction == &#39;up&#39;)
          ? (elementIndex &gt;= 0)
          : (elementIndex &lt; $selectableItem.length)
        ;
        $nextSelectedItem = (isWithinRange)
          ? $selectableItem.eq(elementIndex)
          : (direction == &#39;up&#39;)
            ? $selectableItem.first()
            : $selectableItem.last()
        ;
        if($nextSelectedItem.length &gt; 0) {
          module.debug(&#39;Scrolling page&#39;, direction, $nextSelectedItem);
          $currentItem
            .removeClass(className.selected)
          ;
          $nextSelectedItem
            .addClass(className.selected)
          ;
          $menu
            .scrollTop(newScroll)
          ;
        }
      },

      set: {
        filtered: function() {
          var
            isMultiple       = module.is.multiple(),
            isSearch         = module.is.searchSelection(),
            isSearchMultiple = (isMultiple &amp;&amp; isSearch),
            searchValue      = (isSearch)
              ? module.get.query()
              : &#39;&#39;,
            hasSearchValue   = (typeof searchValue === &#39;string&#39; &amp;&amp; searchValue.length &gt; 0),
            searchWidth      = module.get.searchWidth(searchValue.length),
            valueIsSet       = searchValue !== &#39;&#39;
          ;
          if(isMultiple &amp;&amp; hasSearchValue) {
            module.verbose(&#39;Adjusting input width&#39;, searchWidth, settings.glyphWidth);
            $search.css(&#39;width&#39;, searchWidth);
          }
          if(hasSearchValue || (isSearchMultiple &amp;&amp; valueIsSet)) {
            module.verbose(&#39;Hiding placeholder text&#39;);
            $text.addClass(className.filtered);
          }
          else if(!isMultiple || (isSearchMultiple &amp;&amp; !valueIsSet)) {
            module.verbose(&#39;Showing placeholder text&#39;);
            $text.removeClass(className.filtered);
          }
        },
        loading: function() {
          $module.addClass(className.loading);
        },
        placeholderText: function(text) {
          text = text || module.get.placeholderText();
          module.debug(&#39;Setting placeholder text&#39;, text);
          module.set.text(text);
          $text.addClass(className.placeholder);
        },
        tabbable: function() {
          if( module.has.search() ) {
            module.debug(&#39;Added tabindex to searchable dropdown&#39;);
            $search
              .val(&#39;&#39;)
              .attr(&#39;tabindex&#39;, 0)
            ;
            $menu
              .attr(&#39;tabindex&#39;, -1)
            ;
          }
          else {
            module.debug(&#39;Added tabindex to dropdown&#39;);
            if( $module.attr(&#39;tabindex&#39;) === undefined) {
              $module
                .attr(&#39;tabindex&#39;, 0)
              ;
              $menu
                .attr(&#39;tabindex&#39;, -1)
              ;
            }
          }
        },
        initialLoad: function() {
          module.verbose(&#39;Setting initial load&#39;);
          initialLoad = true;
        },
        activeItem: function($item) {
          if( settings.allowAdditions &amp;&amp; $item.filter(selector.addition).length &gt; 0 ) {
            $item.addClass(className.filtered);
          }
          else {
            $item.addClass(className.active);
          }
        },
        scrollPosition: function($item, forceScroll) {
          var
            edgeTolerance = 5,
            $menu,
            hasActive,
            offset,
            itemHeight,
            itemOffset,
            menuOffset,
            menuScroll,
            menuHeight,
            abovePage,
            belowPage
          ;

          $item       = $item || module.get.selectedItem();
          $menu       = $item.closest(selector.menu);
          hasActive   = ($item &amp;&amp; $item.length &gt; 0);
          forceScroll = (forceScroll !== undefined)
            ? forceScroll
            : false
          ;
          if($item &amp;&amp; $menu.length &gt; 0 &amp;&amp; hasActive) {
            itemOffset = $item.position().top;

            $menu.addClass(className.loading);
            menuScroll = $menu.scrollTop();
            menuOffset = $menu.offset().top;
            itemOffset = $item.offset().top;
            offset     = menuScroll - menuOffset + itemOffset;
            if(!forceScroll) {
              menuHeight = $menu.height();
              belowPage  = menuScroll + menuHeight &lt; (offset + edgeTolerance);
              abovePage  = ((offset - edgeTolerance) &lt; menuScroll);
            }
            module.debug(&#39;Scrolling to active item&#39;, offset);
            if(forceScroll || abovePage || belowPage) {
              $menu.scrollTop(offset);
            }
            $menu.removeClass(className.loading);
          }
        },
        text: function(text) {
          if(settings.action !== &#39;select&#39;) {
            if(settings.action == &#39;combo&#39;) {
              module.debug(&#39;Changing combo button text&#39;, text, $combo);
              if(settings.preserveHTML) {
                $combo.html(text);
              }
              else {
                $combo.text(text);
              }
            }
            else {
              if(text !== module.get.placeholderText()) {
                $text.removeClass(className.placeholder);
              }
              module.debug(&#39;Changing text&#39;, text, $text);
              $text
                .removeClass(className.filtered)
              ;
              if(settings.preserveHTML) {
                $text.html(text);
              }
              else {
                $text.text(text);
              }
            }
          }
        },
        selectedLetter: function(letter) {
          var
            $selectedItem         = $item.filter(&#39;.&#39; + className.selected),
            alreadySelectedLetter = $selectedItem.length &gt; 0 &amp;&amp; module.has.firstLetter($selectedItem, letter),
            $nextValue            = false,
            $nextItem
          ;
          // check next of same letter
          if(alreadySelectedLetter) {
            $nextItem = $selectedItem.nextAll($item).eq(0);
            if( module.has.firstLetter($nextItem, letter) ) {
              $nextValue  = $nextItem;
            }
          }
          // check all values
          if(!$nextValue) {
            $item
              .each(function(){
                if(module.has.firstLetter($(this), letter)) {
                  $nextValue = $(this);
                  return false;
                }
              })
            ;
          }
          // set next value
          if($nextValue) {
            module.verbose(&#39;Scrolling to next value with letter&#39;, letter);
            module.set.scrollPosition($nextValue);
            $selectedItem.removeClass(className.selected);
            $nextValue.addClass(className.selected);
          }
        },
        direction: function($menu) {
          if(settings.direction == &#39;auto&#39;) {
            if(module.is.onScreen($menu)) {
              module.remove.upward($menu);
            }
            else {
              module.set.upward($menu);
            }
          }
          else if(settings.direction == &#39;upward&#39;) {
            module.set.upward($menu);
          }
        },
        upward: function($menu) {
          var $element = $menu || $module;
          $element.addClass(className.upward);
        },
        value: function(value, text, $selected) {
          var
            hasInput     = ($input.length &gt; 0),
            isAddition   = !module.has.value(value),
            currentValue = module.get.values(),
            stringValue  = (value !== undefined)
              ? String(value)
              : value,
            newValue
          ;
          if(hasInput) {
            if(stringValue == currentValue) {
              module.verbose(&#39;Skipping value update already same value&#39;, value, currentValue);
              if(!module.is.initialLoad()) {
                return;
              }
            }

            if( module.is.single() &amp;&amp; module.has.selectInput() &amp;&amp; module.can.extendSelect() ) {
              module.debug(&#39;Adding user option&#39;, value);
              module.add.optionValue(value);
            }
            module.debug(&#39;Updating input value&#39;, value, currentValue);
            internalChange = true;
            $input
              .val(value)
            ;
            if(settings.fireOnInit === false &amp;&amp; module.is.initialLoad()) {
              module.debug(&#39;Input native change event ignored on initial load&#39;);
            }
            else {
              module.trigger.change();
            }
            internalChange = false;
          }
          else {
            module.verbose(&#39;Storing value in metadata&#39;, value, $input);
            if(value !== currentValue) {
              $module.data(metadata.value, stringValue);
            }
          }
          if(settings.fireOnInit === false &amp;&amp; module.is.initialLoad()) {
            module.verbose(&#39;No callback on initial load&#39;, settings.onChange);
          }
          else {
            settings.onChange.call(element, value, text, $selected);
          }
        },
        active: function() {
          $module
            .addClass(className.active)
          ;
        },
        multiple: function() {
          $module.addClass(className.multiple);
        },
        visible: function() {
          $module.addClass(className.visible);
        },
        exactly: function(value, $selectedItem) {
          module.debug(&#39;Setting selected to exact values&#39;);
          module.clear();
          module.set.selected(value, $selectedItem);
        },
        selected: function(value, $selectedItem) {
          var
            isMultiple = module.is.multiple(),
            $userSelectedItem
          ;
          $selectedItem = (settings.allowAdditions)
            ? $selectedItem || module.get.itemWithAdditions(value)
            : $selectedItem || module.get.item(value)
          ;
          if(!$selectedItem) {
            return;
          }
          module.debug(&#39;Setting selected menu item to&#39;, $selectedItem);
          if(module.is.single()) {
            module.remove.activeItem();
            module.remove.selectedItem();
          }
          else if(settings.useLabels) {
            module.remove.selectedItem();
          }
          // select each item
          $selectedItem
            .each(function() {
              var
                $selected      = $(this),
                selectedText   = module.get.choiceText($selected),
                selectedValue  = module.get.choiceValue($selected, selectedText),

                isFiltered     = $selected.hasClass(className.filtered),
                isActive       = $selected.hasClass(className.active),
                isUserValue    = $selected.hasClass(className.addition),
                shouldAnimate  = (isMultiple &amp;&amp; $selectedItem.length == 1)
              ;
              if(isMultiple) {
                if(!isActive || isUserValue) {
                  if(settings.apiSettings &amp;&amp; settings.saveRemoteData) {
                    module.save.remoteData(selectedText, selectedValue);
                  }
                  if(settings.useLabels) {
                    module.add.value(selectedValue, selectedText, $selected);
                    module.add.label(selectedValue, selectedText, shouldAnimate);
                    module.set.activeItem($selected);
                    module.filterActive();
                    module.select.nextAvailable($selectedItem);
                  }
                  else {
                    module.add.value(selectedValue, selectedText, $selected);
                    module.set.text(module.add.variables(message.count));
                    module.set.activeItem($selected);
                  }
                }
                else if(!isFiltered) {
                  module.debug(&#39;Selected active value, removing label&#39;);
                  module.remove.selected(selectedValue);
                }
              }
              else {
                if(settings.apiSettings &amp;&amp; settings.saveRemoteData) {
                  module.save.remoteData(selectedText, selectedValue);
                }
                module.set.text(selectedText);
                module.set.value(selectedValue, selectedText, $selected);
                $selected
                  .addClass(className.active)
                  .addClass(className.selected)
                ;
              }
            })
          ;
        }
      },

      add: {
        label: function(value, text, shouldAnimate) {
          var
            $next  = module.is.searchSelection()
              ? $search
              : $text,
            $label
          ;
          $label =  $(&#39;&lt;a /&gt;&#39;)
            .addClass(className.label)
            .attr(&#39;data-value&#39;, value)
            .html(templates.label(value, text))
          ;
          $label = settings.onLabelCreate.call($label, value, text);

          if(module.has.label(value)) {
            module.debug(&#39;Label already exists, skipping&#39;, value);
            return;
          }
          if(settings.label.variation) {
            $label.addClass(settings.label.variation);
          }
          if(shouldAnimate === true) {
            module.debug(&#39;Animating in label&#39;, $label);
            $label
              .addClass(className.hidden)
              .insertBefore($next)
              .transition(settings.label.transition, settings.label.duration)
            ;
          }
          else {
            module.debug(&#39;Adding selection label&#39;, $label);
            $label
              .insertBefore($next)
            ;
          }
        },
        message: function(message) {
          var
            $message = $menu.children(selector.message),
            html     = settings.templates.message(module.add.variables(message))
          ;
          if($message.length &gt; 0) {
            $message
              .html(html)
            ;
          }
          else {
            $message = $(&#39;&lt;div/&gt;&#39;)
              .html(html)
              .addClass(className.message)
              .appendTo($menu)
            ;
          }
        },
        optionValue: function(value) {
          var
            $option   = $input.find(&#39;option[value=&quot;&#39; + value + &#39;&quot;]&#39;),
            hasOption = ($option.length &gt; 0)
          ;
          if(hasOption) {
            return;
          }
          // temporarily disconnect observer
          if(selectObserver) {
            selectObserver.disconnect();
            module.verbose(&#39;Temporarily disconnecting mutation observer&#39;, value);
          }
          if( module.is.single() ) {
            module.verbose(&#39;Removing previous user addition&#39;);
            $input.find(&#39;option.&#39; + className.addition).remove();
          }
          $(&#39;&lt;option/&gt;&#39;)
            .prop(&#39;value&#39;, value)
            .addClass(className.addition)
            .html(value)
            .appendTo($input)
          ;
          module.verbose(&#39;Adding user addition as an &lt;option&gt;&#39;, value);
          if(selectObserver) {
            selectObserver.observe($input[0], {
              childList : true,
              subtree   : true
            });
          }
        },
        userSuggestion: function(value) {
          var
            $addition         = $menu.children(selector.addition),
            $existingItem     = module.get.item(value),
            alreadyHasValue   = $existingItem &amp;&amp; $existingItem.not(selector.addition).length,
            hasUserSuggestion = $addition.length &gt; 0,
            html
          ;
          if(settings.useLabels &amp;&amp; module.has.maxSelections()) {
            return;
          }
          if(value === &#39;&#39; || alreadyHasValue) {
            $addition.remove();
            return;
          }
          $item
            .removeClass(className.selected)
          ;
          if(hasUserSuggestion) {
            html = settings.templates.addition( module.add.variables(message.addResult, value) );
            $addition
              .html(html)
              .attr(&#39;data-&#39; + metadata.value, value)
              .attr(&#39;data-&#39; + metadata.text, value)
              .removeClass(className.filtered)
              .addClass(className.selected)
            ;
            module.verbose(&#39;Replacing user suggestion with new value&#39;, $addition);
          }
          else {
            $addition = module.create.userChoice(value);
            $addition
              .prependTo($menu)
              .addClass(className.selected)
            ;
            module.verbose(&#39;Adding item choice to menu corresponding with user choice addition&#39;, $addition);
          }
        },
        variables: function(message, term) {
          var
            hasCount    = (message.search(&#39;{count}&#39;) !== -1),
            hasMaxCount = (message.search(&#39;{maxCount}&#39;) !== -1),
            hasTerm     = (message.search(&#39;{term}&#39;) !== -1),
            values,
            count,
            query
          ;
          module.verbose(&#39;Adding templated variables to message&#39;, message);
          if(hasCount) {
            count  = module.get.selectionCount();
            message = message.replace(&#39;{count}&#39;, count);
          }
          if(hasMaxCount) {
            count  = module.get.selectionCount();
            message = message.replace(&#39;{maxCount}&#39;, settings.maxSelections);
          }
          if(hasTerm) {
            query   = term || module.get.query();
            message = message.replace(&#39;{term}&#39;, query);
          }
          return message;
        },
        value: function(addedValue, addedText, $selectedItem) {
          var
            currentValue = module.get.values(),
            newValue
          ;
          if(addedValue === &#39;&#39;) {
            module.debug(&#39;Cannot select blank values from multiselect&#39;);
            return;
          }
          // extend current array
          if($.isArray(currentValue)) {
            newValue = currentValue.concat([addedValue]);
            newValue = module.get.uniqueArray(newValue);
          }
          else {
            newValue = [addedValue];
          }
          // add values
          if( module.has.selectInput() ) {
            if(module.can.extendSelect()) {
              module.debug(&#39;Adding value to select&#39;, addedValue, newValue, $input);
              module.add.optionValue(addedValue);
            }
          }
          else {
            newValue = newValue.join(settings.delimiter);
            module.debug(&#39;Setting hidden input to delimited value&#39;, newValue, $input);
          }

          if(settings.fireOnInit === false &amp;&amp; module.is.initialLoad()) {
            module.verbose(&#39;Skipping onadd callback on initial load&#39;, settings.onAdd);
          }
          else {
            settings.onAdd.call(element, addedValue, addedText, $selectedItem);
          }
          module.set.value(newValue, addedValue, addedText, $selectedItem);
          module.check.maxSelections();
        }
      },

      remove: {
        active: function() {
          $module.removeClass(className.active);
        },
        activeLabel: function() {
          $module.find(selector.label).removeClass(className.active);
        },
        loading: function() {
          $module.removeClass(className.loading);
        },
        initialLoad: function() {
          initialLoad = false;
        },
        upward: function($menu) {
          var $element = $menu || $module;
          $element.removeClass(className.upward);
        },
        visible: function() {
          $module.removeClass(className.visible);
        },
        activeItem: function() {
          $item.removeClass(className.active);
        },
        filteredItem: function() {
          if(settings.useLabels &amp;&amp; module.has.maxSelections() ) {
            return;
          }
          if(settings.useLabels &amp;&amp; module.is.multiple()) {
            $item.not(&#39;.&#39; + className.active).removeClass(className.filtered);
          }
          else {
            $item.removeClass(className.filtered);
          }
        },
        optionValue: function(value) {
          var
            $option   = $input.find(&#39;option[value=&quot;&#39; + value + &#39;&quot;]&#39;),
            hasOption = ($option.length &gt; 0)
          ;
          if(!hasOption || !$option.hasClass(className.addition)) {
            return;
          }
          // temporarily disconnect observer
          if(selectObserver) {
            selectObserver.disconnect();
            module.verbose(&#39;Temporarily disconnecting mutation observer&#39;, value);
          }
          $option.remove();
          module.verbose(&#39;Removing user addition as an &lt;option&gt;&#39;, value);
          if(selectObserver) {
            selectObserver.observe($input[0], {
              childList : true,
              subtree   : true
            });
          }
        },
        message: function() {
          $menu.children(selector.message).remove();
        },
        searchTerm: function() {
          module.verbose(&#39;Cleared search term&#39;);
          $search.val(&#39;&#39;);
          module.set.filtered();
        },
        selected: function(value, $selectedItem) {
          $selectedItem = (settings.allowAdditions)
            ? $selectedItem || module.get.itemWithAdditions(value)
            : $selectedItem || module.get.item(value)
          ;

          if(!$selectedItem) {
            return false;
          }

          $selectedItem
            .each(function() {
              var
                $selected     = $(this),
                selectedText  = module.get.choiceText($selected),
                selectedValue = module.get.choiceValue($selected, selectedText)
              ;
              if(module.is.multiple()) {
                if(settings.useLabels) {
                  module.remove.value(selectedValue, selectedText, $selected);
                  module.remove.label(selectedValue);
                }
                else {
                  module.remove.value(selectedValue, selectedText, $selected);
                  if(module.get.selectionCount() === 0) {
                    module.set.placeholderText();
                  }
                  else {
                    module.set.text(module.add.variables(message.count));
                  }
                }
              }
              else {
                module.remove.value(selectedValue, selectedText, $selected);
              }
              $selected
                .removeClass(className.filtered)
                .removeClass(className.active)
              ;
              if(settings.useLabels) {
                $selected.removeClass(className.selected);
              }
            })
          ;
        },
        selectedItem: function() {
          $item.removeClass(className.selected);
        },
        value: function(removedValue, removedText, $removedItem) {
          var
            values = module.get.values(),
            newValue
          ;
          if( module.has.selectInput() ) {
            module.verbose(&#39;Input is &lt;select&gt; removing selected option&#39;, removedValue);
            newValue = module.remove.arrayValue(removedValue, values);
            module.remove.optionValue(removedValue);
          }
          else {
            module.verbose(&#39;Removing from delimited values&#39;, removedValue);
            newValue = module.remove.arrayValue(removedValue, values);
            newValue = newValue.join(settings.delimiter);
          }
          if(settings.fireOnInit === false &amp;&amp; module.is.initialLoad()) {
            module.verbose(&#39;No callback on initial load&#39;, settings.onRemove);
          }
          else {
            settings.onRemove.call(element, removedValue, removedText, $removedItem);
          }
          module.set.value(newValue, removedText, $removedItem);
          module.check.maxSelections();
        },
        arrayValue: function(removedValue, values) {
          if( !$.isArray(values) ) {
            values = [values];
          }
          values = $.grep(values, function(value){
            return (removedValue != value);
          });
          module.verbose(&#39;Removed value from delimited string&#39;, removedValue, values);
          return values;
        },
        label: function(value, shouldAnimate) {
          var
            $labels       = $module.find(selector.label),
            $removedLabel = $labels.filter(&#39;[data-value=&quot;&#39; + value +&#39;&quot;]&#39;)
          ;
          module.verbose(&#39;Removing label&#39;, $removedLabel);
          $removedLabel.remove();
        },
        activeLabels: function($activeLabels) {
          $activeLabels = $activeLabels || $module.find(selector.label).filter(&#39;.&#39; + className.active);
          module.verbose(&#39;Removing active label selections&#39;, $activeLabels);
          module.remove.labels($activeLabels);
        },
        labels: function($labels) {
          $labels = $labels || $module.find(selector.label);
          module.verbose(&#39;Removing labels&#39;, $labels);
          $labels
            .each(function(){
              var
                $label      = $(this),
                value       = $label.data(metadata.value),
                stringValue = (value !== undefined)
                  ? String(value)
                  : value,
                isUserValue = module.is.userValue(stringValue)
              ;
              if(settings.onLabelRemove.call($label, value) === false) {
                module.debug(&#39;Label remove callback cancelled removal&#39;);
                return;
              }
              if(isUserValue) {
                module.remove.value(stringValue);
                module.remove.label(stringValue);
              }
              else {
                // selected will also remove label
                module.remove.selected(stringValue);
              }
            })
          ;
        },
        tabbable: function() {
          if( module.has.search() ) {
            module.debug(&#39;Searchable dropdown initialized&#39;);
            $search
              .removeAttr(&#39;tabindex&#39;)
            ;
            $menu
              .removeAttr(&#39;tabindex&#39;)
            ;
          }
          else {
            module.debug(&#39;Simple selection dropdown initialized&#39;);
            $module
              .removeAttr(&#39;tabindex&#39;)
            ;
            $menu
              .removeAttr(&#39;tabindex&#39;)
            ;
          }
        }
      },

      has: {
        search: function() {
          return ($search.length &gt; 0);
        },
        selectInput: function() {
          return ( $input.is(&#39;select&#39;) );
        },
        firstLetter: function($item, letter) {
          var
            text,
            firstLetter
          ;
          if(!$item || $item.length === 0 || typeof letter !== &#39;string&#39;) {
            return false;
          }
          text        = module.get.choiceText($item, false);
          letter      = letter.toLowerCase();
          firstLetter = String(text).charAt(0).toLowerCase();
          return (letter == firstLetter);
        },
        input: function() {
          return ($input.length &gt; 0);
        },
        items: function() {
          return ($item.length &gt; 0);
        },
        menu: function() {
          return ($menu.length &gt; 0);
        },
        message: function() {
          return ($menu.children(selector.message).length !== 0);
        },
        label: function(value) {
          var
            $labels = $module.find(selector.label)
          ;
          return ($labels.filter(&#39;[data-value=&quot;&#39; + value +&#39;&quot;]&#39;).length &gt; 0);
        },
        maxSelections: function() {
          return (settings.maxSelections &amp;&amp; module.get.selectionCount() &gt;= settings.maxSelections);
        },
        allResultsFiltered: function() {
          return ($item.filter(selector.unselectable).length === $item.length);
        },
        query: function() {
          return (module.get.query() !== &#39;&#39;);
        },
        value: function(value) {
          var
            values   = module.get.values(),
            hasValue = $.isArray(values)
             ? values &amp;&amp; ($.inArray(value, values) !== -1)
             : (values == value)
          ;
          return (hasValue)
            ? true
            : false
          ;
        }
      },

      is: {
        active: function() {
          return $module.hasClass(className.active);
        },
        alreadySetup: function() {
          return ($module.is(&#39;select&#39;) &amp;&amp; $module.parent(selector.dropdown).length &gt; 0  &amp;&amp; $module.prev().length === 0);
        },
        animating: function($subMenu) {
          return ($subMenu)
            ? $subMenu.transition &amp;&amp; $subMenu.transition(&#39;is animating&#39;)
            : $menu.transition    &amp;&amp; $menu.transition(&#39;is animating&#39;)
          ;
        },
        disabled: function() {
          return $module.hasClass(className.disabled);
        },
        focused: function() {
          return (document.activeElement === $module[0]);
        },
        focusedOnSearch: function() {
          return (document.activeElement === $search[0]);
        },
        allFiltered: function() {
          return( (module.is.multiple() || module.has.search()) &amp;&amp; !module.has.message() &amp;&amp; module.has.allResultsFiltered() );
        },
        hidden: function($subMenu) {
          return !module.is.visible($subMenu);
        },
        initialLoad: function() {
          return initialLoad;
        },
        onScreen: function($subMenu) {
          var
            $currentMenu   = $subMenu || $menu,
            canOpenDownward = true,
            onScreen = {},
            calculations
          ;
          $currentMenu.addClass(className.loading);
          calculations = {
            context: {
              scrollTop : $context.scrollTop(),
              height    : $context.outerHeight()
            },
            menu : {
              offset: $currentMenu.offset(),
              height: $currentMenu.outerHeight()
            }
          };
          onScreen = {
            above : (calculations.context.scrollTop) &lt;= calculations.menu.offset.top - calculations.menu.height,
            below : (calculations.context.scrollTop + calculations.context.height) &gt;= calculations.menu.offset.top + calculations.menu.height
          };
          if(onScreen.below) {
            module.verbose(&#39;Dropdown can fit in context downward&#39;, onScreen);
            canOpenDownward = true;
          }
          else if(!onScreen.below &amp;&amp; !onScreen.above) {
            module.verbose(&#39;Dropdown cannot fit in either direction, favoring downward&#39;, onScreen);
            canOpenDownward = true;
          }
          else {
            module.verbose(&#39;Dropdown cannot fit below, opening upward&#39;, onScreen);
            canOpenDownward = false;
          }
          $currentMenu.removeClass(className.loading);
          return canOpenDownward;
        },
        inObject: function(needle, object) {
          var
            found = false
          ;
          $.each(object, function(index, property) {
            if(property == needle) {
              found = true;
              return true;
            }
          });
          return found;
        },
        multiple: function() {
          return $module.hasClass(className.multiple);
        },
        single: function() {
          return !module.is.multiple();
        },
        selectMutation: function(mutations) {
          var
            selectChanged = false
          ;
          $.each(mutations, function(index, mutation) {
            if(mutation.target &amp;&amp; $(mutation.target).is(&#39;select&#39;)) {
              selectChanged = true;
              return true;
            }
          });
          return selectChanged;
        },
        search: function() {
          return $module.hasClass(className.search);
        },
        searchSelection: function() {
          return ( module.has.search() &amp;&amp; $search.parent(selector.dropdown).length === 1 );
        },
        selection: function() {
          return $module.hasClass(className.selection);
        },
        userValue: function(value) {
          return ($.inArray(value, module.get.userValues()) !== -1);
        },
        upward: function($menu) {
          var $element = $menu || $module;
          return $element.hasClass(className.upward);
        },
        visible: function($subMenu) {
          return ($subMenu)
            ? $subMenu.hasClass(className.visible)
            : $menu.hasClass(className.visible)
          ;
        }
      },

      can: {
        activate: function($item) {
          if(settings.useLabels) {
            return true;
          }
          if(!module.has.maxSelections()) {
            return true;
          }
          if(module.has.maxSelections() &amp;&amp; $item.hasClass(className.active)) {
            return true;
          }
          return false;
        },
        click: function() {
          return (hasTouch || settings.on == &#39;click&#39;);
        },
        extendSelect: function() {
          return settings.allowAdditions || settings.apiSettings;
        },
        show: function() {
          return !module.is.disabled() &amp;&amp; (module.has.items() || module.has.message());
        },
        useAPI: function() {
          return $.fn.api !== undefined;
        }
      },

      animate: {
        show: function(callback, $subMenu) {
          var
            $currentMenu = $subMenu || $menu,
            start = ($subMenu)
              ? function() {}
              : function() {
                module.hideSubMenus();
                module.hideOthers();
                module.set.active();
              },
            transition
          ;
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          module.verbose(&#39;Doing menu show animation&#39;, $currentMenu);
          module.set.direction($subMenu);
          transition = module.get.transition($subMenu);
          if( module.is.selection() ) {
            module.set.scrollPosition(module.get.selectedItem(), true);
          }
          if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {
            if(transition == &#39;none&#39;) {
              start();
              $currentMenu.transition(&#39;show&#39;);
              callback.call(element);
            }
            else if($.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              $currentMenu
                .transition({
                  animation  : transition + &#39; in&#39;,
                  debug      : settings.debug,
                  verbose    : settings.verbose,
                  duration   : settings.duration,
                  queue      : true,
                  onStart    : start,
                  onComplete : function() {
                    callback.call(element);
                  }
                })
              ;
            }
            else {
              module.error(error.noTransition, transition);
            }
          }
        },
        hide: function(callback, $subMenu) {
          var
            $currentMenu = $subMenu || $menu,
            duration = ($subMenu)
              ? (settings.duration * 0.9)
              : settings.duration,
            start = ($subMenu)
              ? function() {}
              : function() {
                if( module.can.click() ) {
                  module.unbind.intent();
                }
                module.remove.active();
              },
            transition = module.get.transition($subMenu)
          ;
          callback = $.isFunction(callback)
            ? callback
            : function(){}
          ;
          if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {
            module.verbose(&#39;Doing menu hide animation&#39;, $currentMenu);

            if(transition == &#39;none&#39;) {
              start();
              $currentMenu.transition(&#39;hide&#39;);
              callback.call(element);
            }
            else if($.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              $currentMenu
                .transition({
                  animation  : transition + &#39; out&#39;,
                  duration   : settings.duration,
                  debug      : settings.debug,
                  verbose    : settings.verbose,
                  queue      : true,
                  onStart    : start,
                  onComplete : function() {
                    if(settings.direction == &#39;auto&#39;) {
                      module.remove.upward($subMenu);
                    }
                    callback.call(element);
                  }
                })
              ;
            }
            else {
              module.error(error.transition);
            }
          }
        }
      },

      hideAndClear: function() {
        module.remove.searchTerm();
        if( module.has.maxSelections() ) {
          return;
        }
        if(module.has.search()) {
          module.hide(function() {
            module.remove.filteredItem();
          });
        }
        else {
          module.hide();
        }
      },

      delay: {
        show: function() {
          module.verbose(&#39;Delaying show event to ensure user intent&#39;);
          clearTimeout(module.timer);
          module.timer = setTimeout(module.show, settings.delay.show);
        },
        hide: function() {
          module.verbose(&#39;Delaying hide event to ensure user intent&#39;);
          clearTimeout(module.timer);
          module.timer = setTimeout(module.hide, settings.delay.hide);
        }
      },

      escape: {
        regExp: function(text) {
          text =  String(text);
          return text.replace(regExp.escape, &#39;\\$&amp;&#39;);
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;
return (returnedValue !== undefined)
  ? returnedValue
  : $allModules
;</pre>

<p>};</p>

<p>$.fn.dropdown.settings = {</p>

<pre>debug                  : false,
verbose                : false,
performance            : true,

on                     : &#39;click&#39;,    // what event should show menu action on item selection
action                 : &#39;activate&#39;, // action on item selection (nothing, activate, select, combo, hide, function(){})

apiSettings            : false,
saveRemoteData         : true,      // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh
throttle               : 200,       // How long to wait after last user input to search remotely

context                : window,      // Context to use when determining if on screen
direction              : &#39;auto&#39;,     // Whether dropdown should always open in one direction
keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing

match                  : &#39;both&#39;,     // what to match against with search selection (both, text, or label)
fullTextSearch         : false,      // search anywhere in value

placeholder            : &#39;auto&#39;,     // whether to convert blank &lt;select&gt; values to placeholder text
preserveHTML           : true,       // preserve html when selecting value
sortSelect             : false,      // sort selection on init

forceSelection         : true,       // force a choice on blur with search selection
allowAdditions         : false,      // whether multiple select should allow user added values

maxSelections          : false,      // When set to a number limits the number of selections to this count
useLabels              : true,       // whether multiple select should filter currently active selections from choices
delimiter              : &#39;,&#39;,        // when multiselect uses normal &lt;input&gt; the values will be delimited with this character

showOnFocus            : true,       // show menu on focus
allowTab               : true,       // add tabindex to element
allowCategorySelection : false,      // allow elements with sub-menus to be selected

fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values

transition             : &#39;auto&#39;,     // auto transition will slide down or up based on direction
duration               : 200,        // duration of transition

glyphWidth             : 1.0714,     // widest glyph width in em (W is 1.0714 em) used to calculate multiselect input width

// label settings on multi-select
label: {
  transition : &#39;scale&#39;,
  duration   : 200,
  variation  : false
},

// delay before event
delay : {
  hide   : 300,
  show   : 200,
  search : 20,
  touch  : 50
},

/* Callbacks   
onChange      : function(value, text, $selected){},
onAdd         : function(value, text, $selected){},
onRemove      : function(value, text, $selected){},

onLabelSelect : function($selectedLabels){},
onLabelCreate : function(value, text) { return $(this); },
onLabelRemove : function(value) { return true; },
onNoResults   : function(searchTerm) { return true; },
onShow        : function(){},
onHide        : function(){},

/* Component */
name           : &#39;Dropdown&#39;,
namespace      : &#39;dropdown&#39;,

message: {
  addResult     : &#39;Add &lt;b&gt;{term}&lt;/b&gt;&#39;,
  count         : &#39;{count} selected&#39;,
  maxSelections : &#39;Max {maxCount} selections&#39;,
  noResults     : &#39;No results found.&#39;,
  serverError   : &#39;There was an error contacting the server&#39;
},

error : {
  action          : &#39;You called a dropdown action that was not defined&#39;,
  alreadySetup    : &#39;Once a select has been initialized behaviors must be called on the created ui dropdown&#39;,
  labels          : &#39;Allowing user additions currently requires the use of labels.&#39;,
  missingMultiple : &#39;&lt;select&gt; requires multiple property to be set to correctly preserve multiple values&#39;,
  method          : &#39;The method you called is not defined.&#39;,
  noAPI           : &#39;The API module is required to load resources remotely&#39;,
  noStorage       : &#39;Saving remote data requires session storage&#39;,
  noTransition    : &#39;This module requires ui transitions &lt;https://github.com/Semantic-Org/UI-Transition&gt;&#39;
},

regExp : {
  escape   : /[-[\]{}()*+?.,\\^$|#\s]/g,
},

metadata : {
  defaultText     : &#39;defaultText&#39;,
  defaultValue    : &#39;defaultValue&#39;,
  placeholderText : &#39;placeholder&#39;,
  text            : &#39;text&#39;,
  value           : &#39;value&#39;
},

// property names for remote query
fields: {
  remoteValues : &#39;results&#39;, // grouping for api results
  values       : &#39;values&#39;, // grouping for all dropdown values
  name         : &#39;name&#39;,   // displayed dropdown text
  value        : &#39;value&#39;   // actual dropdown value
},

keys : {
  backspace  : 8,
  delimiter  : 188, // comma
  deleteKey  : 46,
  enter      : 13,
  escape     : 27,
  pageUp     : 33,
  pageDown   : 34,
  leftArrow  : 37,
  upArrow    : 38,
  rightArrow : 39,
  downArrow  : 40
},

selector : {
  addition     : &#39;.addition&#39;,
  dropdown     : &#39;.ui.dropdown&#39;,
  icon         : &#39;&gt; .dropdown.icon&#39;,
  input        : &#39;&gt; input[type=&quot;hidden&quot;], &gt; select&#39;,
  item         : &#39;.item&#39;,
  label        : &#39;&gt; .label&#39;,
  remove       : &#39;&gt; .label &gt; .delete.icon&#39;,
  siblingLabel : &#39;.label&#39;,
  menu         : &#39;.menu&#39;,
  message      : &#39;.message&#39;,
  menuIcon     : &#39;.dropdown.icon&#39;,
  search       : &#39;input.search, .menu &gt; .search &gt; input&#39;,
  text         : &#39;&gt; .text:not(.icon)&#39;,
  unselectable : &#39;.disabled, .filtered&#39;
},

className : {
  active      : &#39;active&#39;,
  addition    : &#39;addition&#39;,
  animating   : &#39;animating&#39;,
  disabled    : &#39;disabled&#39;,
  dropdown    : &#39;ui dropdown&#39;,
  filtered    : &#39;filtered&#39;,
  hidden      : &#39;hidden transition&#39;,
  item        : &#39;item&#39;,
  label       : &#39;ui label&#39;,
  loading     : &#39;loading&#39;,
  menu        : &#39;menu&#39;,
  message     : &#39;message&#39;,
  multiple    : &#39;multiple&#39;,
  placeholder : &#39;default&#39;,
  search      : &#39;search&#39;,
  selected    : &#39;selected&#39;,
  selection   : &#39;selection&#39;,
  upward      : &#39;upward&#39;,
  visible     : &#39;visible&#39;
}</pre>

<p>};</p>

<p>/* Templates */ $.fn.dropdown.settings.templates = {</p>

<pre>// generates dropdown from select values
dropdown: function(select) {
  var
    placeholder = select.placeholder || false,
    values      = select.values || {},
    html        = &#39;&#39;
  ;
  html +=  &#39;&lt;i class=&quot;dropdown icon&quot;&gt;&lt;/i&gt;&#39;;
  if(select.placeholder) {
    html += &#39;&lt;div class=&quot;default text&quot;&gt;&#39; + placeholder + &#39;&lt;/div&gt;&#39;;
  }
  else {
    html += &#39;&lt;div class=&quot;text&quot;&gt;&lt;/div&gt;&#39;;
  }
  html += &#39;&lt;div class=&quot;menu&quot;&gt;&#39;;
  $.each(select.values, function(index, option) {
    html += (option.disabled)
      ? &#39;&lt;div class=&quot;disabled item&quot; data-value=&quot;&#39; + option.value + &#39;&quot;&gt;&#39; + option.name + &#39;&lt;/div&gt;&#39;
      : &#39;&lt;div class=&quot;item&quot; data-value=&quot;&#39; + option.value + &#39;&quot;&gt;&#39; + option.name + &#39;&lt;/div&gt;&#39;
    ;
  });
  html += &#39;&lt;/div&gt;&#39;;
  return html;
},

// generates just menu from select
menu: function(response, fields) {
  var
    values = response[fields.values] || {},
    html   = &#39;&#39;
  ;
  $.each(values, function(index, option) {
    html += &#39;&lt;div class=&quot;item&quot; data-value=&quot;&#39; + option[fields.value] + &#39;&quot;&gt;&#39; + option[fields.name] + &#39;&lt;/div&gt;&#39;;
  });
  return html;
},

// generates label for multiselect
label: function(value, text) {
  return text + &#39;&lt;i class=&quot;delete icon&quot;&gt;&lt;/i&gt;&#39;;
},

// generates messages like &quot;No results&quot;
message: function(message) {
  return message;
},

// generates user addition to selection menu
addition: function(choice) {
  return choice;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Video
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.embed = function(parameters) {</p>

<pre>var
  $allModules     = $(this),

  moduleSelector  = $allModules.selector || &#39;&#39;,

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  returnedValue
;

$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.embed.settings, parameters)
        : $.extend({}, $.fn.embed.settings),

      selector        = settings.selector,
      className       = settings.className,
      sources         = settings.sources,
      error           = settings.error,
      metadata        = settings.metadata,
      namespace       = settings.namespace,
      templates       = settings.templates,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $window         = $(window),
      $module         = $(this),
      $placeholder    = $module.find(selector.placeholder),
      $icon           = $module.find(selector.icon),
      $embed          = $module.find(selector.embed),

      element         = this,
      instance        = $module.data(moduleNamespace),
      module
    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing embed&#39;);
        module.determine.autoplay();
        module.create();
        module.bind.events();
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous instance of embed&#39;);
        module.reset();
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
      },

      refresh: function() {
        module.verbose(&#39;Refreshing selector cache&#39;);
        $placeholder = $module.find(selector.placeholder);
        $icon        = $module.find(selector.icon);
        $embed       = $module.find(selector.embed);
      },

      bind: {
        events: function() {
          if( module.has.placeholder() ) {
            module.debug(&#39;Adding placeholder events&#39;);
            $module
              .on(&#39;click&#39; + eventNamespace, selector.placeholder, module.createAndShow)
              .on(&#39;click&#39; + eventNamespace, selector.icon, module.createAndShow)
            ;
          }
        }
      },

      create: function() {
        var
          placeholder = module.get.placeholder()
        ;
        if(placeholder) {
          module.createPlaceholder();
        }
        else {
          module.createAndShow();
        }
      },

      createPlaceholder: function(placeholder) {
        var
          icon  = module.get.icon(),
          url   = module.get.url(),
          embed = module.generate.embed(url)
        ;
        placeholder = placeholder || module.get.placeholder();
        $module.html( templates.placeholder(placeholder, icon) );
        module.debug(&#39;Creating placeholder for embed&#39;, placeholder, icon);
      },

      createEmbed: function(url) {
        module.refresh();
        url = url || module.get.url();
        $embed = $(&#39;&lt;div/&gt;&#39;)
          .addClass(className.embed)
          .html( module.generate.embed(url) )
          .appendTo($module)
        ;
        settings.onCreate.call(element, url);
        module.debug(&#39;Creating embed object&#39;, $embed);
      },

      createAndShow: function() {
        module.createEmbed();
        module.show();
      },

      // sets new embed
      change: function(source, id, url) {
        module.debug(&#39;Changing video to &#39;, source, id, url);
        $module
          .data(metadata.source, source)
          .data(metadata.id, id)
          .data(metadata.url, url)
        ;
        module.create();
      },

      // clears embed
      reset: function() {
        module.debug(&#39;Clearing embed and showing placeholder&#39;);
        module.remove.active();
        module.remove.embed();
        module.showPlaceholder();
        settings.onReset.call(element);
      },

      // shows current embed
      show: function() {
        module.debug(&#39;Showing embed&#39;);
        module.set.active();
        settings.onDisplay.call(element);
      },

      hide: function() {
        module.debug(&#39;Hiding embed&#39;);
        module.showPlaceholder();
      },

      showPlaceholder: function() {
        module.debug(&#39;Showing placeholder image&#39;);
        module.remove.active();
        settings.onPlaceholderDisplay.call(element);
      },

      get: {
        id: function() {
          return settings.id || $module.data(metadata.id);
        },
        placeholder: function() {
          return settings.placeholder || $module.data(metadata.placeholder);
        },
        icon: function() {
          return (settings.icon)
            ? settings.icon
            : ($module.data(metadata.icon) !== undefined)
              ? $module.data(metadata.icon)
              : module.determine.icon()
          ;
        },
        source: function(url) {
          return (settings.source)
            ? settings.source
            : ($module.data(metadata.source) !== undefined)
              ? $module.data(metadata.source)
              : module.determine.source()
          ;
        },
        type: function() {
          var source = module.get.source();
          return (sources[source] !== undefined)
            ? sources[source].type
            : false
          ;
        },
        url: function() {
          return (settings.url)
            ? settings.url
            : ($module.data(metadata.url) !== undefined)
              ? $module.data(metadata.url)
              : module.determine.url()
          ;
        }
      },

      determine: {
        autoplay: function() {
          if(module.should.autoplay()) {
            settings.autoplay = true;
          }
        },
        source: function(url) {
          var
            matchedSource = false
          ;
          url = url || module.get.url();
          if(url) {
            $.each(sources, function(name, source) {
              if(url.search(source.domain) !== -1) {
                matchedSource = name;
                return false;
              }
            });
          }
          return matchedSource;
        },
        icon: function() {
          var
            source = module.get.source()
          ;
          return (sources[source] !== undefined)
            ? sources[source].icon
            : false
          ;
        },
        url: function() {
          var
            id     = settings.id     || $module.data(metadata.id),
            source = settings.source || $module.data(metadata.source),
            url
          ;
          url = (sources[source] !== undefined)
            ? sources[source].url.replace(&#39;{id}&#39;, id)
            : false
          ;
          if(url) {
            $module.data(metadata.url, url);
          }
          return url;
        }
      },

      set: {
        active: function() {
          $module.addClass(className.active);
        }
      },

      remove: {
        active: function() {
          $module.removeClass(className.active);
        },
        embed: function() {
          $embed.empty();
        }
      },

      encode: {
        parameters: function(parameters) {
          var
            urlString = [],
            index
          ;
          for (index in parameters) {
            urlString.push( encodeURIComponent(index) + &#39;=&#39; + encodeURIComponent( parameters[index] ) );
          }
          return urlString.join(&#39;&amp;amp;&#39;);
        }
      },

      generate: {
        embed: function(url) {
          module.debug(&#39;Generating embed html&#39;);
          var
            source = module.get.source(),
            html,
            parameters
          ;
          url = module.get.url(url);
          if(url) {
            parameters = module.generate.parameters(source);
            html       = templates.iframe(url, parameters);
          }
          else {
            module.error(error.noURL, $module);
          }
          return html;
        },
        parameters: function(source, extraParameters) {
          var
            parameters = (sources[source] &amp;&amp; sources[source].parameters !== undefined)
              ? sources[source].parameters(settings)
              : {}
          ;
          extraParameters = extraParameters || settings.parameters;
          if(extraParameters) {
            parameters = $.extend({}, parameters, extraParameters);
          }
          parameters = settings.onEmbed(parameters);
          return module.encode.parameters(parameters);
        }
      },

      has: {
        placeholder: function() {
          return settings.placeholder || $module.data(metadata.placeholder);
        }
      },

      should: {
        autoplay: function() {
          return (settings.autoplay === &#39;auto&#39;)
            ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)
            : settings.autoplay
          ;
        }
      },

      is: {
        video: function() {
          return module.get.type() == &#39;video&#39;;
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;
return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.embed.settings = {</p>

<pre>name        : &#39;Embed&#39;,
namespace   : &#39;embed&#39;,

debug       : false,
verbose     : false,
performance : true,

icon     : false,
source   : false,
url      : false,
id       : false,

// standard video settings
autoplay  : &#39;auto&#39;,
color     : &#39;#444444&#39;,
hd        : true,
brandedUI : false,

// additional parameters to include with the embed
parameters: false,

onDisplay            : function() {},
onPlaceholderDisplay : function() {},
onReset              : function() {},
onCreate             : function(url) {},
onEmbed              : function(parameters) {
  return parameters;
},

metadata    : {
  id          : &#39;id&#39;,
  icon        : &#39;icon&#39;,
  placeholder : &#39;placeholder&#39;,
  source      : &#39;source&#39;,
  url         : &#39;url&#39;
},

error : {
  noURL  : &#39;No URL specified&#39;,
  method : &#39;The method you called is not defined&#39;
},

className : {
  active : &#39;active&#39;,
  embed  : &#39;embed&#39;
},

selector : {
  embed       : &#39;.embed&#39;,
  placeholder : &#39;.placeholder&#39;,
  icon        : &#39;.icon&#39;
},

sources: {
  youtube: {
    name   : &#39;youtube&#39;,
    type   : &#39;video&#39;,
    icon   : &#39;video play&#39;,
    domain : &#39;youtube.com&#39;,
    url    : &#39;//www.youtube.com/embed/{id}&#39;,
    parameters: function(settings) {
      return {
        autohide       : !settings.brandedUI,
        autoplay       : settings.autoplay,
        color          : settings.colors || undefined,
        hq             : settings.hd,
        jsapi          : settings.api,
        modestbranding : !settings.brandedUI
      };
    }
  },
  vimeo: {
    name   : &#39;vimeo&#39;,
    type   : &#39;video&#39;,
    icon   : &#39;video play&#39;,
    domain : &#39;vimeo.com&#39;,
    url    : &#39;//player.vimeo.com/video/{id}&#39;,
    parameters: function(settings) {
      return {
        api      : settings.api,
        autoplay : settings.autoplay,
        byline   : settings.brandedUI,
        color    : settings.colors || undefined,
        portrait : settings.brandedUI,
        title    : settings.brandedUI
      };
    }
  }
},

templates: {
  iframe : function(url, parameters) {
    return &#39;&#39;
      + &#39;&lt;iframe src=&quot;&#39; + url + &#39;?&#39; + parameters + &#39;&quot;&#39;
      + &#39; width=&quot;100%&quot; height=&quot;100%&quot;&#39;
      + &#39; frameborder=&quot;0&quot; scrolling=&quot;no&quot; webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;&#39;
    ;
  },
  placeholder : function(image, icon) {
    var
      html = &#39;&#39;
    ;
    if(icon) {
      html += &#39;&lt;i class=&quot;&#39; + icon + &#39; icon&quot;&gt;&lt;/i&gt;&#39;;
    }
    if(image) {
      html += &#39;&lt;img class=&quot;placeholder&quot; src=&quot;&#39; + image + &#39;&quot;&gt;&#39;;
    }
    return html;
  }
},

// NOT YET IMPLEMENTED
api     : true,
onPause : function() {},
onPlay  : function() {},
onStop  : function() {}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Modal
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.modal = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  $window        = $(window),
  $document      = $(document),
  $body          = $(&#39;body&#39;),

  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),

  requestAnimationFrame = window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || function(callback) { setTimeout(callback, 0); },

  returnedValue
;

$allModules
  .each(function() {
    var
      settings    = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.modal.settings, parameters)
        : $.extend({}, $.fn.modal.settings),

      selector        = settings.selector,
      className       = settings.className,
      namespace       = settings.namespace,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $module         = $(this),
      $context        = $(settings.context),
      $close          = $module.find(selector.close),

      $allModals,
      $otherModals,
      $focusedElement,
      $dimmable,
      $dimmer,

      element         = this,
      instance        = $module.data(moduleNamespace),

      elementNamespace,
      id,
      observer,
      module
    ;
    module  = {

      initialize: function() {
        module.verbose(&#39;Initializing dimmer&#39;, $context);

        module.create.id();
        module.create.dimmer();
        module.refreshModals();

        module.bind.events();
        if(settings.observeChanges) {
          module.observeChanges();
        }
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of modal&#39;);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      create: {
        dimmer: function() {
          var
            defaultSettings = {
              debug      : settings.debug,
              dimmerName : &#39;modals&#39;,
              duration   : {
                show     : settings.duration,
                hide     : settings.duration
              }
            },
            dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)
          ;
          if(settings.inverted) {
            dimmerSettings.variation = (dimmerSettings.variation !== undefined)
              ? dimmerSettings.variation + &#39; inverted&#39;
              : &#39;inverted&#39;
            ;
          }
          if($.fn.dimmer === undefined) {
            module.error(error.dimmer);
            return;
          }
          module.debug(&#39;Creating dimmer with settings&#39;, dimmerSettings);
          $dimmable = $context.dimmer(dimmerSettings);
          if(settings.detachable) {
            module.verbose(&#39;Modal is detachable, moving content into dimmer&#39;);
            $dimmable.dimmer(&#39;add content&#39;, $module);
          }
          else {
            module.set.undetached();
          }
          if(settings.blurring) {
            $dimmable.addClass(className.blurring);
          }
          $dimmer = $dimmable.dimmer(&#39;get dimmer&#39;);
        },
        id: function() {
          id = (Math.random().toString(16) + &#39;000000000&#39;).substr(2,8);
          elementNamespace = &#39;.&#39; + id;
          module.verbose(&#39;Creating unique id for element&#39;, id);
        }
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous modal&#39;);
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
        $window.off(elementNamespace);
        $close.off(eventNamespace);
        $context.dimmer(&#39;destroy&#39;);
      },

      observeChanges: function() {
        if(&#39;MutationObserver&#39; in window) {
          observer = new MutationObserver(function(mutations) {
            module.debug(&#39;DOM tree modified, refreshing&#39;);
            module.refresh();
          });
          observer.observe(element, {
            childList : true,
            subtree   : true
          });
          module.debug(&#39;Setting up mutation observer&#39;, observer);
        }
      },

      refresh: function() {
        module.remove.scrolling();
        module.cacheSizes();
        module.set.screenHeight();
        module.set.type();
        module.set.position();
      },

      refreshModals: function() {
        $otherModals = $module.siblings(selector.modal);
        $allModals   = $otherModals.add($module);
      },

      attachEvents: function(selector, event) {
        var
          $toggle = $(selector)
        ;
        event = $.isFunction(module[event])
          ? module[event]
          : module.toggle
        ;
        if($toggle.length &gt; 0) {
          module.debug(&#39;Attaching modal events to element&#39;, selector, event);
          $toggle
            .off(eventNamespace)
            .on(&#39;click&#39; + eventNamespace, event)
          ;
        }
        else {
          module.error(error.notFound, selector);
        }
      },

      bind: {
        events: function() {
          module.verbose(&#39;Attaching events&#39;);
          $module
            .on(&#39;click&#39; + eventNamespace, selector.close, module.event.close)
            .on(&#39;click&#39; + eventNamespace, selector.approve, module.event.approve)
            .on(&#39;click&#39; + eventNamespace, selector.deny, module.event.deny)
          ;
          $window
            .on(&#39;resize&#39; + elementNamespace, module.event.resize)
          ;
        }
      },

      get: {
        id: function() {
          return (Math.random().toString(16) + &#39;000000000&#39;).substr(2,8);
        }
      },

      event: {
        approve: function() {
          if(settings.onApprove.call(element, $(this)) === false) {
            module.verbose(&#39;Approve callback returned false cancelling hide&#39;);
            return;
          }
          module.hide();
        },
        deny: function() {
          if(settings.onDeny.call(element, $(this)) === false) {
            module.verbose(&#39;Deny callback returned false cancelling hide&#39;);
            return;
          }
          module.hide();
        },
        close: function() {
          module.hide();
        },
        click: function(event) {
          var
            $target   = $(event.target),
            isInModal = ($target.closest(selector.modal).length &gt; 0),
            isInDOM   = $.contains(document.documentElement, event.target)
          ;
          if(!isInModal &amp;&amp; isInDOM) {
            module.debug(&#39;Dimmer clicked, hiding all modals&#39;);
            if( module.is.active() ) {
              module.remove.clickaway();
              if(settings.allowMultiple) {
                module.hide();
              }
              else {
                module.hideAll();
              }
            }
          }
        },
        debounce: function(method, delay) {
          clearTimeout(module.timer);
          module.timer = setTimeout(method, delay);
        },
        keyboard: function(event) {
          var
            keyCode   = event.which,
            escapeKey = 27
          ;
          if(keyCode == escapeKey) {
            if(settings.closable) {
              module.debug(&#39;Escape key pressed hiding modal&#39;);
              module.hide();
            }
            else {
              module.debug(&#39;Escape key pressed, but closable is set to false&#39;);
            }
            event.preventDefault();
          }
        },
        resize: function() {
          if( $dimmable.dimmer(&#39;is active&#39;) ) {
            requestAnimationFrame(module.refresh);
          }
        }
      },

      toggle: function() {
        if( module.is.active() || module.is.animating() ) {
          module.hide();
        }
        else {
          module.show();
        }
      },

      show: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        module.refreshModals();
        module.showModal(callback);
      },

      hide: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        module.refreshModals();
        module.hideModal(callback);
      },

      showModal: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( module.is.animating() || !module.is.active() ) {

          module.showDimmer();
          module.cacheSizes();
          module.set.position();
          module.set.screenHeight();
          module.set.type();
          module.set.clickaway();

          if( !settings.allowMultiple &amp;&amp; module.others.active() ) {
            module.hideOthers(module.showModal);
          }
          else {
            settings.onShow.call(element);
            if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
              module.debug(&#39;Showing modal with css animations&#39;);
              $module
                .transition({
                  debug       : settings.debug,
                  animation   : settings.transition + &#39; in&#39;,
                  queue       : settings.queue,
                  duration    : settings.duration,
                  useFailSafe : true,
                  onComplete : function() {
                    settings.onVisible.apply(element);
                    module.add.keyboardShortcuts();
                    module.save.focus();
                    module.set.active();
                    if(settings.autofocus) {
                      module.set.autofocus();
                    }
                    callback();
                  }
                })
              ;
            }
            else {
              module.error(error.noTransition);
            }
          }
        }
        else {
          module.debug(&#39;Modal is already visible&#39;);
        }
      },

      hideModal: function(callback, keepDimmed) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        module.debug(&#39;Hiding modal&#39;);
        if(settings.onHide.call(element, $(this)) === false) {
          module.verbose(&#39;Hide callback returned false cancelling hide&#39;);
          return;
        }

        if( module.is.animating() || module.is.active() ) {
          if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
            module.remove.active();
            $module
              .transition({
                debug       : settings.debug,
                animation   : settings.transition + &#39; out&#39;,
                queue       : settings.queue,
                duration    : settings.duration,
                useFailSafe : true,
                onStart     : function() {
                  if(!module.others.active() &amp;&amp; !keepDimmed) {
                    module.hideDimmer();
                  }
                  module.remove.keyboardShortcuts();
                },
                onComplete : function() {
                  settings.onHidden.call(element);
                  module.restore.focus();
                  callback();
                }
              })
            ;
          }
          else {
            module.error(error.noTransition);
          }
        }
      },

      showDimmer: function() {
        if($dimmable.dimmer(&#39;is animating&#39;) || !$dimmable.dimmer(&#39;is active&#39;) ) {
          module.debug(&#39;Showing dimmer&#39;);
          $dimmable.dimmer(&#39;show&#39;);
        }
        else {
          module.debug(&#39;Dimmer already visible&#39;);
        }
      },

      hideDimmer: function() {
        if( $dimmable.dimmer(&#39;is animating&#39;) || ($dimmable.dimmer(&#39;is active&#39;)) ) {
          $dimmable.dimmer(&#39;hide&#39;, function() {
            module.remove.clickaway();
            module.remove.screenHeight();
          });
        }
        else {
          module.debug(&#39;Dimmer is not visible cannot hide&#39;);
          return;
        }
      },

      hideAll: function(callback) {
        var
          $visibleModals = $allModals.filter(&#39;.&#39; + className.active + &#39;, .&#39; + className.animating)
        ;
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( $visibleModals.length &gt; 0 ) {
          module.debug(&#39;Hiding all visible modals&#39;);
          module.hideDimmer();
          $visibleModals
            .modal(&#39;hide modal&#39;, callback)
          ;
        }
      },

      hideOthers: function(callback) {
        var
          $visibleModals = $otherModals.filter(&#39;.&#39; + className.active + &#39;, .&#39; + className.animating)
        ;
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if( $visibleModals.length &gt; 0 ) {
          module.debug(&#39;Hiding other modals&#39;, $otherModals);
          $visibleModals
            .modal(&#39;hide modal&#39;, callback, true)
          ;
        }
      },

      others: {
        active: function() {
          return ($otherModals.filter(&#39;.&#39; + className.active).length &gt; 0);
        },
        animating: function() {
          return ($otherModals.filter(&#39;.&#39; + className.animating).length &gt; 0);
        }
      },

      add: {
        keyboardShortcuts: function() {
          module.verbose(&#39;Adding keyboard shortcuts&#39;);
          $document
            .on(&#39;keyup&#39; + eventNamespace, module.event.keyboard)
          ;
        }
      },

      save: {
        focus: function() {
          $focusedElement = $(document.activeElement).blur();
        }
      },

      restore: {
        focus: function() {
          if($focusedElement &amp;&amp; $focusedElement.length &gt; 0) {
            $focusedElement.focus();
          }
        }
      },

      remove: {
        active: function() {
          $module.removeClass(className.active);
        },
        clickaway: function() {
          if(settings.closable) {
            $dimmer
              .off(&#39;click&#39; + elementNamespace)
            ;
          }
        },
        bodyStyle: function() {
          if($body.attr(&#39;style&#39;) === &#39;&#39;) {
            module.verbose(&#39;Removing style attribute&#39;);
            $body.removeAttr(&#39;style&#39;);
          }
        },
        screenHeight: function() {
          module.debug(&#39;Removing page height&#39;);
          $body
            .css(&#39;height&#39;, &#39;&#39;)
          ;
        },
        keyboardShortcuts: function() {
          module.verbose(&#39;Removing keyboard shortcuts&#39;);
          $document
            .off(&#39;keyup&#39; + eventNamespace)
          ;
        },
        scrolling: function() {
          $dimmable.removeClass(className.scrolling);
          $module.removeClass(className.scrolling);
        }
      },

      cacheSizes: function() {
        var
          modalHeight = $module.outerHeight()
        ;
        if(module.cache === undefined || modalHeight !== 0) {
          module.cache = {
            pageHeight    : $(document).outerHeight(),
            height        : modalHeight + settings.offset,
            contextHeight : (settings.context == &#39;body&#39;)
              ? $(window).height()
              : $dimmable.height()
          };
        }
        module.debug(&#39;Caching modal and container sizes&#39;, module.cache);
      },

      can: {
        fit: function() {
          return ( ( module.cache.height + (settings.padding * 2) ) &lt; module.cache.contextHeight);
        }
      },

      is: {
        active: function() {
          return $module.hasClass(className.active);
        },
        animating: function() {
          return $module.transition(&#39;is supported&#39;)
            ? $module.transition(&#39;is animating&#39;)
            : $module.is(&#39;:visible&#39;)
          ;
        },
        scrolling: function() {
          return $dimmable.hasClass(className.scrolling);
        },
        modernBrowser: function() {
          // appName for IE11 reports &#39;Netscape&#39; can no longer use
          return !(window.ActiveXObject || &quot;ActiveXObject&quot; in window);
        }
      },

      set: {
        autofocus: function() {
          var
            $inputs    = $module.find(&#39;:input&#39;).filter(&#39;:visible&#39;),
            $autofocus = $inputs.filter(&#39;[autofocus]&#39;),
            $input     = ($autofocus.length &gt; 0)
              ? $autofocus.first()
              : $inputs.first()
          ;
          if($input.length &gt; 0) {
            $input.focus();
          }
        },
        clickaway: function() {
          if(settings.closable) {
            $dimmer
              .on(&#39;click&#39; + elementNamespace, module.event.click)
            ;
          }
        },
        screenHeight: function() {
          if( module.can.fit() ) {
            $body.css(&#39;height&#39;, &#39;&#39;);
          }
          else {
            module.debug(&#39;Modal is taller than page content, resizing page height&#39;);
            $body
              .css(&#39;height&#39;, module.cache.height + (settings.padding * 2) )
            ;
          }
        },
        active: function() {
          $module.addClass(className.active);
        },
        scrolling: function() {
          $dimmable.addClass(className.scrolling);
          $module.addClass(className.scrolling);
        },
        type: function() {
          if(module.can.fit()) {
            module.verbose(&#39;Modal fits on screen&#39;);
            if(!module.others.active() &amp;&amp; !module.others.animating()) {
              module.remove.scrolling();
            }
          }
          else {
            module.verbose(&#39;Modal cannot fit on screen setting to scrolling&#39;);
            module.set.scrolling();
          }
        },
        position: function() {
          module.verbose(&#39;Centering modal on page&#39;, module.cache);
          if(module.can.fit()) {
            $module
              .css({
                top: &#39;&#39;,
                marginTop: -(module.cache.height / 2)
              })
            ;
          }
          else {
            $module
              .css({
                marginTop : &#39;&#39;,
                top       : $document.scrollTop()
              })
            ;
          }
        },
        undetached: function() {
          $dimmable.addClass(className.undetached);
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.modal.settings = {</p>

<pre>name           : &#39;Modal&#39;,
namespace      : &#39;modal&#39;,

debug          : false,
verbose        : false,
performance    : true,

observeChanges : false,

allowMultiple  : false,
detachable     : true,
closable       : true,
autofocus      : true,

inverted       : false,
blurring       : false,

dimmerSettings : {
  closable : false,
  useCSS   : true
},

context    : &#39;body&#39;,

queue      : false,
duration   : 500,
offset     : 0,
transition : &#39;scale&#39;,

// padding with edge of page
padding    : 50,

// called before show animation
onShow     : function(){},

// called after show animation
onVisible  : function(){},

// called before hide animation
onHide     : function(){ return true; },

// called after hide animation
onHidden   : function(){},

// called after approve selector match
onApprove  : function(){ return true; },

// called after deny selector match
onDeny     : function(){ return true; },

selector    : {
  close    : &#39;&gt; .close&#39;,
  approve  : &#39;.actions .positive, .actions .approve, .actions .ok&#39;,
  deny     : &#39;.actions .negative, .actions .deny, .actions .cancel&#39;,
  modal    : &#39;.ui.modal&#39;
},
error : {
  dimmer    : &#39;UI Dimmer, a required component is not included in this page&#39;,
  method    : &#39;The method you called is not defined.&#39;,
  notFound  : &#39;The element you specified could not be found&#39;
},
className : {
  active     : &#39;active&#39;,
  animating  : &#39;animating&#39;,
  blurring   : &#39;blurring&#39;,
  scrolling  : &#39;scrolling&#39;,
  undetached : &#39;undetached&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Nag
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.nag = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),
  returnedValue
;
$allModules
  .each(function() {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.nag.settings, parameters)
        : $.extend({}, $.fn.nag.settings),

      className       = settings.className,
      selector        = settings.selector,
      error           = settings.error,
      namespace       = settings.namespace,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = namespace + &#39;-module&#39;,

      $module         = $(this),

      $close          = $module.find(selector.close),
      $context        = (settings.context)
        ? $(settings.context)
        : $(&#39;body&#39;),

      element         = this,
      instance        = $module.data(moduleNamespace),

      moduleOffset,
      moduleHeight,

      contextWidth,
      contextHeight,
      contextOffset,

      yOffset,
      yPosition,

      timer,
      module,

      requestAnimationFrame = window.requestAnimationFrame
        || window.mozRequestAnimationFrame
        || window.webkitRequestAnimationFrame
        || window.msRequestAnimationFrame
        || function(callback) { setTimeout(callback, 0); }
    ;
    module = {

      initialize: function() {
        module.verbose(&#39;Initializing element&#39;);

        $module
          .on(&#39;click&#39; + eventNamespace, selector.close, module.dismiss)
          .data(moduleNamespace, module)
        ;

        if(settings.detachable &amp;&amp; $module.parent()[0] !== $context[0]) {
          $module
            .detach()
            .prependTo($context)
          ;
        }

        if(settings.displayTime &gt; 0) {
          setTimeout(module.hide, settings.displayTime);
        }
        module.show();
      },

      destroy: function() {
        module.verbose(&#39;Destroying instance&#39;);
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
      },

      show: function() {
        if( module.should.show() &amp;&amp; !$module.is(&#39;:visible&#39;) ) {
          module.debug(&#39;Showing nag&#39;, settings.animation.show);
          if(settings.animation.show == &#39;fade&#39;) {
            $module
              .fadeIn(settings.duration, settings.easing)
            ;
          }
          else {
            $module
              .slideDown(settings.duration, settings.easing)
            ;
          }
        }
      },

      hide: function() {
        module.debug(&#39;Showing nag&#39;, settings.animation.hide);
        if(settings.animation.show == &#39;fade&#39;) {
          $module
            .fadeIn(settings.duration, settings.easing)
          ;
        }
        else {
          $module
            .slideUp(settings.duration, settings.easing)
          ;
        }
      },

      onHide: function() {
        module.debug(&#39;Removing nag&#39;, settings.animation.hide);
        $module.remove();
        if (settings.onHide) {
          settings.onHide();
        }
      },

      dismiss: function(event) {
        if(settings.storageMethod) {
          module.storage.set(settings.key, settings.value);
        }
        module.hide();
        event.stopImmediatePropagation();
        event.preventDefault();
      },

      should: {
        show: function() {
          if(settings.persist) {
            module.debug(&#39;Persistent nag is set, can show nag&#39;);
            return true;
          }
          if( module.storage.get(settings.key) != settings.value.toString() ) {
            module.debug(&#39;Stored value is not set, can show nag&#39;, module.storage.get(settings.key));
            return true;
          }
          module.debug(&#39;Stored value is set, cannot show nag&#39;, module.storage.get(settings.key));
          return false;
        }
      },

      get: {
        storageOptions: function() {
          var
            options = {}
          ;
          if(settings.expires) {
            options.expires = settings.expires;
          }
          if(settings.domain) {
            options.domain = settings.domain;
          }
          if(settings.path) {
            options.path = settings.path;
          }
          return options;
        }
      },

      clear: function() {
        module.storage.remove(settings.key);
      },

      storage: {
        set: function(key, value) {
          var
            options = module.get.storageOptions()
          ;
          if(settings.storageMethod == &#39;localstorage&#39; &amp;&amp; window.localStorage !== undefined) {
            window.localStorage.setItem(key, value);
            module.debug(&#39;Value stored using local storage&#39;, key, value);
          }
          else if(settings.storageMethod == &#39;sessionstorage&#39; &amp;&amp; window.sessionStorage !== undefined) {
            window.sessionStorage.setItem(key, value);
            module.debug(&#39;Value stored using session storage&#39;, key, value);
          }
          else if($.cookie !== undefined) {
            $.cookie(key, value, options);
            module.debug(&#39;Value stored using cookie&#39;, key, value, options);
          }
          else {
            module.error(error.noCookieStorage);
            return;
          }
        },
        get: function(key, value) {
          var
            storedValue
          ;
          if(settings.storageMethod == &#39;localstorage&#39; &amp;&amp; window.localStorage !== undefined) {
            storedValue = window.localStorage.getItem(key);
          }
          else if(settings.storageMethod == &#39;sessionstorage&#39; &amp;&amp; window.sessionStorage !== undefined) {
            storedValue = window.sessionStorage.getItem(key);
          }
          // get by cookie
          else if($.cookie !== undefined) {
            storedValue = $.cookie(key);
          }
          else {
            module.error(error.noCookieStorage);
          }
          if(storedValue == &#39;undefined&#39; || storedValue == &#39;null&#39; || storedValue === undefined || storedValue === null) {
            storedValue = undefined;
          }
          return storedValue;
        },
        remove: function(key) {
          var
            options = module.get.storageOptions()
          ;
          if(settings.storageMethod == &#39;localstorage&#39; &amp;&amp; window.localStorage !== undefined) {
            window.localStorage.removeItem(key);
          }
          else if(settings.storageMethod == &#39;sessionstorage&#39; &amp;&amp; window.sessionStorage !== undefined) {
            window.sessionStorage.removeItem(key);
          }
          // store by cookie
          else if($.cookie !== undefined) {
            $.removeCookie(key, options);
          }
          else {
            module.error(error.noStorage);
          }
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.nag.settings = {</p>

<pre>name        : &#39;Nag&#39;,

debug       : false,
verbose     : false,
performance : true,

namespace   : &#39;Nag&#39;,

// allows cookie to be overriden
persist     : false,

// set to zero to require manually dismissal, otherwise hides on its own
displayTime : 0,

animation   : {
  show : &#39;slide&#39;,
  hide : &#39;slide&#39;
},

context       : false,
detachable    : false,

expires       : 30,
domain        : false,
path          : &#39;/&#39;,

// type of storage to use
storageMethod : &#39;cookie&#39;,

// value to store in dismissed localstorage/cookie
key           : &#39;nag&#39;,
value         : &#39;dismiss&#39;,

error: {
  noCookieStorage : &#39;$.cookie is not included. A storage solution is required.&#39;,
  noStorage       : &#39;Neither $.cookie or store is defined. A storage solution is required for storing state&#39;,
  method          : &#39;The method you called is not defined.&#39;
},

className     : {
  bottom : &#39;bottom&#39;,
  fixed  : &#39;fixed&#39;
},

selector      : {
  close : &#39;.close.icon&#39;
},

speed         : 500,
easing        : &#39;easeOutQuad&#39;,

onHide: function() {}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Popup
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.popup = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  $document      = $(document),
  $window        = $(window),
  $body          = $(&#39;body&#39;),

  moduleSelector = $allModules.selector || &#39;&#39;,

  hasTouch       = (true),
  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),

  returnedValue
;
$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.popup.settings, parameters)
        : $.extend({}, $.fn.popup.settings),

      selector           = settings.selector,
      className          = settings.className,
      error              = settings.error,
      metadata           = settings.metadata,
      namespace          = settings.namespace,

      eventNamespace     = &#39;.&#39; + settings.namespace,
      moduleNamespace    = &#39;module-&#39; + namespace,

      $module            = $(this),
      $context           = $(settings.context),
      $target            = (settings.target)
        ? $(settings.target)
        : $module,

      $popup,
      $offsetParent,

      searchDepth        = 0,
      triedPositions     = false,
      openedWithTouch    = false,

      element            = this,
      instance           = $module.data(moduleNamespace),

      elementNamespace,
      id,
      module
    ;

    module = {

      // binds events
      initialize: function() {
        module.debug(&#39;Initializing&#39;, $module);
        module.createID();
        module.bind.events();
        if( !module.exists() &amp;&amp; settings.preserve) {
          module.create();
        }
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      refresh: function() {
        if(settings.popup) {
          $popup = $(settings.popup).eq(0);
        }
        else {
          if(settings.inline) {
            $popup = $target.nextAll(selector.popup).eq(0);
            settings.popup = $popup;
          }
        }
        if(settings.popup) {
          $popup.addClass(className.loading);
          $offsetParent = module.get.offsetParent();
          $popup.removeClass(className.loading);
          if(settings.movePopup &amp;&amp; module.has.popup() &amp;&amp; module.get.offsetParent($popup)[0] !== $offsetParent[0]) {
            module.debug(&#39;Moving popup to the same offset parent as activating element&#39;);
            $popup
              .detach()
              .appendTo($offsetParent)
            ;
          }
        }
        else {
          $offsetParent = (settings.inline)
            ? module.get.offsetParent($target)
            : module.has.popup()
              ? module.get.offsetParent($popup)
              : $body
          ;
        }
        if( $offsetParent.is(&#39;html&#39;) &amp;&amp; $offsetParent[0] !== $body[0] ) {
          module.debug(&#39;Setting page as offset parent&#39;);
          $offsetParent = $body;
        }
        if( module.get.variation() ) {
          module.set.variation();
        }
      },

      reposition: function() {
        module.refresh();
        module.set.position();
      },

      destroy: function() {
        module.debug(&#39;Destroying previous module&#39;);
        // remove element only if was created dynamically
        if($popup &amp;&amp; !settings.preserve) {
          module.removePopup();
        }
        // clear all timeouts
        clearTimeout(module.hideTimer);
        clearTimeout(module.showTimer);
        // remove events
        $window.off(elementNamespace);
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
      },

      event: {
        start:  function(event) {
          var
            delay = ($.isPlainObject(settings.delay))
              ? settings.delay.show
              : settings.delay
          ;
          clearTimeout(module.hideTimer);
          if(!openedWithTouch) {
            module.showTimer = setTimeout(module.show, delay);
          }
        },
        end:  function() {
          var
            delay = ($.isPlainObject(settings.delay))
              ? settings.delay.hide
              : settings.delay
          ;
          clearTimeout(module.showTimer);
          module.hideTimer = setTimeout(module.hide, delay);
        },
        touchstart: function(event) {
          openedWithTouch = true;
          module.show();
        },
        resize: function() {
          if( module.is.visible() ) {
            module.set.position();
          }
        },
        hideGracefully: function(event) {
          // don&#39;t close on clicks inside popup
          if(event &amp;&amp; $(event.target).closest(selector.popup).length === 0) {
            module.debug(&#39;Click occurred outside popup hiding popup&#39;);
            module.hide();
          }
          else {
            module.debug(&#39;Click was inside popup, keeping popup open&#39;);
          }
        }
      },

      // generates popup html from metadata
      create: function() {
        var
          html      = module.get.html(),
          title     = module.get.title(),
          content   = module.get.content()
        ;

        if(html || content || title) {
          module.debug(&#39;Creating pop-up html&#39;);
          if(!html) {
            html = settings.templates.popup({
              title   : title,
              content : content
            });
          }
          $popup = $(&#39;&lt;div/&gt;&#39;)
            .addClass(className.popup)
            .data(metadata.activator, $module)
            .html(html)
          ;
          if(settings.inline) {
            module.verbose(&#39;Inserting popup element inline&#39;, $popup);
            $popup
              .insertAfter($module)
            ;
          }
          else {
            module.verbose(&#39;Appending popup element to body&#39;, $popup);
            $popup
              .appendTo( $context )
            ;
          }
          module.refresh();
          module.set.variation();

          if(settings.hoverable) {
            module.bind.popup();
          }
          settings.onCreate.call($popup, element);
        }
        else if($target.next(selector.popup).length !== 0) {
          module.verbose(&#39;Pre-existing popup found&#39;);
          settings.inline = true;
          settings.popups  = $target.next(selector.popup).data(metadata.activator, $module);
          module.refresh();
          if(settings.hoverable) {
            module.bind.popup();
          }
        }
        else if(settings.popup) {
          $(settings.popup).data(metadata.activator, $module);
          module.verbose(&#39;Used popup specified in settings&#39;);
          module.refresh();
          if(settings.hoverable) {
            module.bind.popup();
          }
        }
        else {
          module.debug(&#39;No content specified skipping display&#39;, element);
        }
      },

      createID: function() {
        id = (Math.random().toString(16) + &#39;000000000&#39;).substr(2,8);
        elementNamespace = &#39;.&#39; + id;
        module.verbose(&#39;Creating unique id for element&#39;, id);
      },

      // determines popup state
      toggle: function() {
        module.debug(&#39;Toggling pop-up&#39;);
        if( module.is.hidden() ) {
          module.debug(&#39;Popup is hidden, showing pop-up&#39;);
          module.unbind.close();
          module.show();
        }
        else {
          module.debug(&#39;Popup is visible, hiding pop-up&#39;);
          module.hide();
        }
      },

      show: function(callback) {
        callback = callback || function(){};
        module.debug(&#39;Showing pop-up&#39;, settings.transition);
        if(module.is.hidden() &amp;&amp; !( module.is.active() &amp;&amp; module.is.dropdown()) ) {
          if( !module.exists() ) {
            module.create();
          }
          if(settings.onShow.call($popup, element) === false) {
            module.debug(&#39;onShow callback returned false, cancelling popup animation&#39;);
            return;
          }
          else if(!settings.preserve &amp;&amp; !settings.popup) {
            module.refresh();
          }
          if( $popup &amp;&amp; module.set.position() ) {
            module.save.conditions();
            if(settings.exclusive) {
              module.hideAll();
            }
            module.animate.show(callback);
          }
        }
      },

      hide: function(callback) {
        callback = callback || function(){};
        if( module.is.visible() || module.is.animating() ) {
          if(settings.onHide.call($popup, element) === false) {
            module.debug(&#39;onHide callback returned false, cancelling popup animation&#39;);
            return;
          }
          module.remove.visible();
          module.unbind.close();
          module.restore.conditions();
          module.animate.hide(callback);
        }
      },

      hideAll: function() {
        $(selector.popup)
          .filter(&#39;.&#39; + className.visible)
          .each(function() {
            $(this)
              .data(metadata.activator)
              .popup(&#39;hide&#39;)
            ;
          })
        ;
      },
      exists: function() {
        if(!$popup) {
          return false;
        }
        if(settings.inline || settings.popup) {
          return ( module.has.popup() );
        }
        else {
          return ( $popup.closest($context).length &gt;= 1 )
            ? true
            : false
          ;
        }
      },

      removePopup: function() {
        if( module.has.popup() &amp;&amp; !settings.popup) {
          module.debug(&#39;Removing popup&#39;, $popup);
          $popup.remove();
          $popup = undefined;
          settings.onRemove.call($popup, element);
        }
      },

      save: {
        conditions: function() {
          module.cache = {
            title: $module.attr(&#39;title&#39;)
          };
          if (module.cache.title) {
            $module.removeAttr(&#39;title&#39;);
          }
          module.verbose(&#39;Saving original attributes&#39;, module.cache.title);
        }
      },
      restore: {
        conditions: function() {
          if(module.cache &amp;&amp; module.cache.title) {
            $module.attr(&#39;title&#39;, module.cache.title);
            module.verbose(&#39;Restoring original attributes&#39;, module.cache.title);
          }
          return true;
        }
      },
      animate: {
        show: function(callback) {
          callback = $.isFunction(callback) ? callback : function(){};
          if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
            module.set.visible();
            $popup
              .transition({
                animation  : settings.transition + &#39; in&#39;,
                queue      : false,
                debug      : settings.debug,
                verbose    : settings.verbose,
                duration   : settings.duration,
                onComplete : function() {
                  module.bind.close();
                  callback.call($popup, element);
                  settings.onVisible.call($popup, element);
                }
              })
            ;
          }
          else {
            module.error(error.noTransition);
          }
        },
        hide: function(callback) {
          callback = $.isFunction(callback) ? callback : function(){};
          module.debug(&#39;Hiding pop-up&#39;);
          if(settings.onHide.call($popup, element) === false) {
            module.debug(&#39;onHide callback returned false, cancelling popup animation&#39;);
            return;
          }
          if(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;)) {
            $popup
              .transition({
                animation  : settings.transition + &#39; out&#39;,
                queue      : false,
                duration   : settings.duration,
                debug      : settings.debug,
                verbose    : settings.verbose,
                onComplete : function() {
                  module.reset();
                  callback.call($popup, element);
                  settings.onHidden.call($popup, element);
                }
              })
            ;
          }
          else {
            module.error(error.noTransition);
          }
        }
      },

      change: {
        content: function(html) {
          $popup.html(html);
        }
      },

      get: {
        html: function() {
          $module.removeData(metadata.html);
          return $module.data(metadata.html) || settings.html;
        },
        title: function() {
          $module.removeData(metadata.title);
          return $module.data(metadata.title) || settings.title;
        },
        content: function() {
          $module.removeData(metadata.content);
          return $module.data(metadata.content) || $module.attr(&#39;title&#39;) || settings.content;
        },
        variation: function() {
          $module.removeData(metadata.variation);
          return $module.data(metadata.variation) || settings.variation;
        },
        popup: function() {
          return $popup;
        },
        popupOffset: function() {
          return $popup.offset();
        },
        calculations: function() {
          var
            targetElement  = $target[0],
            targetPosition = (settings.inline || (settings.popup &amp;&amp; settings.movePopup))
              ? $target.position()
              : $target.offset(),
            calculations = {},
            screen
          ;
          calculations = {
            // element which is launching popup
            target : {
              element : $target[0],
              width   : $target.outerWidth(),
              height  : $target.outerHeight(),
              top     : targetPosition.top,
              left    : targetPosition.left,
              margin  : {}
            },
            // popup itself
            popup : {
              width  : $popup.outerWidth(),
              height : $popup.outerHeight()
            },
            // offset container (or 3d context)
            parent : {
              width  : $offsetParent.outerWidth(),
              height : $offsetParent.outerHeight()
            },
            // screen boundaries
            screen : {
              scroll: {
                top  : $window.scrollTop(),
                left : $window.scrollLeft()
              },
              width  : $window.width(),
              height : $window.height()
            }
          };

          // add in container calcs if fluid
          if( settings.setFluidWidth &amp;&amp; module.is.fluid() ) {
            calculations.container = {
              width: $popup.parent().outerWidth()
            };
            calculations.popup.width = calculations.container.width;
          }

          // add in margins if inline
          calculations.target.margin.top = (settings.inline)
            ? parseInt( window.getComputedStyle(targetElement).getPropertyValue(&#39;margin-top&#39;), 10)
            : 0
          ;
          calculations.target.margin.left = (settings.inline)
            ? module.is.rtl()
              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue(&#39;margin-right&#39;), 10)
              : parseInt( window.getComputedStyle(targetElement).getPropertyValue(&#39;margin-left&#39;) , 10)
            : 0
          ;
          // calculate screen boundaries
          screen = calculations.screen;
          calculations.boundary = {
            top    : screen.scroll.top,
            bottom : screen.scroll.top + screen.height,
            left   : screen.scroll.left,
            right  : screen.scroll.left + screen.width
          };
          return calculations;
        },
        id: function() {
          return id;
        },
        startEvent: function() {
          if(settings.on == &#39;hover&#39;) {
            return &#39;mouseenter&#39;;
          }
          else if(settings.on == &#39;focus&#39;) {
            return &#39;focus&#39;;
          }
          return false;
        },
        scrollEvent: function() {
          return &#39;scroll&#39;;
        },
        endEvent: function() {
          if(settings.on == &#39;hover&#39;) {
            return &#39;mouseleave&#39;;
          }
          else if(settings.on == &#39;focus&#39;) {
            return &#39;blur&#39;;
          }
          return false;
        },
        distanceFromBoundary: function(offset, calculations) {
          var
            distanceFromBoundary = {},
            popup,
            boundary
          ;
          offset       = offset       || module.get.offset();
          calculations = calculations || module.get.calculations();

          // shorthand
          popup        = calculations.popup;
          boundary     = calculations.boundary;

          if(offset) {
            distanceFromBoundary = {
              top    : (offset.top - boundary.top),
              left   : (offset.left - boundary.left),
              right  : (boundary.right - (offset.left + popup.width) ),
              bottom : (boundary.bottom - (offset.top + popup.height) )
            };
            module.verbose(&#39;Distance from boundaries determined&#39;, offset, distanceFromBoundary);
          }
          return distanceFromBoundary;
        },
        offsetParent: function($target) {
          var
            element = ($target !== undefined)
              ? $target[0]
              : $module[0],
            parentNode = element.parentNode,
            $node    = $(parentNode)
          ;
          if(parentNode) {
            var
              is2D     = ($node.css(&#39;transform&#39;) === &#39;none&#39;),
              isStatic = ($node.css(&#39;position&#39;) === &#39;static&#39;),
              isHTML   = $node.is(&#39;html&#39;)
            ;
            while(parentNode &amp;&amp; !isHTML &amp;&amp; isStatic &amp;&amp; is2D) {
              parentNode = parentNode.parentNode;
              $node    = $(parentNode);
              is2D     = ($node.css(&#39;transform&#39;) === &#39;none&#39;);
              isStatic = ($node.css(&#39;position&#39;) === &#39;static&#39;);
              isHTML   = $node.is(&#39;html&#39;);
            }
          }
          return ($node &amp;&amp; $node.length &gt; 0)
            ? $node
            : $()
          ;
        },
        positions: function() {
          return {
            &#39;top left&#39;      : false,
            &#39;top center&#39;    : false,
            &#39;top right&#39;     : false,
            &#39;bottom left&#39;   : false,
            &#39;bottom center&#39; : false,
            &#39;bottom right&#39;  : false,
            &#39;left center&#39;   : false,
            &#39;right center&#39;  : false
          };
        },
        nextPosition: function(position) {
          var
            positions          = position.split(&#39; &#39;),
            verticalPosition   = positions[0],
            horizontalPosition = positions[1],
            opposite = {
              top    : &#39;bottom&#39;,
              bottom : &#39;top&#39;,
              left   : &#39;right&#39;,
              right  : &#39;left&#39;
            },
            adjacent = {
              left   : &#39;center&#39;,
              center : &#39;right&#39;,
              right  : &#39;left&#39;
            },
            backup = {
              &#39;top left&#39;      : &#39;top center&#39;,
              &#39;top center&#39;    : &#39;top right&#39;,
              &#39;top right&#39;     : &#39;right center&#39;,
              &#39;right center&#39;  : &#39;bottom right&#39;,
              &#39;bottom right&#39;  : &#39;bottom center&#39;,
              &#39;bottom center&#39; : &#39;bottom left&#39;,
              &#39;bottom left&#39;   : &#39;left center&#39;,
              &#39;left center&#39;   : &#39;top left&#39;
            },
            adjacentsAvailable = (verticalPosition == &#39;top&#39; || verticalPosition == &#39;bottom&#39;),
            oppositeTried = false,
            adjacentTried = false,
            nextPosition  = false
          ;
          if(!triedPositions) {
            module.verbose(&#39;All available positions available&#39;);
            triedPositions = module.get.positions();
          }

          module.debug(&#39;Recording last position tried&#39;, position);
          triedPositions[position] = true;

          if(settings.prefer === &#39;opposite&#39;) {
            nextPosition  = [opposite[verticalPosition], horizontalPosition];
            nextPosition  = nextPosition.join(&#39; &#39;);
            oppositeTried = (triedPositions[nextPosition] === true);
            module.debug(&#39;Trying opposite strategy&#39;, nextPosition);
          }
          if((settings.prefer === &#39;adjacent&#39;) &amp;&amp; adjacentsAvailable ) {
            nextPosition  = [verticalPosition, adjacent[horizontalPosition]];
            nextPosition  = nextPosition.join(&#39; &#39;);
            adjacentTried = (triedPositions[nextPosition] === true);
            module.debug(&#39;Trying adjacent strategy&#39;, nextPosition);
          }
          if(adjacentTried || oppositeTried) {
            module.debug(&#39;Using backup position&#39;, nextPosition);
            nextPosition = backup[position];
          }
          return nextPosition;
        }
      },

      set: {
        position: function(position, calculations) {

          // exit conditions
          if($target.length === 0 || $popup.length === 0) {
            module.error(error.notFound);
            return;
          }
          var
            offset,
            distanceAway,
            target,
            popup,
            parent,
            positioning,
            popupOffset,
            distanceFromBoundary
          ;

          calculations = calculations || module.get.calculations();
          position     = position     || $module.data(metadata.position) || settings.position;

          offset       = $module.data(metadata.offset) || settings.offset;
          distanceAway = settings.distanceAway;

          // shorthand
          target = calculations.target;
          popup  = calculations.popup;
          parent = calculations.parent;

          if(target.width === 0 &amp;&amp; target.height === 0 &amp;&amp; !(target.element instanceof SVGGraphicsElement)) {
            module.debug(&#39;Popup target is hidden, no action taken&#39;);
            return false;
          }

          if(settings.inline) {
            module.debug(&#39;Adding margin to calculation&#39;, target.margin);
            if(position == &#39;left center&#39; || position == &#39;right center&#39;) {
              offset       +=  target.margin.top;
              distanceAway += -target.margin.left;
            }
            else if (position == &#39;top left&#39; || position == &#39;top center&#39; || position == &#39;top right&#39;) {
              offset       += target.margin.left;
              distanceAway -= target.margin.top;
            }
            else {
              offset       += target.margin.left;
              distanceAway += target.margin.top;
            }
          }

          module.debug(&#39;Determining popup position from calculations&#39;, position, calculations);

          if (module.is.rtl()) {
            position = position.replace(/left|right/g, function (match) {
              return (match == &#39;left&#39;)
                ? &#39;right&#39;
                : &#39;left&#39;
              ;
            });
            module.debug(&#39;RTL: Popup position updated&#39;, position);
          }

          // if last attempt use specified last resort position
          if(searchDepth == settings.maxSearchDepth &amp;&amp; typeof settings.lastResort === &#39;string&#39;) {
            position = settings.lastResort;
          }

          switch (position) {
            case &#39;top left&#39;:
              positioning = {
                top    : &#39;auto&#39;,
                bottom : parent.height - target.top + distanceAway,
                left   : target.left + offset,
                right  : &#39;auto&#39;
              };
            break;
            case &#39;top center&#39;:
              positioning = {
                bottom : parent.height - target.top + distanceAway,
                left   : target.left + (target.width / 2) - (popup.width / 2) + offset,
                top    : &#39;auto&#39;,
                right  : &#39;auto&#39;
              };
            break;
            case &#39;top right&#39;:
              positioning = {
                bottom :  parent.height - target.top + distanceAway,
                right  :  parent.width - target.left - target.width - offset,
                top    : &#39;auto&#39;,
                left   : &#39;auto&#39;
              };
            break;
            case &#39;left center&#39;:
              positioning = {
                top    : target.top + (target.height / 2) - (popup.height / 2) + offset,
                right  : parent.width - target.left + distanceAway,
                left   : &#39;auto&#39;,
                bottom : &#39;auto&#39;
              };
            break;
            case &#39;right center&#39;:
              positioning = {
                top    : target.top + (target.height / 2) - (popup.height / 2) + offset,
                left   : target.left + target.width + distanceAway,
                bottom : &#39;auto&#39;,
                right  : &#39;auto&#39;
              };
            break;
            case &#39;bottom left&#39;:
              positioning = {
                top    : target.top + target.height + distanceAway,
                left   : target.left + offset,
                bottom : &#39;auto&#39;,
                right  : &#39;auto&#39;
              };
            break;
            case &#39;bottom center&#39;:
              positioning = {
                top    : target.top + target.height + distanceAway,
                left   : target.left + (target.width / 2) - (popup.width / 2) + offset,
                bottom : &#39;auto&#39;,
                right  : &#39;auto&#39;
              };
            break;
            case &#39;bottom right&#39;:
              positioning = {
                top    : target.top + target.height + distanceAway,
                right  : parent.width - target.left  - target.width - offset,
                left   : &#39;auto&#39;,
                bottom : &#39;auto&#39;
              };
            break;
          }
          if(positioning === undefined) {
            module.error(error.invalidPosition, position);
          }

          module.debug(&#39;Calculated popup positioning values&#39;, positioning);

          // tentatively place on stage
          $popup
            .css(positioning)
            .removeClass(className.position)
            .addClass(position)
            .addClass(className.loading)
          ;

          popupOffset = module.get.popupOffset();

          // see if any boundaries are surpassed with this tentative position
          distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);

          if( module.is.offstage(distanceFromBoundary, position) ) {
            module.debug(&#39;Position is outside viewport&#39;, position);
            if(searchDepth &lt; settings.maxSearchDepth) {
              searchDepth++;
              position = module.get.nextPosition(position);
              module.debug(&#39;Trying new position&#39;, position);
              return ($popup)
                ? module.set.position(position, calculations)
                : false
              ;
            }
            else {
              if(settings.lastResort) {
                module.debug(&#39;No position found, showing with last position&#39;);
              }
              else {
                module.debug(&#39;Popup could not find a position to display&#39;, $popup);
                module.error(error.cannotPlace, element);
                module.remove.attempts();
                module.remove.loading();
                module.reset();
                return false;
              }
            }
          }
          module.debug(&#39;Position is on stage&#39;, position);
          module.remove.attempts();
          module.remove.loading();
          if( settings.setFluidWidth &amp;&amp; module.is.fluid() ) {
            module.set.fluidWidth(calculations);
          }
          return true;
        },

        fluidWidth: function(calculations) {
          calculations = calculations || module.get.calculations();
          module.debug(&#39;Automatically setting element width to parent width&#39;, calculations.parent.width);
          $popup.css(&#39;width&#39;, calculations.container.width);
        },

        variation: function(variation) {
          variation = variation || module.get.variation();
          if(variation &amp;&amp; module.has.popup() ) {
            module.verbose(&#39;Adding variation to popup&#39;, variation);
            $popup.addClass(variation);
          }
        },

        visible: function() {
          $module.addClass(className.visible);
        }
      },

      remove: {
        loading: function() {
          $popup.removeClass(className.loading);
        },
        variation: function(variation) {
          variation = variation || module.get.variation();
          if(variation) {
            module.verbose(&#39;Removing variation&#39;, variation);
            $popup.removeClass(variation);
          }
        },
        visible: function() {
          $module.removeClass(className.visible);
        },
        attempts: function() {
          module.verbose(&#39;Resetting all searched positions&#39;);
          searchDepth    = 0;
          triedPositions = false;
        }
      },

      bind: {
        events: function() {
          module.debug(&#39;Binding popup events to module&#39;);
          if(settings.on == &#39;click&#39;) {
            $module
              .on(&#39;click&#39; + eventNamespace, module.toggle)
            ;
          }
          if(settings.on == &#39;hover&#39; &amp;&amp; hasTouch) {
            $module
              .on(&#39;touchstart&#39; + eventNamespace, module.event.touchstart)
            ;
          }
          if( module.get.startEvent() ) {
            $module
              .on(module.get.startEvent() + eventNamespace, module.event.start)
              .on(module.get.endEvent() + eventNamespace, module.event.end)
            ;
          }
          if(settings.target) {
            module.debug(&#39;Target set to element&#39;, $target);
          }
          $window.on(&#39;resize&#39; + elementNamespace, module.event.resize);
        },
        popup: function() {
          module.verbose(&#39;Allowing hover events on popup to prevent closing&#39;);
          if( $popup &amp;&amp; module.has.popup() ) {
            $popup
              .on(&#39;mouseenter&#39; + eventNamespace, module.event.start)
              .on(&#39;mouseleave&#39; + eventNamespace, module.event.end)
            ;
          }
        },
        close: function() {
          if(settings.hideOnScroll === true || (settings.hideOnScroll == &#39;auto&#39; &amp;&amp; settings.on != &#39;click&#39;))   {
            $document
              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)
            ;
            $context
              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)
            ;
          }
          if(settings.on == &#39;hover&#39; &amp;&amp; openedWithTouch) {
            module.verbose(&#39;Binding popup close event to document&#39;);
            $document
              .on(&#39;touchstart&#39; + elementNamespace, function(event) {
                module.verbose(&#39;Touched away from popup&#39;);
                module.event.hideGracefully.call(element, event);
              })
            ;
          }
          if(settings.on == &#39;click&#39; &amp;&amp; settings.closable) {
            module.verbose(&#39;Binding popup close event to document&#39;);
            $document
              .on(&#39;click&#39; + elementNamespace, function(event) {
                module.verbose(&#39;Clicked away from popup&#39;);
                module.event.hideGracefully.call(element, event);
              })
            ;
          }
        }
      },

      unbind: {
        close: function() {
          if(settings.hideOnScroll === true || (settings.hideOnScroll == &#39;auto&#39; &amp;&amp; settings.on != &#39;click&#39;)) {
            $document
              .off(&#39;scroll&#39; + elementNamespace, module.hide)
            ;
            $context
              .off(&#39;scroll&#39; + elementNamespace, module.hide)
            ;
          }
          if(settings.on == &#39;hover&#39; &amp;&amp; openedWithTouch) {
            $document
              .off(&#39;touchstart&#39; + elementNamespace)
            ;
            openedWithTouch = false;
          }
          if(settings.on == &#39;click&#39; &amp;&amp; settings.closable) {
            module.verbose(&#39;Removing close event from document&#39;);
            $document
              .off(&#39;click&#39; + elementNamespace)
            ;
          }
        }
      },

      has: {
        popup: function() {
          return ($popup &amp;&amp; $popup.length &gt; 0);
        }
      },

      is: {
        offstage: function(distanceFromBoundary, position) {
          var
            offstage = []
          ;
          // return boundaries that have been surpassed
          $.each(distanceFromBoundary, function(direction, distance) {
            if(distance &lt; -settings.jitter) {
              module.debug(&#39;Position exceeds allowable distance from edge&#39;, direction, distance, position);
              offstage.push(direction);
            }
          });
          if(offstage.length &gt; 0) {
            return true;
          }
          else {
            return false;
          }
        },
        active: function() {
          return $module.hasClass(className.active);
        },
        animating: function() {
          return ( $popup &amp;&amp; $popup.hasClass(className.animating) );
        },
        fluid: function() {
          return ( $popup &amp;&amp; $popup.hasClass(className.fluid));
        },
        visible: function() {
          return $popup &amp;&amp; $popup.hasClass(className.visible);
        },
        dropdown: function() {
          return $module.hasClass(className.dropdown);
        },
        hidden: function() {
          return !module.is.visible();
        },
        rtl: function () {
          return $module.css(&#39;direction&#39;) == &#39;rtl&#39;;
        }
      },

      reset: function() {
        module.remove.visible();
        if(settings.preserve) {
          if($.fn.transition !== undefined) {
            $popup
              .transition(&#39;remove transition&#39;)
            ;
          }
        }
        else {
          module.removePopup();
        }
      },

      setting: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.popup.settings = {</p>

<pre>name         : &#39;Popup&#39;,

// module settings
debug        : false,
verbose      : false,
performance  : true,
namespace    : &#39;popup&#39;,

// callback only when element added to dom
onCreate     : function(){},

// callback before element removed from dom
onRemove     : function(){},

// callback before show animation
onShow       : function(){},

// callback after show animation
onVisible    : function(){},

// callback before hide animation
onHide       : function(){},

// callback after hide animation
onHidden     : function(){},

// when to show popup
on           : &#39;hover&#39;,

// whether to add touchstart events when using hover
addTouchEvents : true,

// default position relative to element
position     : &#39;top left&#39;,

// name of variation to use
variation    : &#39;&#39;,

// whether popup should be moved to context
movePopup      : true,

// element which popup should be relative to
target         : false,

// jq selector or element that should be used as popup
popup          : false,

// popup should remain inline next to activator
inline         : false,

// popup should be removed from page on hide
preserve       : false,

// popup should not close when being hovered on
hoverable      : false,

// explicitly set content
content      : false,

// explicitly set html
html         : false,

// explicitly set title
title        : false,

// whether automatically close on clickaway when on click
closable     : true,

// automatically hide on scroll
hideOnScroll : &#39;auto&#39;,

// hide other popups on show
exclusive    : false,

// context to attach popups
context      : &#39;body&#39;,

// position to prefer when calculating new position
prefer       : &#39;opposite&#39;,

// specify position to appear even if it doesn&#39;t fit
lastResort   : false,

// delay used to prevent accidental refiring of animations due to user error
delay        : {
  show : 50,
  hide : 70
},

// whether fluid variation should assign width explicitly
setFluidWidth  : true,

// transition settings
duration       : 200,
transition     : &#39;scale&#39;,

// distance away from activating element in px
distanceAway   : 0,

// number of pixels an element is allowed to be &quot;offstage&quot; for a position to be chosen (allows for rounding)
jitter         : 2,

// offset on aligning axis from calculated position
offset         : 0,

// maximum times to look for a position before failing (9 positions total)
maxSearchDepth : 15,

error: {
  invalidPosition : &#39;The position you specified is not a valid position&#39;,
  cannotPlace     : &#39;Popup does not fit within the boundaries of the viewport&#39;,
  method          : &#39;The method you called is not defined.&#39;,
  noTransition    : &#39;This module requires ui transitions &lt;https://github.com/Semantic-Org/UI-Transition&gt;&#39;,
  notFound        : &#39;The target or popup you specified does not exist on the page&#39;
},

metadata: {
  activator : &#39;activator&#39;,
  content   : &#39;content&#39;,
  html      : &#39;html&#39;,
  offset    : &#39;offset&#39;,
  position  : &#39;position&#39;,
  title     : &#39;title&#39;,
  variation : &#39;variation&#39;
},

className   : {
  active    : &#39;active&#39;,
  animating : &#39;animating&#39;,
  dropdown  : &#39;dropdown&#39;,
  fluid     : &#39;fluid&#39;,
  loading   : &#39;loading&#39;,
  popup     : &#39;ui popup&#39;,
  position  : &#39;top left center bottom right&#39;,
  visible   : &#39;visible&#39;
},

selector    : {
  popup    : &#39;.ui.popup&#39;
},

templates: {
  escape: function(string) {
    var
      badChars     = /[&amp;&lt;&gt;&quot;&#39;`]/g,
      shouldEscape = /[&amp;&lt;&gt;&quot;&#39;`]/,
      escape       = {
        &quot;&amp;&quot;: &quot;&amp;amp;&quot;,
        &quot;&lt;&quot;: &quot;&amp;lt;&quot;,
        &quot;&gt;&quot;: &quot;&amp;gt;&quot;,
        &#39;&quot;&#39;: &quot;&amp;quot;&quot;,
        &quot;&#39;&quot;: &quot;&amp;#x27;&quot;,
        &quot;`&quot;: &quot;&amp;#x60;&quot;
      },
      escapedChar  = function(chr) {
        return escape[chr];
      }
    ;
    if(shouldEscape.test(string)) {
      return string.replace(badChars, escapedChar);
    }
    return string;
  },
  popup: function(text) {
    var
      html   = &#39;&#39;,
      escape = $.fn.popup.settings.templates.escape
    ;
    if(typeof text !== undefined) {
      if(typeof text.title !== undefined &amp;&amp; text.title) {
        text.title = escape(text.title);
        html += &#39;&lt;div class=&quot;header&quot;&gt;&#39; + text.title + &#39;&lt;/div&gt;&#39;;
      }
      if(typeof text.content !== undefined &amp;&amp; text.content) {
        text.content = escape(text.content);
        html += &#39;&lt;div class=&quot;content&quot;&gt;&#39; + text.content + &#39;&lt;/div&gt;&#39;;
      }
    }
    return html;
  }
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Progress
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.progress = function(parameters) {</p>

<pre>var
  $allModules    = $(this),

  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),

  returnedValue
;

$allModules
  .each(function() {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.progress.settings, parameters)
        : $.extend({}, $.fn.progress.settings),

      className       = settings.className,
      metadata        = settings.metadata,
      namespace       = settings.namespace,
      selector        = settings.selector,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $module         = $(this),
      $bar            = $(this).find(selector.bar),
      $progress       = $(this).find(selector.progress),
      $label          = $(this).find(selector.label),

      element         = this,
      instance        = $module.data(moduleNamespace),

      animating = false,
      transitionEnd,
      module
    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing progress bar&#39;, settings);

        module.set.duration();
        module.set.transitionEvent();

        module.read.metadata();
        module.read.settings();

        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of progress&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },
      destroy: function() {
        module.verbose(&#39;Destroying previous progress for&#39;, $module);
        clearInterval(instance.interval);
        module.remove.state();
        $module.removeData(moduleNamespace);
        instance = undefined;
      },

      reset: function() {
        module.set.percent(0);
        module.set.value(0);
      },

      complete: function() {
        if(module.percent === undefined || module.percent &lt; 100) {
          module.set.percent(100);
        }
      },

      read: {
        metadata: function() {
          var
            data = {
              percent : $module.data(metadata.percent),
              total   : $module.data(metadata.total),
              value   : $module.data(metadata.value)
            }
          ;
          if(data.percent) {
            module.debug(&#39;Current percent value set from metadata&#39;, data.percent);
            module.set.percent(data.percent);
          }
          if(data.total) {
            module.debug(&#39;Total value set from metadata&#39;, data.total);
            module.set.total(data.total);
          }
          if(data.value) {
            module.debug(&#39;Current value set from metadata&#39;, data.value);
            module.set.value(data.value);
            module.set.progress(data.value);
          }
        },
        settings: function() {
          if(settings.total !== false) {
            module.debug(&#39;Current total set in settings&#39;, settings.total);
            module.set.total(settings.total);
          }
          if(settings.value !== false) {
            module.debug(&#39;Current value set in settings&#39;, settings.value);
            module.set.value(settings.value);
            module.set.progress(module.value);
          }
          if(settings.percent !== false) {
            module.debug(&#39;Current percent set in settings&#39;, settings.percent);
            module.set.percent(settings.percent);
          }
        }
      },

      increment: function(incrementValue) {
        var
          maxValue,
          startValue,
          newValue
        ;
        if( module.has.total() ) {
          startValue     = module.get.value();
          incrementValue = incrementValue || 1;

          newValue       = startValue + incrementValue;
          maxValue       = module.get.total();

          module.debug(&#39;Incrementing value&#39;, startValue, newValue, maxValue);
          if(newValue &gt; maxValue ) {
            module.debug(&#39;Value cannot increment above total&#39;, maxValue);
            newValue = maxValue;
          }
        }
        else {
          startValue     = module.get.percent();
          incrementValue = incrementValue || module.get.randomValue();

          newValue       = startValue + incrementValue;
          maxValue       = 100;

          module.debug(&#39;Incrementing percentage by&#39;, startValue, newValue);
          if(newValue &gt; maxValue ) {
            module.debug(&#39;Value cannot increment above 100 percent&#39;);
            newValue = maxValue;
          }
        }
        module.set.progress(newValue);
      },
      decrement: function(decrementValue) {
        var
          total     = module.get.total(),
          startValue,
          newValue
        ;
        if(total) {
          startValue     =  module.get.value();
          decrementValue =  decrementValue || 1;
          newValue       =  startValue - decrementValue;
          module.debug(&#39;Decrementing value by&#39;, decrementValue, startValue);
        }
        else {
          startValue     =  module.get.percent();
          decrementValue =  decrementValue || module.get.randomValue();
          newValue       =  startValue - decrementValue;
          module.debug(&#39;Decrementing percentage by&#39;, decrementValue, startValue);
        }

        if(newValue &lt; 0) {
          module.debug(&#39;Value cannot decrement below 0&#39;);
          newValue = 0;
        }
        module.set.progress(newValue);
      },

      has: {
        total: function() {
          return (module.get.total() !== false);
        }
      },

      get: {
        text: function(templateText) {
          var
            value   = module.value                || 0,
            total   = module.total                || 0,
            percent = (animating)
              ? module.get.displayPercent()
              : module.percent || 0,
            left = (module.total &gt; 0)
              ? (total - value)
              : (100 - percent)
          ;
          templateText = templateText || &#39;&#39;;
          templateText = templateText
            .replace(&#39;{value}&#39;, value)
            .replace(&#39;{total}&#39;, total)
            .replace(&#39;{left}&#39;, left)
            .replace(&#39;{percent}&#39;, percent)
          ;
          module.debug(&#39;Adding variables to progress bar text&#39;, templateText);
          return templateText;
        },

        randomValue: function() {
          module.debug(&#39;Generating random increment percentage&#39;);
          return Math.floor((Math.random() * settings.random.max) + settings.random.min);
        },

        numericValue: function(value) {
          return (typeof value === &#39;string&#39;)
            ? (value.replace(/[^\d.]/g, &#39;&#39;) !== &#39;&#39;)
              ? +(value.replace(/[^\d.]/g, &#39;&#39;))
              : false
            : value
          ;
        },

        transitionEnd: function() {
          var
            element     = document.createElement(&#39;element&#39;),
            transitions = {
              &#39;transition&#39;       :&#39;transitionend&#39;,
              &#39;OTransition&#39;      :&#39;oTransitionEnd&#39;,
              &#39;MozTransition&#39;    :&#39;transitionend&#39;,
              &#39;WebkitTransition&#39; :&#39;webkitTransitionEnd&#39;
            },
            transition
          ;
          for(transition in transitions){
            if( element.style[transition] !== undefined ){
              return transitions[transition];
            }
          }
        },

        // gets current displayed percentage (if animating values this is the intermediary value)
        displayPercent: function() {
          var
            barWidth       = $bar.width(),
            totalWidth     = $module.width(),
            minDisplay     = parseInt($bar.css(&#39;min-width&#39;), 10),
            displayPercent = (barWidth &gt; minDisplay)
              ? (barWidth / totalWidth * 100)
              : module.percent
          ;
          return (settings.precision &gt; 0)
            ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)
            : Math.round(displayPercent)
          ;
        },

        percent: function() {
          return module.percent || 0;
        },
        value: function() {
          return module.value || 0;
        },
        total: function() {
          return module.total || false;
        }
      },

      is: {
        success: function() {
          return $module.hasClass(className.success);
        },
        warning: function() {
          return $module.hasClass(className.warning);
        },
        error: function() {
          return $module.hasClass(className.error);
        },
        active: function() {
          return $module.hasClass(className.active);
        },
        visible: function() {
          return $module.is(&#39;:visible&#39;);
        }
      },

      remove: {
        state: function() {
          module.verbose(&#39;Removing stored state&#39;);
          delete module.total;
          delete module.percent;
          delete module.value;
        },
        active: function() {
          module.verbose(&#39;Removing active state&#39;);
          $module.removeClass(className.active);
        },
        success: function() {
          module.verbose(&#39;Removing success state&#39;);
          $module.removeClass(className.success);
        },
        warning: function() {
          module.verbose(&#39;Removing warning state&#39;);
          $module.removeClass(className.warning);
        },
        error: function() {
          module.verbose(&#39;Removing error state&#39;);
          $module.removeClass(className.error);
        }
      },

      set: {
        barWidth: function(value) {
          if(value &gt; 100) {
            module.error(error.tooHigh, value);
          }
          else if (value &lt; 0) {
            module.error(error.tooLow, value);
          }
          else {
            $bar
              .css(&#39;width&#39;, value + &#39;%&#39;)
            ;
            $module
              .attr(&#39;data-percent&#39;, parseInt(value, 10))
            ;
          }
        },
        duration: function(duration) {
          duration = duration || settings.duration;
          duration = (typeof duration == &#39;number&#39;)
            ? duration + &#39;ms&#39;
            : duration
          ;
          module.verbose(&#39;Setting progress bar transition duration&#39;, duration);
          $bar
            .css({
              &#39;transition-duration&#39;:  duration
            })
          ;
        },
        percent: function(percent) {
          percent = (typeof percent == &#39;string&#39;)
            ? +(percent.replace(&#39;%&#39;, &#39;&#39;))
            : percent
          ;
          // round display percentage
          percent = (settings.precision &gt; 0)
            ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision)
            : Math.round(percent)
          ;
          module.percent = percent;
          if( !module.has.total() ) {
            module.value = (settings.precision &gt; 0)
              ? Math.round( (percent / 100) * module.total * (10 * settings.precision)) / (10 * settings.precision)
              : Math.round( (percent / 100) * module.total * 10) / 10
            ;
            if(settings.limitValues) {
              module.value = (module.value &gt; 100)
                ? 100
                : (module.value &lt; 0)
                  ? 0
                  : module.value
              ;
            }
          }
          module.set.barWidth(percent);
          module.set.labelInterval();
          module.set.labels();
          settings.onChange.call(element, percent, module.value, module.total);
        },
        labelInterval: function() {
          var
            animationCallback = function() {
              module.verbose(&#39;Bar finished animating, removing continuous label updates&#39;);
              clearInterval(module.interval);
              animating = false;
              module.set.labels();
            }
          ;
          clearInterval(module.interval);
          $bar.one(transitionEnd + eventNamespace, animationCallback);
          module.timer = setTimeout(animationCallback, settings.duration + 100);
          animating = true;
          module.interval = setInterval(module.set.labels, settings.framerate);
        },
        labels: function() {
          module.verbose(&#39;Setting both bar progress and outer label text&#39;);
          module.set.barLabel();
          module.set.state();
        },
        label: function(text) {
          text = text || &#39;&#39;;
          if(text) {
            text = module.get.text(text);
            module.debug(&#39;Setting label to text&#39;, text);
            $label.text(text);
          }
        },
        state: function(percent) {
          percent = (percent !== undefined)
            ? percent
            : module.percent
          ;
          if(percent === 100) {
            if(settings.autoSuccess &amp;&amp; !(module.is.warning() || module.is.error())) {
              module.set.success();
              module.debug(&#39;Automatically triggering success at 100%&#39;);
            }
            else {
              module.verbose(&#39;Reached 100% removing active state&#39;);
              module.remove.active();
            }
          }
          else if(percent &gt; 0) {
            module.verbose(&#39;Adjusting active progress bar label&#39;, percent);
            module.set.active();
          }
          else {
            module.remove.active();
            module.set.label(settings.text.active);
          }
        },
        barLabel: function(text) {
          if(text !== undefined) {
            $progress.text( module.get.text(text) );
          }
          else if(settings.label == &#39;ratio&#39; &amp;&amp; module.total) {
            module.debug(&#39;Adding ratio to bar label&#39;);
            $progress.text( module.get.text(settings.text.ratio) );
          }
          else if(settings.label == &#39;percent&#39;) {
            module.debug(&#39;Adding percentage to bar label&#39;);
            $progress.text( module.get.text(settings.text.percent) );
          }
        },
        active: function(text) {
          text = text || settings.text.active;
          module.debug(&#39;Setting active state&#39;);
          if(settings.showActivity &amp;&amp; !module.is.active() ) {
            $module.addClass(className.active);
          }
          module.remove.warning();
          module.remove.error();
          module.remove.success();
          if(text) {
            module.set.label(text);
          }
          settings.onActive.call(element, module.value, module.total);
        },
        success : function(text) {
          text = text || settings.text.success;
          module.debug(&#39;Setting success state&#39;);
          $module.addClass(className.success);
          module.remove.active();
          module.remove.warning();
          module.remove.error();
          module.complete();
          if(text) {
            module.set.label(text);
          }
          settings.onSuccess.call(element, module.total);
        },
        warning : function(text) {
          text = text || settings.text.warning;
          module.debug(&#39;Setting warning state&#39;);
          $module.addClass(className.warning);
          module.remove.active();
          module.remove.success();
          module.remove.error();
          module.complete();
          if(text) {
            module.set.label(text);
          }
          settings.onWarning.call(element, module.value, module.total);
        },
        error : function(text) {
          text = text || settings.text.error;
          module.debug(&#39;Setting error state&#39;);
          $module.addClass(className.error);
          module.remove.active();
          module.remove.success();
          module.remove.warning();
          module.complete();
          if(text) {
            module.set.label(text);
          }
          settings.onError.call(element, module.value, module.total);
        },
        transitionEvent: function() {
          transitionEnd = module.get.transitionEnd();
        },
        total: function(totalValue) {
          module.total = totalValue;
        },
        value: function(value) {
          module.value = value;
        },
        progress: function(value) {
          var
            numericValue = module.get.numericValue(value),
            percentComplete
          ;
          if(numericValue === false) {
            module.error(error.nonNumeric, value);
          }
          if( module.has.total() ) {
            module.set.value(numericValue);
            percentComplete = (numericValue / module.total) * 100;
            module.debug(&#39;Calculating percent complete from total&#39;, percentComplete);
            module.set.percent( percentComplete );
          }
          else {
            percentComplete = numericValue;
            module.debug(&#39;Setting value to exact percentage value&#39;, percentComplete);
            module.set.percent( percentComplete );
          }
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.progress.settings = {</p>

<pre>name         : &#39;Progress&#39;,
namespace    : &#39;progress&#39;,

debug        : false,
verbose      : false,
performance  : true,

random       : {
  min : 2,
  max : 5
},

duration     : 300,

autoSuccess  : true,
showActivity : true,
limitValues  : true,

label        : &#39;percent&#39;,
precision    : 0,
framerate    : (1000 / 30), /// 30 fps

percent      : false,
total        : false,
value        : false,

onChange     : function(percent, value, total){},
onSuccess    : function(total){},
onActive     : function(value, total){},
onError      : function(value, total){},
onWarning    : function(value, total){},

error    : {
  method     : &#39;The method you called is not defined.&#39;,
  nonNumeric : &#39;Progress value is non numeric&#39;,
  tooHigh    : &#39;Value specified is above 100%&#39;,
  tooLow     : &#39;Value specified is below 0%&#39;
},

regExp: {
  variable: /\{\$*[A-z0-9]+\}/g
},

metadata: {
  percent : &#39;percent&#39;,
  total   : &#39;total&#39;,
  value   : &#39;value&#39;
},

selector : {
  bar      : &#39;&gt; .bar&#39;,
  label    : &#39;&gt; .label&#39;,
  progress : &#39;.bar &gt; .progress&#39;
},

text : {
  active  : false,
  error   : false,
  success : false,
  warning : false,
  percent : &#39;{percent}%&#39;,
  ratio   : &#39;{value} of {total}&#39;
},

className : {
  active  : &#39;active&#39;,
  error   : &#39;error&#39;,
  success : &#39;success&#39;,
  warning : &#39;warning&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document ); /*!</p>

<pre> # Semantic UI 2.1.6 - Rating
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.rating = function(parameters) {</p>

<pre>var
  $allModules     = $(this),
  moduleSelector  = $allModules.selector || &#39;&#39;,

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),
  returnedValue
;
$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.rating.settings, parameters)
        : $.extend({}, $.fn.rating.settings),

      namespace       = settings.namespace,
      className       = settings.className,
      metadata        = settings.metadata,
      selector        = settings.selector,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      element         = this,
      instance        = $(this).data(moduleNamespace),

      $module         = $(this),
      $icon           = $module.find(selector.icon),

      module
    ;

    module = {

      initialize: function() {
        module.verbose(&#39;Initializing rating module&#39;, settings);

        if($icon.length === 0) {
          module.setup.layout();
        }

        if(settings.interactive) {
          module.enable();
        }
        else {
          module.disable();
        }
        module.set.rating( module.get.initialRating() );
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Instantiating module&#39;, settings);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous instance&#39;, instance);
        module.remove.events();
        $module
          .removeData(moduleNamespace)
        ;
      },

      refresh: function() {
        $icon   = $module.find(selector.icon);
      },

      setup: {
        layout: function() {
          var
            maxRating = module.get.maxRating(),
            html      = $.fn.rating.settings.templates.icon(maxRating)
          ;
          module.debug(&#39;Generating icon html dynamically&#39;);
          $module
            .html(html)
          ;
          module.refresh();
        }
      },

      event: {
        mouseenter: function() {
          var
            $activeIcon = $(this)
          ;
          $activeIcon
            .nextAll()
              .removeClass(className.selected)
          ;
          $module
            .addClass(className.selected)
          ;
          $activeIcon
            .addClass(className.selected)
              .prevAll()
              .addClass(className.selected)
          ;
        },
        mouseleave: function() {
          $module
            .removeClass(className.selected)
          ;
          $icon
            .removeClass(className.selected)
          ;
        },
        click: function() {
          var
            $activeIcon   = $(this),
            currentRating = module.get.rating(),
            rating        = $icon.index($activeIcon) + 1,
            canClear      = (settings.clearable == &#39;auto&#39;)
             ? ($icon.length === 1)
             : settings.clearable
          ;
          if(canClear &amp;&amp; currentRating == rating) {
            module.clearRating();
          }
          else {
            module.set.rating( rating );
          }
        }
      },

      clearRating: function() {
        module.debug(&#39;Clearing current rating&#39;);
        module.set.rating(0);
      },

      bind: {
        events: function() {
          module.verbose(&#39;Binding events&#39;);
          $module
            .on(&#39;mouseenter&#39; + eventNamespace, selector.icon, module.event.mouseenter)
            .on(&#39;mouseleave&#39; + eventNamespace, selector.icon, module.event.mouseleave)
            .on(&#39;click&#39;      + eventNamespace, selector.icon, module.event.click)
          ;
        }
      },

      remove: {
        events: function() {
          module.verbose(&#39;Removing events&#39;);
          $module
            .off(eventNamespace)
          ;
        }
      },

      enable: function() {
        module.debug(&#39;Setting rating to interactive mode&#39;);
        module.bind.events();
        $module
          .removeClass(className.disabled)
        ;
      },

      disable: function() {
        module.debug(&#39;Setting rating to read-only mode&#39;);
        module.remove.events();
        $module
          .addClass(className.disabled)
        ;
      },

      get: {
        initialRating: function() {
          if($module.data(metadata.rating) !== undefined) {
            $module.removeData(metadata.rating);
            return $module.data(metadata.rating);
          }
          return settings.initialRating;
        },
        maxRating: function() {
          if($module.data(metadata.maxRating) !== undefined) {
            $module.removeData(metadata.maxRating);
            return $module.data(metadata.maxRating);
          }
          return settings.maxRating;
        },
        rating: function() {
          var
            currentRating = $icon.filter(&#39;.&#39; + className.active).length
          ;
          module.verbose(&#39;Current rating retrieved&#39;, currentRating);
          return currentRating;
        }
      },

      set: {
        rating: function(rating) {
          var
            ratingIndex = (rating - 1 &gt;= 0)
              ? (rating - 1)
              : 0,
            $activeIcon = $icon.eq(ratingIndex)
          ;
          $module
            .removeClass(className.selected)
          ;
          $icon
            .removeClass(className.selected)
            .removeClass(className.active)
          ;
          if(rating &gt; 0) {
            module.verbose(&#39;Setting current rating to&#39;, rating);
            $activeIcon
              .prevAll()
              .andSelf()
                .addClass(className.active)
            ;
          }
          settings.onRate.call(element, rating);
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };
    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.rating.settings = {</p>

<pre>name          : &#39;Rating&#39;,
namespace     : &#39;rating&#39;,

debug         : false,
verbose       : false,
performance   : true,

initialRating : 0,
interactive   : true,
maxRating     : 4,
clearable     : &#39;auto&#39;,

onRate        : function(rating){},

error         : {
  method    : &#39;The method you called is not defined&#39;,
  noMaximum : &#39;No maximum rating specified. Cannot generate HTML automatically&#39;
},

metadata: {
  rating    : &#39;rating&#39;,
  maxRating : &#39;maxRating&#39;
},

className : {
  active   : &#39;active&#39;,
  disabled : &#39;disabled&#39;,
  selected : &#39;selected&#39;,
  loading  : &#39;loading&#39;
},

selector  : {
  icon : &#39;.icon&#39;
},

templates: {
  icon: function(maxRating) {
    var
      icon = 1,
      html = &#39;&#39;
    ;
    while(icon &lt;= maxRating) {
      html += &#39;&lt;i class=&quot;icon&quot;&gt;&lt;/i&gt;&#39;;
      icon++;
    }
    return html;
  }
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Search
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.search = function(parameters) {</p>

<pre>var
  $allModules     = $(this),
  moduleSelector  = $allModules.selector || &#39;&#39;,

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),
  returnedValue
;
$(this)
  .each(function() {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.search.settings, parameters)
        : $.extend({}, $.fn.search.settings),

      className       = settings.className,
      metadata        = settings.metadata,
      regExp          = settings.regExp,
      fields          = settings.fields,
      selector        = settings.selector,
      error           = settings.error,
      namespace       = settings.namespace,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = namespace + &#39;-module&#39;,

      $module         = $(this),
      $prompt         = $module.find(selector.prompt),
      $searchButton   = $module.find(selector.searchButton),
      $results        = $module.find(selector.results),
      $result         = $module.find(selector.result),
      $category       = $module.find(selector.category),

      element         = this,
      instance        = $module.data(moduleNamespace),

      module
    ;

    module = {

      initialize: function() {
        module.verbose(&#39;Initializing module&#39;);
        module.determine.searchFields();
        module.bind.events();
        module.set.type();
        module.create.results();
        module.instantiate();
      },
      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },
      destroy: function() {
        module.verbose(&#39;Destroying instance&#39;);
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
      },

      bind: {
        events: function() {
          module.verbose(&#39;Binding events to search&#39;);
          if(settings.automatic) {
            $module
              .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)
            ;
            $prompt
              .attr(&#39;autocomplete&#39;, &#39;off&#39;)
            ;
          }
          $module
            // prompt
            .on(&#39;focus&#39;     + eventNamespace, selector.prompt, module.event.focus)
            .on(&#39;blur&#39;      + eventNamespace, selector.prompt, module.event.blur)
            .on(&#39;keydown&#39;   + eventNamespace, selector.prompt, module.handleKeyboard)
            // search button
            .on(&#39;click&#39;     + eventNamespace, selector.searchButton, module.query)
            // results
            .on(&#39;mousedown&#39; + eventNamespace, selector.results, module.event.result.mousedown)
            .on(&#39;mouseup&#39;   + eventNamespace, selector.results, module.event.result.mouseup)
            .on(&#39;click&#39;     + eventNamespace, selector.result,  module.event.result.click)
          ;
        }
      },

      determine: {
        searchFields: function() {
          // this makes sure $.extend does not add specified search fields to default fields
          // this is the only setting which should not extend defaults
          if(parameters &amp;&amp; parameters.searchFields !== undefined) {
            settings.searchFields = parameters.searchFields;
          }
        }
      },

      event: {
        input: function() {
          clearTimeout(module.timer);
          module.timer = setTimeout(module.query, settings.searchDelay);
        },
        focus: function() {
          module.set.focus();
          if( module.has.minimumCharacters() ) {
            module.query();
            if( module.can.show() ) {
              module.showResults();
            }
          }
        },
        blur: function(event) {
          var
            pageLostFocus = (document.activeElement === this)
          ;
          if(!pageLostFocus &amp;&amp; !module.resultsClicked) {
            module.cancel.query();
            module.remove.focus();
            module.timer = setTimeout(module.hideResults, settings.hideDelay);
          }
        },
        result: {
          mousedown: function() {
            module.resultsClicked = true;
          },
          mouseup: function() {
            module.resultsClicked = false;
          },
          click: function(event) {
            module.debug(&#39;Search result selected&#39;);
            var
              $result = $(this),
              $title  = $result.find(selector.title).eq(0),
              $link   = $result.find(&#39;a[href]&#39;).eq(0),
              href    = $link.attr(&#39;href&#39;)   || false,
              target  = $link.attr(&#39;target&#39;) || false,
              title   = $title.html(),
              // title is used for result lookup
              value   = ($title.length &gt; 0)
                ? $title.text()
                : false,
              results = module.get.results(),
              result  = $result.data(metadata.result) || module.get.result(value, results),
              returnedValue
            ;
            if( $.isFunction(settings.onSelect) ) {
              if(settings.onSelect.call(element, result, results) === false) {
                module.debug(&#39;Custom onSelect callback cancelled default select action&#39;);
                return;
              }
            }
            module.hideResults();
            if(value) {
              module.set.value(value);
            }
            if(href) {
              module.verbose(&#39;Opening search link found in result&#39;, $link);
              if(target == &#39;_blank&#39; || event.ctrlKey) {
                window.open(href);
              }
              else {
                window.location.href = (href);
              }
            }
          }
        }
      },
      handleKeyboard: function(event) {
        var
          // force selector refresh
          $result      = $module.find(selector.result),
          $category    = $module.find(selector.category),
          currentIndex = $result.index( $result.filter(&#39;.&#39; + className.active) ),
          resultSize   = $result.length,

          keyCode      = event.which,
          keys         = {
            backspace : 8,
            enter     : 13,
            escape    : 27,
            upArrow   : 38,
            downArrow : 40
          },
          newIndex
        ;
        // search shortcuts
        if(keyCode == keys.escape) {
          module.verbose(&#39;Escape key pressed, blurring search field&#39;);
          module.trigger.blur();
        }
        if( module.is.visible() ) {
          if(keyCode == keys.enter) {
            module.verbose(&#39;Enter key pressed, selecting active result&#39;);
            if( $result.filter(&#39;.&#39; + className.active).length &gt; 0 ) {
              module.event.result.click.call($result.filter(&#39;.&#39; + className.active), event);
              event.preventDefault();
              return false;
            }
          }
          else if(keyCode == keys.upArrow) {
            module.verbose(&#39;Up key pressed, changing active result&#39;);
            newIndex = (currentIndex - 1 &lt; 0)
              ? currentIndex
              : currentIndex - 1
            ;
            $category
              .removeClass(className.active)
            ;
            $result
              .removeClass(className.active)
              .eq(newIndex)
                .addClass(className.active)
                .closest($category)
                  .addClass(className.active)
            ;
            event.preventDefault();
          }
          else if(keyCode == keys.downArrow) {
            module.verbose(&#39;Down key pressed, changing active result&#39;);
            newIndex = (currentIndex + 1 &gt;= resultSize)
              ? currentIndex
              : currentIndex + 1
            ;
            $category
              .removeClass(className.active)
            ;
            $result
              .removeClass(className.active)
              .eq(newIndex)
                .addClass(className.active)
                .closest($category)
                  .addClass(className.active)
            ;
            event.preventDefault();
          }
        }
        else {
          // query shortcuts
          if(keyCode == keys.enter) {
            module.verbose(&#39;Enter key pressed, executing query&#39;);
            module.query();
            module.set.buttonPressed();
            $prompt.one(&#39;keyup&#39;, module.remove.buttonFocus);
          }
        }
      },

      setup: {
        api: function() {
          var
            apiSettings = {
              debug     : settings.debug,
              on        : false,
              cache     : &#39;local&#39;,
              action    : &#39;search&#39;,
              onError   : module.error
            },
            searchHTML
          ;
          module.verbose(&#39;First request, initializing API&#39;);
          $module.api(apiSettings);
        }
      },

      can: {
        useAPI: function() {
          return $.fn.api !== undefined;
        },
        show: function() {
          return module.is.focused() &amp;&amp; !module.is.visible() &amp;&amp; !module.is.empty();
        },
        transition: function() {
          return settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(&#39;is supported&#39;);
        }
      },

      is: {
        empty: function() {
          return ($results.html() === &#39;&#39;);
        },
        visible: function() {
          return ($results.filter(&#39;:visible&#39;).length &gt; 0);
        },
        focused: function() {
          return ($prompt.filter(&#39;:focus&#39;).length &gt; 0);
        }
      },

      trigger: {
        blur: function() {
          var
            events        = document.createEvent(&#39;HTMLEvents&#39;),
            promptElement = $prompt[0]
          ;
          if(promptElement) {
            module.verbose(&#39;Triggering native blur event&#39;);
            events.initEvent(&#39;blur&#39;, false, false);
            promptElement.dispatchEvent(events);
          }
        }
      },

      get: {
        inputEvent: function() {
          var
            prompt = $prompt[0],
            inputEvent   = (prompt !== undefined &amp;&amp; prompt.oninput !== undefined)
              ? &#39;input&#39;
              : (prompt !== undefined &amp;&amp; prompt.onpropertychange !== undefined)
                ? &#39;propertychange&#39;
                : &#39;keyup&#39;
          ;
          return inputEvent;
        },
        value: function() {
          return $prompt.val();
        },
        results: function() {
          var
            results = $module.data(metadata.results)
          ;
          return results;
        },
        result: function(value, results) {
          var
            lookupFields = [&#39;title&#39;, &#39;id&#39;],
            result       = false
          ;
          value = (value !== undefined)
            ? value
            : module.get.value()
          ;
          results = (results !== undefined)
            ? results
            : module.get.results()
          ;
          if(settings.type === &#39;category&#39;) {
            module.debug(&#39;Finding result that matches&#39;, value);
            $.each(results, function(index, category) {
              if($.isArray(category.results)) {
                result = module.search.object(value, category.results, lookupFields)[0];
                // don&#39;t continue searching if a result is found
                if(result) {
                  return false;
                }
              }
            });
          }
          else {
            module.debug(&#39;Finding result in results object&#39;, value);
            result = module.search.object(value, results, lookupFields)[0];
          }
          return result || false;
        },
      },

      set: {
        focus: function() {
          $module.addClass(className.focus);
        },
        loading: function() {
          $module.addClass(className.loading);
        },
        value: function(value) {
          module.verbose(&#39;Setting search input value&#39;, value);
          $prompt
            .val(value)
          ;
        },
        type: function(type) {
          type = type || settings.type;
          if(settings.type == &#39;category&#39;) {
            $module.addClass(settings.type);
          }
        },
        buttonPressed: function() {
          $searchButton.addClass(className.pressed);
        }
      },

      remove: {
        loading: function() {
          $module.removeClass(className.loading);
        },
        focus: function() {
          $module.removeClass(className.focus);
        },
        buttonPressed: function() {
          $searchButton.removeClass(className.pressed);
        }
      },

      query: function() {
        var
          searchTerm = module.get.value(),
          cache = module.read.cache(searchTerm)
        ;
        if( module.has.minimumCharacters() )  {
          if(cache) {
            module.debug(&#39;Reading result from cache&#39;, searchTerm);
            module.save.results(cache.results);
            module.addResults(cache.html);
            module.inject.id(cache.results);
          }
          else {
            module.debug(&#39;Querying for&#39;, searchTerm);
            if($.isPlainObject(settings.source) || $.isArray(settings.source)) {
              module.search.local(searchTerm);
            }
            else if( module.can.useAPI() ) {
              module.search.remote(searchTerm);
            }
            else {
              module.error(error.source);
            }
          }
          settings.onSearchQuery.call(element, searchTerm);
        }
        else {
          module.hideResults();
        }
      },

      search: {
        local: function(searchTerm) {
          var
            results = module.search.object(searchTerm, settings.content),
            searchHTML
          ;
          module.set.loading();
          module.save.results(results);
          module.debug(&#39;Returned local search results&#39;, results);

          searchHTML = module.generateResults({
            results: results
          });
          module.remove.loading();
          module.addResults(searchHTML);
          module.inject.id(results);
          module.write.cache(searchTerm, {
            html    : searchHTML,
            results : results
          });
        },
        remote: function(searchTerm) {
          var
            apiSettings = {
              onSuccess : function(response) {
                module.parse.response.call(element, response, searchTerm);
              },
              onFailure: function() {
                module.displayMessage(error.serverError);
              },
              urlData: {
                query: searchTerm
              }
            }
          ;
          if( !$module.api(&#39;get request&#39;) ) {
            module.setup.api();
          }
          $.extend(true, apiSettings, settings.apiSettings);
          module.debug(&#39;Executing search&#39;, apiSettings);
          module.cancel.query();
          $module
            .api(&#39;setting&#39;, apiSettings)
            .api(&#39;query&#39;)
          ;
        },
        object: function(searchTerm, source, searchFields) {
          var
            results      = [],
            fuzzyResults = [],
            searchExp    = searchTerm.toString().replace(regExp.escape, &#39;\\$&amp;&#39;),
            matchRegExp  = new RegExp(regExp.beginsWith + searchExp, &#39;i&#39;),

            // avoid duplicates when pushing results
            addResult = function(array, result) {
              var
                notResult      = ($.inArray(result, results) == -1),
                notFuzzyResult = ($.inArray(result, fuzzyResults) == -1)
              ;
              if(notResult &amp;&amp; notFuzzyResult) {
                array.push(result);
              }
            }
          ;
          source = source || settings.source;
          searchFields = (searchFields !== undefined)
            ? searchFields
            : settings.searchFields
          ;

          // search fields should be array to loop correctly
          if(!$.isArray(searchFields)) {
            searchFields = [searchFields];
          }

          // exit conditions if no source
          if(source === undefined || source === false) {
            module.error(error.source);
            return [];
          }

          // iterate through search fields looking for matches
          $.each(searchFields, function(index, field) {
            $.each(source, function(label, content) {
              var
                fieldExists = (typeof content[field] == &#39;string&#39;)
              ;
              if(fieldExists) {
                if( content[field].search(matchRegExp) !== -1) {
                  // content starts with value (first in results)
                  addResult(results, content);
                }
                else if(settings.searchFullText &amp;&amp; module.fuzzySearch(searchTerm, content[field]) ) {
                  // content fuzzy matches (last in results)
                  addResult(fuzzyResults, content);
                }
              }
            });
          });
          return $.merge(results, fuzzyResults);
        }
      },

      fuzzySearch: function(query, term) {
        var
          termLength  = term.length,
          queryLength = query.length
        ;
        if(typeof query !== &#39;string&#39;) {
          return false;
        }
        query = query.toLowerCase();
        term  = term.toLowerCase();
        if(queryLength &gt; termLength) {
          return false;
        }
        if(queryLength === termLength) {
          return (query === term);
        }
        search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex &lt; queryLength; characterIndex++) {
          var
            queryCharacter = query.charCodeAt(characterIndex)
          ;
          while(nextCharacterIndex &lt; termLength) {
            if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {
              continue search;
            }
          }
          return false;
        }
        return true;
      },

      parse: {
        response: function(response, searchTerm) {
          var
            searchHTML = module.generateResults(response)
          ;
          module.verbose(&#39;Parsing server response&#39;, response);
          if(response !== undefined) {
            if(searchTerm !== undefined &amp;&amp; response[fields.results] !== undefined) {
              module.addResults(searchHTML);
              module.inject.id(response[fields.results]);
              module.write.cache(searchTerm, {
                html    : searchHTML,
                results : response[fields.results]
              });
              module.save.results(response[fields.results]);
            }
          }
        }
      },

      cancel: {
        query: function() {
          if( module.can.useAPI() ) {
            $module.api(&#39;abort&#39;);
          }
        }
      },

      has: {
        minimumCharacters: function() {
          var
            searchTerm    = module.get.value(),
            numCharacters = searchTerm.length
          ;
          return (numCharacters &gt;= settings.minCharacters);
        }
      },

      clear: {
        cache: function(value) {
          var
            cache = $module.data(metadata.cache)
          ;
          if(!value) {
            module.debug(&#39;Clearing cache&#39;, value);
            $module.removeData(metadata.cache);
          }
          else if(value &amp;&amp; cache &amp;&amp; cache[value]) {
            module.debug(&#39;Removing value from cache&#39;, value);
            delete cache[value];
            $module.data(metadata.cache, cache);
          }
        }
      },

      read: {
        cache: function(name) {
          var
            cache = $module.data(metadata.cache)
          ;
          if(settings.cache) {
            module.verbose(&#39;Checking cache for generated html for query&#39;, name);
            return (typeof cache == &#39;object&#39;) &amp;&amp; (cache[name] !== undefined)
              ? cache[name]
              : false
            ;
          }
          return false;
        }
      },

      create: {
        id: function(resultIndex, categoryIndex) {
          var
            resultID      = (resultIndex + 1), // not zero indexed
            categoryID    = (categoryIndex + 1),
            firstCharCode,
            letterID,
            id
          ;
          if(categoryIndex !== undefined) {
            // start char code for &quot;A&quot;
            letterID = String.fromCharCode(97 + categoryIndex);
            id          = letterID + resultID;
            module.verbose(&#39;Creating category result id&#39;, id);
          }
          else {
            id = resultID;
            module.verbose(&#39;Creating result id&#39;, id);
          }
          return id;
        },
        results: function() {
          if($results.length === 0) {
            $results = $(&#39;&lt;div /&gt;&#39;)
              .addClass(className.results)
              .appendTo($module)
            ;
          }
        }
      },

      inject: {
        result: function(result, resultIndex, categoryIndex) {
          module.verbose(&#39;Injecting result into results&#39;);
          var
            $selectedResult = (categoryIndex !== undefined)
              ? $results
                  .children().eq(categoryIndex)
                    .children(selector.result).eq(resultIndex)
              : $results
                  .children(selector.result).eq(resultIndex)
          ;
          module.verbose(&#39;Injecting results metadata&#39;, $selectedResult);
          $selectedResult
            .data(metadata.result, result)
          ;
        },
        id: function(results) {
          module.debug(&#39;Injecting unique ids into results&#39;);
          var
            // since results may be object, we must use counters
            categoryIndex = 0,
            resultIndex   = 0
          ;
          if(settings.type === &#39;category&#39;) {
            // iterate through each category result
            $.each(results, function(index, category) {
              resultIndex = 0;
              $.each(category.results, function(index, value) {
                var
                  result = category.results[index]
                ;
                if(result.id === undefined) {
                  result.id = module.create.id(resultIndex, categoryIndex);
                }
                module.inject.result(result, resultIndex, categoryIndex);
                resultIndex++;
              });
              categoryIndex++;
            });
          }
          else {
            // top level
            $.each(results, function(index, value) {
              var
                result = results[index]
              ;
              if(result.id === undefined) {
                result.id = module.create.id(resultIndex);
              }
              module.inject.result(result, resultIndex);
              resultIndex++;
            });
          }
          return results;
        }
      },

      save: {
        results: function(results) {
          module.verbose(&#39;Saving current search results to metadata&#39;, results);
          $module.data(metadata.results, results);
        }
      },

      write: {
        cache: function(name, value) {
          var
            cache = ($module.data(metadata.cache) !== undefined)
              ? $module.data(metadata.cache)
              : {}
          ;
          if(settings.cache) {
            module.verbose(&#39;Writing generated html to cache&#39;, name, value);
            cache[name] = value;
            $module
              .data(metadata.cache, cache)
            ;
          }
        }
      },

      addResults: function(html) {
        if( $.isFunction(settings.onResultsAdd) ) {
          if( settings.onResultsAdd.call($results, html) === false ) {
            module.debug(&#39;onResultsAdd callback cancelled default action&#39;);
            return false;
          }
        }
        $results
          .html(html)
        ;
        if( module.can.show() ) {
          module.showResults();
        }
      },

      showResults: function() {
        if(!module.is.visible()) {
          if( module.can.transition() ) {
            module.debug(&#39;Showing results with css animations&#39;);
            $results
              .transition({
                animation  : settings.transition + &#39; in&#39;,
                debug      : settings.debug,
                verbose    : settings.verbose,
                duration   : settings.duration,
                queue      : true
              })
            ;
          }
          else {
            module.debug(&#39;Showing results with javascript&#39;);
            $results
              .stop()
              .fadeIn(settings.duration, settings.easing)
            ;
          }
          settings.onResultsOpen.call($results);
        }
      },
      hideResults: function() {
        if( module.is.visible() ) {
          if( module.can.transition() ) {
            module.debug(&#39;Hiding results with css animations&#39;);
            $results
              .transition({
                animation  : settings.transition + &#39; out&#39;,
                debug      : settings.debug,
                verbose    : settings.verbose,
                duration   : settings.duration,
                queue      : true
              })
            ;
          }
          else {
            module.debug(&#39;Hiding results with javascript&#39;);
            $results
              .stop()
              .fadeOut(settings.duration, settings.easing)
            ;
          }
          settings.onResultsClose.call($results);
        }
      },

      generateResults: function(response) {
        module.debug(&#39;Generating html from response&#39;, response);
        var
          template       = settings.templates[settings.type],
          isProperObject = ($.isPlainObject(response[fields.results]) &amp;&amp; !$.isEmptyObject(response[fields.results])),
          isProperArray  = ($.isArray(response[fields.results]) &amp;&amp; response[fields.results].length &gt; 0),
          html           = &#39;&#39;
        ;
        if(isProperObject || isProperArray ) {
          if(settings.maxResults &gt; 0) {
            if(isProperObject) {
              if(settings.type == &#39;standard&#39;) {
                module.error(error.maxResults);
              }
            }
            else {
              response[fields.results] = response[fields.results].slice(0, settings.maxResults);
            }
          }
          if($.isFunction(template)) {
            html = template(response, fields);
          }
          else {
            module.error(error.noTemplate, false);
          }
        }
        else {
          html = module.displayMessage(error.noResults, &#39;empty&#39;);
        }
        settings.onResults.call(element, response);
        return html;
      },

      displayMessage: function(text, type) {
        type = type || &#39;standard&#39;;
        module.debug(&#39;Displaying message&#39;, text, type);
        module.addResults( settings.templates.message(text, type) );
        return settings.templates.message(text, type);
      },

      setting: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };
    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }

  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.search.settings = {</p>

<pre>name           : &#39;Search&#39;,
namespace      : &#39;search&#39;,

debug          : false,
verbose        : false,
performance    : true,

type           : &#39;standard&#39;,
// template to use (specified in settings.templates)

minCharacters  : 1,
// minimum characters required to search

apiSettings    : false,
// API config

source         : false,
// object to search

searchFields   : [
  &#39;title&#39;,
  &#39;description&#39;
],
// fields to search

displayField   : &#39;&#39;,
// field to display in standard results template

searchFullText : true,
// whether to include fuzzy results in local search

automatic      : true,
// whether to add events to prompt automatically

hideDelay      : 0,
// delay before hiding menu after blur

searchDelay    : 200,
// delay before searching

maxResults     : 7,
// maximum results returned from local

cache          : true,
// whether to store lookups in local cache

// transition settings
transition     : &#39;scale&#39;,
duration       : 200,
easing         : &#39;easeOutExpo&#39;,

// callbacks
onSelect       : false,
onResultsAdd   : false,

onSearchQuery  : function(query){},
onResults      : function(response){},

onResultsOpen  : function(){},
onResultsClose : function(){},

className: {
  active  : &#39;active&#39;,
  empty   : &#39;empty&#39;,
  focus   : &#39;focus&#39;,
  loading : &#39;loading&#39;,
  results : &#39;results&#39;,
  pressed : &#39;down&#39;
},

error : {
  source      : &#39;Cannot search. No source used, and Semantic API module was not included&#39;,
  noResults   : &#39;Your search returned no results&#39;,
  logging     : &#39;Error in debug logging, exiting.&#39;,
  noEndpoint  : &#39;No search endpoint was specified&#39;,
  noTemplate  : &#39;A valid template name was not specified.&#39;,
  serverError : &#39;There was an issue querying the server.&#39;,
  maxResults  : &#39;Results must be an array to use maxResults setting&#39;,
  method      : &#39;The method you called is not defined.&#39;
},

metadata: {
  cache   : &#39;cache&#39;,
  results : &#39;results&#39;,
  result  : &#39;result&#39;
},

regExp: {
  escape     : /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
  beginsWith : &#39;(?:\s|^)&#39;
},

// maps api response attributes to internal representation
fields: {
  categories      : &#39;results&#39;,     // array of categories (category view)
  categoryName    : &#39;name&#39;,        // name of category (category view)
  categoryResults : &#39;results&#39;,     // array of results (category view)
  description     : &#39;description&#39;, // result description
  image           : &#39;image&#39;,       // result image
  price           : &#39;price&#39;,       // result price
  results         : &#39;results&#39;,     // array of results (standard)
  title           : &#39;title&#39;,       // result title
  url             : &#39;url&#39;,         // result url
  action          : &#39;action&#39;,      // &quot;view more&quot; object name
  actionText      : &#39;text&#39;,        // &quot;view more&quot; text
  actionURL       : &#39;url&#39;          // &quot;view more&quot; url
},

selector : {
  prompt       : &#39;.prompt&#39;,
  searchButton : &#39;.search.button&#39;,
  results      : &#39;.results&#39;,
  category     : &#39;.category&#39;,
  result       : &#39;.result&#39;,
  title        : &#39;.title, .name&#39;
},

templates: {
  escape: function(string) {
    var
      badChars     = /[&amp;&lt;&gt;&quot;&#39;`]/g,
      shouldEscape = /[&amp;&lt;&gt;&quot;&#39;`]/,
      escape       = {
        &quot;&amp;&quot;: &quot;&amp;amp;&quot;,
        &quot;&lt;&quot;: &quot;&amp;lt;&quot;,
        &quot;&gt;&quot;: &quot;&amp;gt;&quot;,
        &#39;&quot;&#39;: &quot;&amp;quot;&quot;,
        &quot;&#39;&quot;: &quot;&amp;#x27;&quot;,
        &quot;`&quot;: &quot;&amp;#x60;&quot;
      },
      escapedChar  = function(chr) {
        return escape[chr];
      }
    ;
    if(shouldEscape.test(string)) {
      return string.replace(badChars, escapedChar);
    }
    return string;
  },
  message: function(message, type) {
    var
      html = &#39;&#39;
    ;
    if(message !== undefined &amp;&amp; type !== undefined) {
      html +=  &#39;&#39;
        + &#39;&lt;div class=&quot;message &#39; + type + &#39;&quot;&gt;&#39;
      ;
      // message type
      if(type == &#39;empty&#39;) {
        html += &#39;&#39;
          + &#39;&lt;div class=&quot;header&quot;&gt;No Results&lt;/div class=&quot;header&quot;&gt;&#39;
          + &#39;&lt;div class=&quot;description&quot;&gt;&#39; + message + &#39;&lt;/div class=&quot;description&quot;&gt;&#39;
        ;
      }
      else {
        html += &#39; &lt;div class=&quot;description&quot;&gt;&#39; + message + &#39;&lt;/div&gt;&#39;;
      }
      html += &#39;&lt;/div&gt;&#39;;
    }
    return html;
  },
  category: function(response, fields) {
    var
      html = &#39;&#39;,
      escape = $.fn.search.settings.templates.escape
    ;
    if(response[fields.categoryResults] !== undefined) {

      // each category
      $.each(response[fields.categoryResults], function(index, category) {
        if(category[fields.results] !== undefined &amp;&amp; category.results.length &gt; 0) {

          html  += &#39;&lt;div class=&quot;category&quot;&gt;&#39;;

          if(category[fields.categoryName] !== undefined) {
            html += &#39;&lt;div class=&quot;name&quot;&gt;&#39; + category[fields.categoryName] + &#39;&lt;/div&gt;&#39;;
          }

          // each item inside category
          $.each(category.results, function(index, result) {
            if(result[fields.url]) {
              html  += &#39;&lt;a class=&quot;result&quot; href=&quot;&#39; + result[fields.url] + &#39;&quot;&gt;&#39;;
            }
            else {
              html  += &#39;&lt;a class=&quot;result&quot;&gt;&#39;;
            }
            if(result[fields.image] !== undefined) {
              html += &#39;&#39;
                + &#39;&lt;div class=&quot;image&quot;&gt;&#39;
                + &#39; &lt;img src=&quot;&#39; + result[fields.image] + &#39;&quot;&gt;&#39;
                + &#39;&lt;/div&gt;&#39;
              ;
            }
            html += &#39;&lt;div class=&quot;content&quot;&gt;&#39;;
            if(result[fields.price] !== undefined) {
              html += &#39;&lt;div class=&quot;price&quot;&gt;&#39; + result[fields.price] + &#39;&lt;/div&gt;&#39;;
            }
            if(result[fields.title] !== undefined) {
              html += &#39;&lt;div class=&quot;title&quot;&gt;&#39; + result[fields.title] + &#39;&lt;/div&gt;&#39;;
            }
            if(result[fields.description] !== undefined) {
              html += &#39;&lt;div class=&quot;description&quot;&gt;&#39; + result[fields.description] + &#39;&lt;/div&gt;&#39;;
            }
            html  += &#39;&#39;
              + &#39;&lt;/div&gt;&#39;
            ;
            html += &#39;&lt;/a&gt;&#39;;
          });
          html  += &#39;&#39;
            + &#39;&lt;/div&gt;&#39;
          ;
        }
      });
      if(response[fields.action]) {
        html += &#39;&#39;
        + &#39;&lt;a href=&quot;&#39; + response[fields.action][fields.actionURL] + &#39;&quot; class=&quot;action&quot;&gt;&#39;
        +   response[fields.action][fields.actionText]
        + &#39;&lt;/a&gt;&#39;;
      }
      return html;
    }
    return false;
  },
  standard: function(response, fields) {
    var
      html = &#39;&#39;
    ;
    if(response[fields.results] !== undefined) {

      // each result
      $.each(response[fields.results], function(index, result) {
        if(result[fields.url]) {
          html  += &#39;&lt;a class=&quot;result&quot; href=&quot;&#39; + result[fields.url] + &#39;&quot;&gt;&#39;;
        }
        else {
          html  += &#39;&lt;a class=&quot;result&quot;&gt;&#39;;
        }
        if(result[fields.image] !== undefined) {
          html += &#39;&#39;
            + &#39;&lt;div class=&quot;image&quot;&gt;&#39;
            + &#39; &lt;img src=&quot;&#39; + result[fields.image] + &#39;&quot;&gt;&#39;
            + &#39;&lt;/div&gt;&#39;
          ;
        }
        html += &#39;&lt;div class=&quot;content&quot;&gt;&#39;;
        if(result[fields.price] !== undefined) {
          html += &#39;&lt;div class=&quot;price&quot;&gt;&#39; + result[fields.price] + &#39;&lt;/div&gt;&#39;;
        }
        if(result[fields.title] !== undefined) {
          html += &#39;&lt;div class=&quot;title&quot;&gt;&#39; + result[fields.title] + &#39;&lt;/div&gt;&#39;;
        }
        if(result[fields.description] !== undefined) {
          html += &#39;&lt;div class=&quot;description&quot;&gt;&#39; + result[fields.description] + &#39;&lt;/div&gt;&#39;;
        }
        html  += &#39;&#39;
          + &#39;&lt;/div&gt;&#39;
        ;
        html += &#39;&lt;/a&gt;&#39;;
      });

      if(response[fields.action]) {
        html += &#39;&#39;
        + &#39;&lt;a href=&quot;&#39; + response[fields.action][fields.actionURL] + &#39;&quot; class=&quot;action&quot;&gt;&#39;
        +   response[fields.action][fields.actionText]
        + &#39;&lt;/a&gt;&#39;;
      }
      return html;
    }
    return false;
  }
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Shape
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.shape = function(parameters) {</p>

<pre>var
  $allModules     = $(this),
  $body           = $(&#39;body&#39;),

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  requestAnimationFrame = window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || function(callback) { setTimeout(callback, 0); },

  returnedValue
;

$allModules
  .each(function() {
    var
      moduleSelector = $allModules.selector || &#39;&#39;,
      settings       = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.shape.settings, parameters)
        : $.extend({}, $.fn.shape.settings),

      // internal aliases
      namespace     = settings.namespace,
      selector      = settings.selector,
      error         = settings.error,
      className     = settings.className,

      // define namespaces for modules
      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      // selector cache
      $module       = $(this),
      $sides        = $module.find(selector.sides),
      $side         = $module.find(selector.side),

      // private variables
      nextIndex = false,
      $activeSide,
      $nextSide,

      // standard module
      element       = this,
      instance      = $module.data(moduleNamespace),
      module
    ;

    module = {

      initialize: function() {
        module.verbose(&#39;Initializing module for&#39;, element);
        module.set.defaultSide();
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module for&#39;, element);
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
      },

      refresh: function() {
        module.verbose(&#39;Refreshing selector cache for&#39;, element);
        $module = $(element);
        $sides  = $(this).find(selector.shape);
        $side   = $(this).find(selector.side);
      },

      repaint: function() {
        module.verbose(&#39;Forcing repaint event&#39;);
        var
          shape          = $sides[0] || document.createElement(&#39;div&#39;),
          fakeAssignment = shape.offsetWidth
        ;
      },

      animate: function(propertyObject, callback) {
        module.verbose(&#39;Animating box with properties&#39;, propertyObject);
        callback = callback || function(event) {
          module.verbose(&#39;Executing animation callback&#39;);
          if(event !== undefined) {
            event.stopPropagation();
          }
          module.reset();
          module.set.active();
        };
        settings.beforeChange.call($nextSide[0]);
        if(module.get.transitionEvent()) {
          module.verbose(&#39;Starting CSS animation&#39;);
          $module
            .addClass(className.animating)
          ;
          $sides
            .css(propertyObject)
            .one(module.get.transitionEvent(), callback)
          ;
          module.set.duration(settings.duration);
          requestAnimationFrame(function() {
            $module
              .addClass(className.animating)
            ;
            $activeSide
              .addClass(className.hidden)
            ;
          });
        }
        else {
          callback();
        }
      },

      queue: function(method) {
        module.debug(&#39;Queueing animation of&#39;, method);
        $sides
          .one(module.get.transitionEvent(), function() {
            module.debug(&#39;Executing queued animation&#39;);
            setTimeout(function(){
              $module.shape(method);
            }, 0);
          })
        ;
      },

      reset: function() {
        module.verbose(&#39;Animating states reset&#39;);
        $module
          .removeClass(className.animating)
          .attr(&#39;style&#39;, &#39;&#39;)
          .removeAttr(&#39;style&#39;)
        ;
        // removeAttr style does not consistently work in safari
        $sides
          .attr(&#39;style&#39;, &#39;&#39;)
          .removeAttr(&#39;style&#39;)
        ;
        $side
          .attr(&#39;style&#39;, &#39;&#39;)
          .removeAttr(&#39;style&#39;)
          .removeClass(className.hidden)
        ;
        $nextSide
          .removeClass(className.animating)
          .attr(&#39;style&#39;, &#39;&#39;)
          .removeAttr(&#39;style&#39;)
        ;
      },

      is: {
        complete: function() {
          return ($side.filter(&#39;.&#39; + className.active)[0] == $nextSide[0]);
        },
        animating: function() {
          return $module.hasClass(className.animating);
        }
      },

      set: {

        defaultSide: function() {
          $activeSide = $module.find(&#39;.&#39; + settings.className.active);
          $nextSide   = ( $activeSide.next(selector.side).length &gt; 0 )
            ? $activeSide.next(selector.side)
            : $module.find(selector.side).first()
          ;
          nextIndex = false;
          module.verbose(&#39;Active side set to&#39;, $activeSide);
          module.verbose(&#39;Next side set to&#39;, $nextSide);
        },

        duration: function(duration) {
          duration = duration || settings.duration;
          duration = (typeof duration == &#39;number&#39;)
            ? duration + &#39;ms&#39;
            : duration
          ;
          module.verbose(&#39;Setting animation duration&#39;, duration);
          if(settings.duration || settings.duration === 0) {
            $sides.add($side)
              .css({
                &#39;-webkit-transition-duration&#39;: duration,
                &#39;-moz-transition-duration&#39;: duration,
                &#39;-ms-transition-duration&#39;: duration,
                &#39;-o-transition-duration&#39;: duration,
                &#39;transition-duration&#39;: duration
              })
            ;
          }
        },

        currentStageSize: function() {
          var
            $activeSide = $module.find(&#39;.&#39; + settings.className.active),
            width       = $activeSide.outerWidth(true),
            height      = $activeSide.outerHeight(true)
          ;
          $module
            .css({
              width: width,
              height: height
            })
          ;
        },

        stageSize: function() {
          var
            $clone      = $module.clone().addClass(className.loading),
            $activeSide = $clone.find(&#39;.&#39; + settings.className.active),
            $nextSide   = (nextIndex)
              ? $clone.find(selector.side).eq(nextIndex)
              : ( $activeSide.next(selector.side).length &gt; 0 )
                ? $activeSide.next(selector.side)
                : $clone.find(selector.side).first(),
            newSize = {}
          ;
          module.set.currentStageSize();
          $activeSide.removeClass(className.active);
          $nextSide.addClass(className.active);
          $clone.insertAfter($module);
          newSize = {
            width  : $nextSide.outerWidth(true),
            height : $nextSide.outerHeight(true)
          };
          $clone.remove();
          $module
            .css(newSize)
          ;
          module.verbose(&#39;Resizing stage to fit new content&#39;, newSize);
        },

        nextSide: function(selector) {
          nextIndex = selector;
          $nextSide = $side.filter(selector);
          nextIndex = $side.index($nextSide);
          if($nextSide.length === 0) {
            module.set.defaultSide();
            module.error(error.side);
          }
          module.verbose(&#39;Next side manually set to&#39;, $nextSide);
        },

        active: function() {
          module.verbose(&#39;Setting new side to active&#39;, $nextSide);
          $side
            .removeClass(className.active)
          ;
          $nextSide
            .addClass(className.active)
          ;
          settings.onChange.call($nextSide[0]);
          module.set.defaultSide();
        }
      },

      flip: {

        up: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping up&#39;, $nextSide);
            module.set.stageSize();
            module.stage.above();
            module.animate( module.get.transform.up() );
          }
          else {
            module.queue(&#39;flip up&#39;);
          }
        },

        down: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping down&#39;, $nextSide);
            module.set.stageSize();
            module.stage.below();
            module.animate( module.get.transform.down() );
          }
          else {
            module.queue(&#39;flip down&#39;);
          }
        },

        left: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping left&#39;, $nextSide);
            module.set.stageSize();
            module.stage.left();
            module.animate(module.get.transform.left() );
          }
          else {
            module.queue(&#39;flip left&#39;);
          }
        },

        right: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping right&#39;, $nextSide);
            module.set.stageSize();
            module.stage.right();
            module.animate(module.get.transform.right() );
          }
          else {
            module.queue(&#39;flip right&#39;);
          }
        },

        over: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping over&#39;, $nextSide);
            module.set.stageSize();
            module.stage.behind();
            module.animate(module.get.transform.over() );
          }
          else {
            module.queue(&#39;flip over&#39;);
          }
        },

        back: function() {
          if(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) {
            module.debug(&#39;Side already visible&#39;, $nextSide);
            return;
          }
          if( !module.is.animating()) {
            module.debug(&#39;Flipping back&#39;, $nextSide);
            module.set.stageSize();
            module.stage.behind();
            module.animate(module.get.transform.back() );
          }
          else {
            module.queue(&#39;flip back&#39;);
          }
        }

      },

      get: {

        transform: {
          up: function() {
            var
              translate = {
                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
                z: -($activeSide.outerHeight(true) / 2)
              }
            ;
            return {
              transform: &#39;translateY(&#39; + translate.y + &#39;px) translateZ(&#39;+ translate.z + &#39;px) rotateX(-90deg)&#39;
            };
          },

          down: function() {
            var
              translate = {
                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
                z: -($activeSide.outerHeight(true) / 2)
              }
            ;
            return {
              transform: &#39;translateY(&#39; + translate.y + &#39;px) translateZ(&#39;+ translate.z + &#39;px) rotateX(90deg)&#39;
            };
          },

          left: function() {
            var
              translate = {
                x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),
                z : -($activeSide.outerWidth(true) / 2)
              }
            ;
            return {
              transform: &#39;translateX(&#39; + translate.x + &#39;px) translateZ(&#39; + translate.z + &#39;px) rotateY(90deg)&#39;
            };
          },

          right: function() {
            var
              translate = {
                x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),
                z : -($activeSide.outerWidth(true) / 2)
              }
            ;
            return {
              transform: &#39;translateX(&#39; + translate.x + &#39;px) translateZ(&#39; + translate.z + &#39;px) rotateY(-90deg)&#39;
            };
          },

          over: function() {
            var
              translate = {
                x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)
              }
            ;
            return {
              transform: &#39;translateX(&#39; + translate.x + &#39;px) rotateY(180deg)&#39;
            };
          },

          back: function() {
            var
              translate = {
                x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)
              }
            ;
            return {
              transform: &#39;translateX(&#39; + translate.x + &#39;px) rotateY(-180deg)&#39;
            };
          }
        },

        transitionEvent: function() {
          var
            element     = document.createElement(&#39;element&#39;),
            transitions = {
              &#39;transition&#39;       :&#39;transitionend&#39;,
              &#39;OTransition&#39;      :&#39;oTransitionEnd&#39;,
              &#39;MozTransition&#39;    :&#39;transitionend&#39;,
              &#39;WebkitTransition&#39; :&#39;webkitTransitionEnd&#39;
            },
            transition
          ;
          for(transition in transitions){
            if( element.style[transition] !== undefined ){
              return transitions[transition];
            }
          }
        },

        nextSide: function() {
          return ( $activeSide.next(selector.side).length &gt; 0 )
            ? $activeSide.next(selector.side)
            : $module.find(selector.side).first()
          ;
        }

      },

      stage: {

        above: function() {
          var
            box = {
              origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
              depth  : {
                active : ($nextSide.outerHeight(true) / 2),
                next   : ($activeSide.outerHeight(true) / 2)
              }
            }
          ;
          module.verbose(&#39;Setting the initial animation position as above&#39;, $nextSide, box);
          $sides
            .css({
              &#39;transform&#39; : &#39;translateZ(-&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $activeSide
            .css({
              &#39;transform&#39; : &#39;rotateY(0deg) translateZ(&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $nextSide
            .addClass(className.animating)
            .css({
              &#39;top&#39;       : box.origin + &#39;px&#39;,
              &#39;transform&#39; : &#39;rotateX(90deg) translateZ(&#39; + box.depth.next + &#39;px)&#39;
            })
          ;
        },

        below: function() {
          var
            box = {
              origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
              depth  : {
                active : ($nextSide.outerHeight(true) / 2),
                next   : ($activeSide.outerHeight(true) / 2)
              }
            }
          ;
          module.verbose(&#39;Setting the initial animation position as below&#39;, $nextSide, box);
          $sides
            .css({
              &#39;transform&#39; : &#39;translateZ(-&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $activeSide
            .css({
              &#39;transform&#39; : &#39;rotateY(0deg) translateZ(&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $nextSide
            .addClass(className.animating)
            .css({
              &#39;top&#39;       : box.origin + &#39;px&#39;,
              &#39;transform&#39; : &#39;rotateX(-90deg) translateZ(&#39; + box.depth.next + &#39;px)&#39;
            })
          ;
        },

        left: function() {
          var
            height = {
              active : $activeSide.outerWidth(true),
              next   : $nextSide.outerWidth(true)
            },
            box = {
              origin : ( ( height.active - height.next ) / 2),
              depth  : {
                active : (height.next / 2),
                next   : (height.active / 2)
              }
            }
          ;
          module.verbose(&#39;Setting the initial animation position as left&#39;, $nextSide, box);
          $sides
            .css({
              &#39;transform&#39; : &#39;translateZ(-&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $activeSide
            .css({
              &#39;transform&#39; : &#39;rotateY(0deg) translateZ(&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $nextSide
            .addClass(className.animating)
            .css({
              &#39;left&#39;      : box.origin + &#39;px&#39;,
              &#39;transform&#39; : &#39;rotateY(-90deg) translateZ(&#39; + box.depth.next + &#39;px)&#39;
            })
          ;
        },

        right: function() {
          var
            height = {
              active : $activeSide.outerWidth(true),
              next   : $nextSide.outerWidth(true)
            },
            box = {
              origin : ( ( height.active - height.next ) / 2),
              depth  : {
                active : (height.next / 2),
                next   : (height.active / 2)
              }
            }
          ;
          module.verbose(&#39;Setting the initial animation position as left&#39;, $nextSide, box);
          $sides
            .css({
              &#39;transform&#39; : &#39;translateZ(-&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $activeSide
            .css({
              &#39;transform&#39; : &#39;rotateY(0deg) translateZ(&#39; + box.depth.active + &#39;px)&#39;
            })
          ;
          $nextSide
            .addClass(className.animating)
            .css({
              &#39;left&#39;      : box.origin + &#39;px&#39;,
              &#39;transform&#39; : &#39;rotateY(90deg) translateZ(&#39; + box.depth.next + &#39;px)&#39;
            })
          ;
        },

        behind: function() {
          var
            height = {
              active : $activeSide.outerWidth(true),
              next   : $nextSide.outerWidth(true)
            },
            box = {
              origin : ( ( height.active - height.next ) / 2),
              depth  : {
                active : (height.next / 2),
                next   : (height.active / 2)
              }
            }
          ;
          module.verbose(&#39;Setting the initial animation position as behind&#39;, $nextSide, box);
          $activeSide
            .css({
              &#39;transform&#39; : &#39;rotateY(0deg)&#39;
            })
          ;
          $nextSide
            .addClass(className.animating)
            .css({
              &#39;left&#39;      : box.origin + &#39;px&#39;,
              &#39;transform&#39; : &#39;rotateY(-180deg)&#39;
            })
          ;
        }
      },
      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.shape.settings = {</p>

<pre>// module info
name : &#39;Shape&#39;,

// debug content outputted to console
debug      : false,

// verbose debug output
verbose    : false,

// performance data output
performance: true,

// event namespace
namespace  : &#39;shape&#39;,

// callback occurs on side change
beforeChange : function() {},
onChange     : function() {},

// allow animation to same side
allowRepeats: false,

// animation duration
duration   : false,

// possible errors
error: {
  side   : &#39;You tried to switch to a side that does not exist.&#39;,
  method : &#39;The method you called is not defined&#39;
},

// classnames used
className   : {
  animating : &#39;animating&#39;,
  hidden    : &#39;hidden&#39;,
  loading   : &#39;loading&#39;,
  active    : &#39;active&#39;
},

// selectors used
selector    : {
  sides : &#39;.sides&#39;,
  side  : &#39;.side&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document ); /*!</p>

<pre> # Semantic UI 2.1.6 - Sidebar
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.sidebar = function(parameters) {</p>

<pre>var
  $allModules     = $(this),
  $window         = $(window),
  $document       = $(document),
  $html           = $(&#39;html&#39;),
  $head           = $(&#39;head&#39;),

  moduleSelector  = $allModules.selector || &#39;&#39;,

  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  requestAnimationFrame = window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || function(callback) { setTimeout(callback, 0); },

  returnedValue
;

$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.sidebar.settings, parameters)
        : $.extend({}, $.fn.sidebar.settings),

      selector        = settings.selector,
      className       = settings.className,
      namespace       = settings.namespace,
      regExp          = settings.regExp,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $module         = $(this),
      $context        = $(settings.context),

      $sidebars       = $module.children(selector.sidebar),
      $fixed          = $context.children(selector.fixed),
      $pusher         = $context.children(selector.pusher),
      $style,

      element         = this,
      instance        = $module.data(moduleNamespace),

      elementNamespace,
      id,
      currentScroll,
      transitionEvent,

      module
    ;

    module      = {

      initialize: function() {
        module.debug(&#39;Initializing sidebar&#39;, parameters);

        module.create.id();

        transitionEvent = module.get.transitionEvent();

        if(module.is.ios()) {
          module.set.ios();
        }

        // avoids locking rendering if initialized in onReady
        if(settings.delaySetup) {
          requestAnimationFrame(module.setup.layout);
        }
        else {
          module.setup.layout();
        }

        requestAnimationFrame(function() {
          module.setup.cache();
        });

        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      create: {
        id: function() {
          id = (Math.random().toString(16) + &#39;000000000&#39;).substr(2,8);
          elementNamespace = &#39;.&#39; + id;
          module.verbose(&#39;Creating unique id for element&#39;, id);
        }
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module for&#39;, $module);
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
        if(module.is.ios()) {
          module.remove.ios();
        }
        // bound by uuid
        $context.off(elementNamespace);
        $window.off(elementNamespace);
        $document.off(elementNamespace);
      },

      event: {
        clickaway: function(event) {
          var
            clickedInPusher = ($pusher.find(event.target).length &gt; 0 || $pusher.is(event.target)),
            clickedContext  = ($context.is(event.target))
          ;
          if(clickedInPusher) {
            module.verbose(&#39;User clicked on dimmed page&#39;);
            module.hide();
          }
          if(clickedContext) {
            module.verbose(&#39;User clicked on dimmable context (scaled out page)&#39;);
            module.hide();
          }
        },
        touch: function(event) {
          //event.stopPropagation();
        },
        containScroll: function(event) {
          if(element.scrollTop &lt;= 0)  {
            element.scrollTop = 1;
          }
          if((element.scrollTop + element.offsetHeight) &gt;= element.scrollHeight) {
            element.scrollTop = element.scrollHeight - element.offsetHeight - 1;
          }
        },
        scroll: function(event) {
          if( $(event.target).closest(selector.sidebar).length === 0 ) {
            event.preventDefault();
          }
        }
      },

      bind: {
        clickaway: function() {
          module.verbose(&#39;Adding clickaway events to context&#39;, $context);
          if(settings.closable) {
            $context
              .on(&#39;click&#39;    + elementNamespace, module.event.clickaway)
              .on(&#39;touchend&#39; + elementNamespace, module.event.clickaway)
            ;
          }
        },
        scrollLock: function() {
          if(settings.scrollLock) {
            module.debug(&#39;Disabling page scroll&#39;);
            $window
              .on(&#39;DOMMouseScroll&#39; + elementNamespace, module.event.scroll)
            ;
          }
          module.verbose(&#39;Adding events to contain sidebar scroll&#39;);
          $document
            .on(&#39;touchmove&#39; + elementNamespace, module.event.touch)
          ;
          $module
            .on(&#39;scroll&#39; + eventNamespace, module.event.containScroll)
          ;
        }
      },
      unbind: {
        clickaway: function() {
          module.verbose(&#39;Removing clickaway events from context&#39;, $context);
          $context.off(elementNamespace);
        },
        scrollLock: function() {
          module.verbose(&#39;Removing scroll lock from page&#39;);
          $document.off(elementNamespace);
          $window.off(elementNamespace);
          $module.off(&#39;scroll&#39; + eventNamespace);
        }
      },

      add: {
        inlineCSS: function() {
          var
            width     = module.cache.width  || $module.outerWidth(),
            height    = module.cache.height || $module.outerHeight(),
            isRTL     = module.is.rtl(),
            direction = module.get.direction(),
            distance  = {
              left   : width,
              right  : -width,
              top    : height,
              bottom : -height
            },
            style
          ;

          if(isRTL){
            module.verbose(&#39;RTL detected, flipping widths&#39;);
            distance.left = -width;
            distance.right = width;
          }

          style  = &#39;&lt;style&gt;&#39;;

          if(direction === &#39;left&#39; || direction === &#39;right&#39;) {
            module.debug(&#39;Adding CSS rules for animation distance&#39;, width);
            style  += &#39;&#39;
              + &#39; .ui.visible.&#39; + direction + &#39;.sidebar ~ .fixed,&#39;
              + &#39; .ui.visible.&#39; + direction + &#39;.sidebar ~ .pusher {&#39;
              + &#39;   -webkit-transform: translate3d(&#39;+ distance[direction] + &#39;px, 0, 0);&#39;
              + &#39;           transform: translate3d(&#39;+ distance[direction] + &#39;px, 0, 0);&#39;
              + &#39; }&#39;
            ;
          }
          else if(direction === &#39;top&#39; || direction == &#39;bottom&#39;) {
            style  += &#39;&#39;
              + &#39; .ui.visible.&#39; + direction + &#39;.sidebar ~ .fixed,&#39;
              + &#39; .ui.visible.&#39; + direction + &#39;.sidebar ~ .pusher {&#39;
              + &#39;   -webkit-transform: translate3d(0, &#39; + distance[direction] + &#39;px, 0);&#39;
              + &#39;           transform: translate3d(0, &#39; + distance[direction] + &#39;px, 0);&#39;
              + &#39; }&#39;
            ;
          }

          /* IE is only browser not to create context with transforms */
          /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */
          if( module.is.ie() ) {
            if(direction === &#39;left&#39; || direction === &#39;right&#39;) {
              module.debug(&#39;Adding CSS rules for animation distance&#39;, width);
              style  += &#39;&#39;
                + &#39; body.pushable &gt; .ui.visible.&#39; + direction + &#39;.sidebar ~ .pusher:after {&#39;
                + &#39;   -webkit-transform: translate3d(&#39;+ distance[direction] + &#39;px, 0, 0);&#39;
                + &#39;           transform: translate3d(&#39;+ distance[direction] + &#39;px, 0, 0);&#39;
                + &#39; }&#39;
              ;
            }
            else if(direction === &#39;top&#39; || direction == &#39;bottom&#39;) {
              style  += &#39;&#39;
                + &#39; body.pushable &gt; .ui.visible.&#39; + direction + &#39;.sidebar ~ .pusher:after {&#39;
                + &#39;   -webkit-transform: translate3d(0, &#39; + distance[direction] + &#39;px, 0);&#39;
                + &#39;           transform: translate3d(0, &#39; + distance[direction] + &#39;px, 0);&#39;
                + &#39; }&#39;
              ;
            }
            /* opposite sides visible forces content overlay */
            style += &#39;&#39;
              + &#39; body.pushable &gt; .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,&#39;
              + &#39; body.pushable &gt; .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {&#39;
              + &#39;   -webkit-transform: translate3d(0px, 0, 0);&#39;
              + &#39;           transform: translate3d(0px, 0, 0);&#39;
              + &#39; }&#39;
            ;
          }
          style += &#39;&lt;/style&gt;&#39;;
          $style = $(style)
            .appendTo($head)
          ;
          module.debug(&#39;Adding sizing css to head&#39;, $style);
        }
      },

      refresh: function() {
        module.verbose(&#39;Refreshing selector cache&#39;);
        $context  = $(settings.context);
        $sidebars = $context.children(selector.sidebar);
        $pusher   = $context.children(selector.pusher);
        $fixed    = $context.children(selector.fixed);
        module.clear.cache();
      },

      refreshSidebars: function() {
        module.verbose(&#39;Refreshing other sidebars&#39;);
        $sidebars = $context.children(selector.sidebar);
      },

      repaint: function() {
        module.verbose(&#39;Forcing repaint event&#39;);
        element.style.display = &#39;none&#39;;
        var ignored = element.offsetHeight;
        element.scrollTop = element.scrollTop;
        element.style.display = &#39;&#39;;
      },

      setup: {
        cache: function() {
          module.cache = {
            width  : $module.outerWidth(),
            height : $module.outerHeight(),
            rtl    : ($module.css(&#39;direction&#39;) == &#39;rtl&#39;)
          };
        },
        layout: function() {
          if( $context.children(selector.pusher).length === 0 ) {
            module.debug(&#39;Adding wrapper element for sidebar&#39;);
            module.error(error.pusher);
            $pusher = $(&#39;&lt;div class=&quot;pusher&quot; /&gt;&#39;);
            $context
              .children()
                .not(selector.omitted)
                .not($sidebars)
                .wrapAll($pusher)
            ;
            module.refresh();
          }
          if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {
            module.debug(&#39;Moved sidebar to correct parent element&#39;);
            module.error(error.movedSidebar, element);
            $module.detach().prependTo($context);
            module.refresh();
          }
          module.clear.cache();
          module.set.pushable();
          module.set.direction();
        }
      },

      attachEvents: function(selector, event) {
        var
          $toggle = $(selector)
        ;
        event = $.isFunction(module[event])
          ? module[event]
          : module.toggle
        ;
        if($toggle.length &gt; 0) {
          module.debug(&#39;Attaching sidebar events to element&#39;, selector, event);
          $toggle
            .on(&#39;click&#39; + eventNamespace, event)
          ;
        }
        else {
          module.error(error.notFound, selector);
        }
      },

      show: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if(module.is.hidden()) {
          module.refreshSidebars();
          if(settings.overlay)  {
            module.error(error.overlay);
            settings.transition = &#39;overlay&#39;;
          }
          module.refresh();
          if(module.othersActive()) {
            module.debug(&#39;Other sidebars currently visible&#39;);
            if(settings.exclusive) {
              // if not overlay queue animation after hide
              if(settings.transition != &#39;overlay&#39;) {
                module.hideOthers(module.show);
                return;
              }
              else {
                module.hideOthers();
              }
            }
            else {
              settings.transition = &#39;overlay&#39;;
            }
          }
          module.pushPage(function() {
            callback.call(element);
            settings.onShow.call(element);
          });
          settings.onChange.call(element);
          settings.onVisible.call(element);
        }
        else {
          module.debug(&#39;Sidebar is already visible&#39;);
        }
      },

      hide: function(callback) {
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if(module.is.visible() || module.is.animating()) {
          module.debug(&#39;Hiding sidebar&#39;, callback);
          module.refreshSidebars();
          module.pullPage(function() {
            callback.call(element);
            settings.onHidden.call(element);
          });
          settings.onChange.call(element);
          settings.onHide.call(element);
        }
      },

      othersAnimating: function() {
        return ($sidebars.not($module).filter(&#39;.&#39; + className.animating).length &gt; 0);
      },
      othersVisible: function() {
        return ($sidebars.not($module).filter(&#39;.&#39; + className.visible).length &gt; 0);
      },
      othersActive: function() {
        return(module.othersVisible() || module.othersAnimating());
      },

      hideOthers: function(callback) {
        var
          $otherSidebars = $sidebars.not($module).filter(&#39;.&#39; + className.visible),
          sidebarCount   = $otherSidebars.length,
          callbackCount  = 0
        ;
        callback = callback || function(){};
        $otherSidebars
          .sidebar(&#39;hide&#39;, function() {
            callbackCount++;
            if(callbackCount == sidebarCount) {
              callback();
            }
          })
        ;
      },

      toggle: function() {
        module.verbose(&#39;Determining toggled direction&#39;);
        if(module.is.hidden()) {
          module.show();
        }
        else {
          module.hide();
        }
      },

      pushPage: function(callback) {
        var
          transition = module.get.transition(),
          $transition = (transition === &#39;overlay&#39; || module.othersActive())
            ? $module
            : $pusher,
          animate,
          dim,
          transitionEnd
        ;
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        if(settings.transition == &#39;scale down&#39;) {
          module.scrollToTop();
        }
        module.set.transition(transition);
        module.repaint();
        animate = function() {
          module.bind.clickaway();
          module.add.inlineCSS();
          module.set.animating();
          module.set.visible();
        };
        dim = function() {
          module.set.dimmed();
        };
        transitionEnd = function(event) {
          if( event.target == $transition[0] ) {
            $transition.off(transitionEvent + elementNamespace, transitionEnd);
            module.remove.animating();
            module.bind.scrollLock();
            callback.call(element);
          }
        };
        $transition.off(transitionEvent + elementNamespace);
        $transition.on(transitionEvent + elementNamespace, transitionEnd);
        requestAnimationFrame(animate);
        if(settings.dimPage &amp;&amp; !module.othersVisible()) {
          requestAnimationFrame(dim);
        }
      },

      pullPage: function(callback) {
        var
          transition = module.get.transition(),
          $transition = (transition == &#39;overlay&#39; || module.othersActive())
            ? $module
            : $pusher,
          animate,
          transitionEnd
        ;
        callback = $.isFunction(callback)
          ? callback
          : function(){}
        ;
        module.verbose(&#39;Removing context push state&#39;, module.get.direction());

        module.unbind.clickaway();
        module.unbind.scrollLock();

        animate = function() {
          module.set.transition(transition);
          module.set.animating();
          module.remove.visible();
          if(settings.dimPage &amp;&amp; !module.othersVisible()) {
            $pusher.removeClass(className.dimmed);
          }
        };
        transitionEnd = function(event) {
          if( event.target == $transition[0] ) {
            $transition.off(transitionEvent + elementNamespace, transitionEnd);
            module.remove.animating();
            module.remove.transition();
            module.remove.inlineCSS();
            if(transition == &#39;scale down&#39; || (settings.returnScroll &amp;&amp; module.is.mobile()) ) {
              module.scrollBack();
            }
            callback.call(element);
          }
        };
        $transition.off(transitionEvent + elementNamespace);
        $transition.on(transitionEvent + elementNamespace, transitionEnd);
        requestAnimationFrame(animate);
      },

      scrollToTop: function() {
        module.verbose(&#39;Scrolling to top of page to avoid animation issues&#39;);
        currentScroll = $(window).scrollTop();
        $module.scrollTop(0);
        window.scrollTo(0, 0);
      },

      scrollBack: function() {
        module.verbose(&#39;Scrolling back to original page position&#39;);
        window.scrollTo(0, currentScroll);
      },

      clear: {
        cache: function() {
          module.verbose(&#39;Clearing cached dimensions&#39;);
          module.cache = {};
        }
      },

      set: {

        // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios
        ios: function() {
          $html.addClass(className.ios);
        },

        // container
        pushed: function() {
          $context.addClass(className.pushed);
        },
        pushable: function() {
          $context.addClass(className.pushable);
        },

        // pusher
        dimmed: function() {
          $pusher.addClass(className.dimmed);
        },

        // sidebar
        active: function() {
          $module.addClass(className.active);
        },
        animating: function() {
          $module.addClass(className.animating);
        },
        transition: function(transition) {
          transition = transition || module.get.transition();
          $module.addClass(transition);
        },
        direction: function(direction) {
          direction = direction || module.get.direction();
          $module.addClass(className[direction]);
        },
        visible: function() {
          $module.addClass(className.visible);
        },
        overlay: function() {
          $module.addClass(className.overlay);
        }
      },
      remove: {

        inlineCSS: function() {
          module.debug(&#39;Removing inline css styles&#39;, $style);
          if($style &amp;&amp; $style.length &gt; 0) {
            $style.remove();
          }
        },

        // ios scroll on html not document
        ios: function() {
          $html.removeClass(className.ios);
        },

        // context
        pushed: function() {
          $context.removeClass(className.pushed);
        },
        pushable: function() {
          $context.removeClass(className.pushable);
        },

        // sidebar
        active: function() {
          $module.removeClass(className.active);
        },
        animating: function() {
          $module.removeClass(className.animating);
        },
        transition: function(transition) {
          transition = transition || module.get.transition();
          $module.removeClass(transition);
        },
        direction: function(direction) {
          direction = direction || module.get.direction();
          $module.removeClass(className[direction]);
        },
        visible: function() {
          $module.removeClass(className.visible);
        },
        overlay: function() {
          $module.removeClass(className.overlay);
        }
      },

      get: {
        direction: function() {
          if($module.hasClass(className.top)) {
            return className.top;
          }
          else if($module.hasClass(className.right)) {
            return className.right;
          }
          else if($module.hasClass(className.bottom)) {
            return className.bottom;
          }
          return className.left;
        },
        transition: function() {
          var
            direction = module.get.direction(),
            transition
          ;
          transition = ( module.is.mobile() )
            ? (settings.mobileTransition == &#39;auto&#39;)
              ? settings.defaultTransition.mobile[direction]
              : settings.mobileTransition
            : (settings.transition == &#39;auto&#39;)
              ? settings.defaultTransition.computer[direction]
              : settings.transition
          ;
          module.verbose(&#39;Determined transition&#39;, transition);
          return transition;
        },
        transitionEvent: function() {
          var
            element     = document.createElement(&#39;element&#39;),
            transitions = {
              &#39;transition&#39;       :&#39;transitionend&#39;,
              &#39;OTransition&#39;      :&#39;oTransitionEnd&#39;,
              &#39;MozTransition&#39;    :&#39;transitionend&#39;,
              &#39;WebkitTransition&#39; :&#39;webkitTransitionEnd&#39;
            },
            transition
          ;
          for(transition in transitions){
            if( element.style[transition] !== undefined ){
              return transitions[transition];
            }
          }
        }
      },

      is: {

        ie: function() {
          var
            isIE11 = (!(window.ActiveXObject) &amp;&amp; &#39;ActiveXObject&#39; in window),
            isIE   = (&#39;ActiveXObject&#39; in window)
          ;
          return (isIE11 || isIE);
        },

        ios: function() {
          var
            userAgent      = navigator.userAgent,
            isIOS          = userAgent.match(regExp.ios),
            isMobileChrome = userAgent.match(regExp.mobileChrome)
          ;
          if(isIOS &amp;&amp; !isMobileChrome) {
            module.verbose(&#39;Browser was found to be iOS&#39;, userAgent);
            return true;
          }
          else {
            return false;
          }
        },
        mobile: function() {
          var
            userAgent    = navigator.userAgent,
            isMobile     = userAgent.match(regExp.mobile)
          ;
          if(isMobile) {
            module.verbose(&#39;Browser was found to be mobile&#39;, userAgent);
            return true;
          }
          else {
            module.verbose(&#39;Browser is not mobile, using regular transition&#39;, userAgent);
            return false;
          }
        },
        hidden: function() {
          return !module.is.visible();
        },
        visible: function() {
          return $module.hasClass(className.visible);
        },
        // alias
        open: function() {
          return module.is.visible();
        },
        closed: function() {
          return module.is.hidden();
        },
        vertical: function() {
          return $module.hasClass(className.top);
        },
        animating: function() {
          return $context.hasClass(className.animating);
        },
        rtl: function () {
          if(module.cache.rtl === undefined) {
            module.cache.rtl = ($module.css(&#39;direction&#39;) == &#39;rtl&#39;);
          }
          return module.cache.rtl;
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    }
  ;

  if(methodInvoked) {
    if(instance === undefined) {
      module.initialize();
    }
    module.invoke(query);
  }
  else {
    if(instance !== undefined) {
      module.invoke(&#39;destroy&#39;);
    }
    module.initialize();
  }
});

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.sidebar.settings = {</p>

<pre>name              : &#39;Sidebar&#39;,
namespace         : &#39;sidebar&#39;,

debug             : false,
verbose           : false,
performance       : true,

transition        : &#39;auto&#39;,
mobileTransition  : &#39;auto&#39;,

defaultTransition : {
  computer: {
    left   : &#39;uncover&#39;,
    right  : &#39;uncover&#39;,
    top    : &#39;overlay&#39;,
    bottom : &#39;overlay&#39;
  },
  mobile: {
    left   : &#39;uncover&#39;,
    right  : &#39;uncover&#39;,
    top    : &#39;overlay&#39;,
    bottom : &#39;overlay&#39;
  }
},

context           : &#39;body&#39;,
exclusive         : false,
closable          : true,
dimPage           : true,
scrollLock        : false,
returnScroll      : false,
delaySetup        : false,

duration          : 500,

onChange          : function(){},
onShow            : function(){},
onHide            : function(){},

onHidden          : function(){},
onVisible         : function(){},

className         : {
  active    : &#39;active&#39;,
  animating : &#39;animating&#39;,
  dimmed    : &#39;dimmed&#39;,
  ios       : &#39;ios&#39;,
  pushable  : &#39;pushable&#39;,
  pushed    : &#39;pushed&#39;,
  right     : &#39;right&#39;,
  top       : &#39;top&#39;,
  left      : &#39;left&#39;,
  bottom    : &#39;bottom&#39;,
  visible   : &#39;visible&#39;
},

selector: {
  fixed   : &#39;.fixed&#39;,
  omitted : &#39;script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed&#39;,
  pusher  : &#39;.pusher&#39;,
  sidebar : &#39;.ui.sidebar&#39;
},

regExp: {
  ios          : /(iPad|iPhone|iPod)/g,
  mobileChrome : /(CriOS)/g,
  mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g
},

error   : {
  method       : &#39;The method you called is not defined.&#39;,
  pusher       : &#39;Had to add pusher element. For optimal performance make sure body content is inside a pusher element&#39;,
  movedSidebar : &#39;Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag&#39;,
  overlay      : &#39;The overlay setting is no longer supported, use animation: overlay&#39;,
  notFound     : &#39;There were no elements that matched the specified selector&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Sticky
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.sticky = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),
  returnedValue
;

$allModules
  .each(function() {
    var
      settings              = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.sticky.settings, parameters)
        : $.extend({}, $.fn.sticky.settings),

      className             = settings.className,
      namespace             = settings.namespace,
      error                 = settings.error,

      eventNamespace        = &#39;.&#39; + namespace,
      moduleNamespace       = &#39;module-&#39; + namespace,

      $module               = $(this),
      $window               = $(window),
      $scroll               = $(settings.scrollContext),
      $container,
      $context,

      selector              = $module.selector || &#39;&#39;,
      instance              = $module.data(moduleNamespace),

      requestAnimationFrame = window.requestAnimationFrame
        || window.mozRequestAnimationFrame
        || window.webkitRequestAnimationFrame
        || window.msRequestAnimationFrame
        || function(callback) { setTimeout(callback, 0); },

      element         = this,
      observer,
      module
    ;

    module      = {

      initialize: function() {

        module.determineContainer();
        module.determineContext();
        module.verbose(&#39;Initializing sticky&#39;, settings, $container);

        module.save.positions();
        module.checkErrors();
        module.bind.events();

        if(settings.observeChanges) {
          module.observeChanges();
        }
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous instance&#39;);
        module.reset();
        if(observer) {
          observer.disconnect();
        }
        $window
          .off(&#39;load&#39; + eventNamespace, module.event.load)
          .off(&#39;resize&#39; + eventNamespace, module.event.resize)
        ;
        $scroll
          .off(&#39;scrollchange&#39; + eventNamespace, module.event.scrollchange)
        ;
        $module.removeData(moduleNamespace);
      },

      observeChanges: function() {
        var
          context = $context[0]
        ;
        if(&#39;MutationObserver&#39; in window) {
          observer = new MutationObserver(function(mutations) {
            clearTimeout(module.timer);
            module.timer = setTimeout(function() {
              module.verbose(&#39;DOM tree modified, updating sticky menu&#39;, mutations);
              module.refresh();
            }, 100);
          });
          observer.observe(element, {
            childList : true,
            subtree   : true
          });
          observer.observe(context, {
            childList : true,
            subtree   : true
          });
          module.debug(&#39;Setting up mutation observer&#39;, observer);
        }
      },

      determineContainer: function() {
        $container = $module.offsetParent();
      },

      determineContext: function() {
        if(settings.context) {
          $context = $(settings.context);
        }
        else {
          $context = $container;
        }
        if($context.length === 0) {
          module.error(error.invalidContext, settings.context, $module);
          return;
        }
      },

      checkErrors: function() {
        if( module.is.hidden() ) {
          module.error(error.visible, $module);
        }
        if(module.cache.element.height &gt; module.cache.context.height) {
          module.reset();
          module.error(error.elementSize, $module);
          return;
        }
      },

      bind: {
        events: function() {
          $window
            .on(&#39;load&#39; + eventNamespace, module.event.load)
            .on(&#39;resize&#39; + eventNamespace, module.event.resize)
          ;
          // pub/sub pattern
          $scroll
            .off(&#39;scroll&#39; + eventNamespace)
            .on(&#39;scroll&#39; + eventNamespace, module.event.scroll)
            .on(&#39;scrollchange&#39; + eventNamespace, module.event.scrollchange)
          ;
        }
      },

      event: {
        load: function() {
          module.verbose(&#39;Page contents finished loading&#39;);
          requestAnimationFrame(module.refresh);
        },
        resize: function() {
          module.verbose(&#39;Window resized&#39;);
          requestAnimationFrame(module.refresh);
        },
        scroll: function() {
          requestAnimationFrame(function() {
            $scroll.triggerHandler(&#39;scrollchange&#39; + eventNamespace, $scroll.scrollTop() );
          });
        },
        scrollchange: function(event, scrollPosition) {
          module.stick(scrollPosition);
          settings.onScroll.call(element);
        }
      },

      refresh: function(hardRefresh) {
        module.reset();
        if(!settings.context) {
          module.determineContext();
        }
        if(hardRefresh) {
          module.determineContainer();
        }
        module.save.positions();
        module.stick();
        settings.onReposition.call(element);
      },

      supports: {
        sticky: function() {
          var
            $element = $(&#39;&lt;div/&gt;&#39;),
            element = $element[0]
          ;
          $element.addClass(className.supported);
          return($element.css(&#39;position&#39;).match(&#39;sticky&#39;));
        }
      },

      save: {
        lastScroll: function(scroll) {
          module.lastScroll = scroll;
        },
        elementScroll: function(scroll) {
          module.elementScroll = scroll;
        },
        positions: function() {
          var
            scrollContext = {
              height : $scroll.height()
            },
            element = {
              margin: {
                top    : parseInt($module.css(&#39;margin-top&#39;), 10),
                bottom : parseInt($module.css(&#39;margin-bottom&#39;), 10),
              },
              offset : $module.offset(),
              width  : $module.outerWidth(),
              height : $module.outerHeight()
            },
            context = {
              offset : $context.offset(),
              height : $context.outerHeight()
            },
            container = {
              height: $container.outerHeight()
            }
          ;
          if( !module.is.standardScroll() ) {
            module.debug(&#39;Non-standard scroll. Removing scroll offset from element offset&#39;);

            scrollContext.top  = $scroll.scrollTop();
            scrollContext.left = $scroll.scrollLeft();

            element.offset.top  += scrollContext.top;
            context.offset.top  += scrollContext.top;
            element.offset.left += scrollContext.left;
            context.offset.left += scrollContext.left;
          }
          module.cache = {
            fits : ( element.height &lt; scrollContext.height ),
            scrollContext : {
              height : scrollContext.height
            },
            element: {
              margin : element.margin,
              top    : element.offset.top - element.margin.top,
              left   : element.offset.left,
              width  : element.width,
              height : element.height,
              bottom : element.offset.top + element.height
            },
            context: {
              top           : context.offset.top,
              height        : context.height,
              bottom        : context.offset.top + context.height
            }
          };
          module.set.containerSize();
          module.set.size();
          module.stick();
          module.debug(&#39;Caching element positions&#39;, module.cache);
        }
      },

      get: {
        direction: function(scroll) {
          var
            direction = &#39;down&#39;
          ;
          scroll = scroll || $scroll.scrollTop();
          if(module.lastScroll !== undefined) {
            if(module.lastScroll &lt; scroll) {
              direction = &#39;down&#39;;
            }
            else if(module.lastScroll &gt; scroll) {
              direction = &#39;up&#39;;
            }
          }
          return direction;
        },
        scrollChange: function(scroll) {
          scroll = scroll || $scroll.scrollTop();
          return (module.lastScroll)
            ? (scroll - module.lastScroll)
            : 0
          ;
        },
        currentElementScroll: function() {
          if(module.elementScroll) {
            return module.elementScroll;
          }
          return ( module.is.top() )
            ? Math.abs(parseInt($module.css(&#39;top&#39;), 10))    || 0
            : Math.abs(parseInt($module.css(&#39;bottom&#39;), 10)) || 0
          ;
        },

        elementScroll: function(scroll) {
          scroll = scroll || $scroll.scrollTop();
          var
            element        = module.cache.element,
            scrollContext  = module.cache.scrollContext,
            delta          = module.get.scrollChange(scroll),
            maxScroll      = (element.height - scrollContext.height + settings.offset),
            elementScroll  = module.get.currentElementScroll(),
            possibleScroll = (elementScroll + delta)
          ;
          if(module.cache.fits || possibleScroll &lt; 0) {
            elementScroll = 0;
          }
          else if(possibleScroll &gt; maxScroll ) {
            elementScroll = maxScroll;
          }
          else {
            elementScroll = possibleScroll;
          }
          return elementScroll;
        }
      },

      remove: {
        lastScroll: function() {
          delete module.lastScroll;
        },
        elementScroll: function(scroll) {
          delete module.elementScroll;
        },
        offset: function() {
          $module.css(&#39;margin-top&#39;, &#39;&#39;);
        }
      },

      set: {
        offset: function() {
          module.verbose(&#39;Setting offset on element&#39;, settings.offset);
          $module
            .css(&#39;margin-top&#39;, settings.offset)
          ;
        },
        containerSize: function() {
          var
            tagName = $container.get(0).tagName
          ;
          if(tagName === &#39;HTML&#39; || tagName == &#39;body&#39;) {
            // this can trigger for too many reasons
            //module.error(error.container, tagName, $module);
            module.determineContainer();
          }
          else {
            if( Math.abs($container.outerHeight() - module.cache.context.height) &gt; settings.jitter) {
              module.debug(&#39;Context has padding, specifying exact height for container&#39;, module.cache.context.height);
              $container.css({
                height: module.cache.context.height
              });
            }
          }
        },
        minimumSize: function() {
          var
            element   = module.cache.element
          ;
          $container
            .css(&#39;min-height&#39;, element.height)
          ;
        },
        scroll: function(scroll) {
          module.debug(&#39;Setting scroll on element&#39;, scroll);
          if(module.elementScroll == scroll) {
            return;
          }
          if( module.is.top() ) {
            $module
              .css(&#39;bottom&#39;, &#39;&#39;)
              .css(&#39;top&#39;, -scroll)
            ;
          }
          if( module.is.bottom() ) {
            $module
              .css(&#39;top&#39;, &#39;&#39;)
              .css(&#39;bottom&#39;, scroll)
            ;
          }
        },
        size: function() {
          if(module.cache.element.height !== 0 &amp;&amp; module.cache.element.width !== 0) {
            element.style.setProperty(&#39;width&#39;,  module.cache.element.width  + &#39;px&#39;, &#39;important&#39;);
            element.style.setProperty(&#39;height&#39;, module.cache.element.height + &#39;px&#39;, &#39;important&#39;);
          }
        }
      },

      is: {
        standardScroll: function() {
          return ($scroll[0] == window);
        },
        top: function() {
          return $module.hasClass(className.top);
        },
        bottom: function() {
          return $module.hasClass(className.bottom);
        },
        initialPosition: function() {
          return (!module.is.fixed() &amp;&amp; !module.is.bound());
        },
        hidden: function() {
          return (!$module.is(&#39;:visible&#39;));
        },
        bound: function() {
          return $module.hasClass(className.bound);
        },
        fixed: function() {
          return $module.hasClass(className.fixed);
        }
      },

      stick: function(scroll) {
        var
          cachedPosition = scroll || $scroll.scrollTop(),
          cache          = module.cache,
          fits           = cache.fits,
          element        = cache.element,
          scrollContext  = cache.scrollContext,
          context        = cache.context,
          offset         = (module.is.bottom() &amp;&amp; settings.pushing)
            ? settings.bottomOffset
            : settings.offset,
          scroll         = {
            top    : cachedPosition + offset,
            bottom : cachedPosition + offset + scrollContext.height
          },
          direction      = module.get.direction(scroll.top),
          elementScroll  = (fits)
            ? 0
            : module.get.elementScroll(scroll.top),

          // shorthand
          doesntFit      = !fits,
          elementVisible = (element.height !== 0)
        ;

        if(elementVisible) {

          if( module.is.initialPosition() ) {
            if(scroll.top &gt;= context.bottom) {
              module.debug(&#39;Initial element position is bottom of container&#39;);
              module.bindBottom();
            }
            else if(scroll.top &gt; element.top) {
              if( (element.height + scroll.top - elementScroll) &gt;= context.bottom ) {
                module.debug(&#39;Initial element position is bottom of container&#39;);
                module.bindBottom();
              }
              else {
                module.debug(&#39;Initial element position is fixed&#39;);
                module.fixTop();
              }
            }

          }
          else if( module.is.fixed() ) {

            // currently fixed top
            if( module.is.top() ) {
              if( scroll.top &lt;= element.top ) {
                module.debug(&#39;Fixed element reached top of container&#39;);
                module.setInitialPosition();
              }
              else if( (element.height + scroll.top - elementScroll) &gt;= context.bottom ) {
                module.debug(&#39;Fixed element reached bottom of container&#39;);
                module.bindBottom();
              }
              // scroll element if larger than screen
              else if(doesntFit) {
                module.set.scroll(elementScroll);
                module.save.lastScroll(scroll.top);
                module.save.elementScroll(elementScroll);
              }
            }

            // currently fixed bottom
            else if(module.is.bottom() ) {

              // top edge
              if( (scroll.bottom - element.height) &lt;= element.top) {
                module.debug(&#39;Bottom fixed rail has reached top of container&#39;);
                module.setInitialPosition();
              }
              // bottom edge
              else if(scroll.bottom &gt;= context.bottom) {
                module.debug(&#39;Bottom fixed rail has reached bottom of container&#39;);
                module.bindBottom();
              }
              // scroll element if larger than screen
              else if(doesntFit) {
                module.set.scroll(elementScroll);
                module.save.lastScroll(scroll.top);
                module.save.elementScroll(elementScroll);
              }

            }
          }
          else if( module.is.bottom() ) {
            if( scroll.top &lt;= element.top ) {
              module.debug(&#39;Jumped from bottom fixed to top fixed, most likely used home/end button&#39;);
              module.setInitialPosition();
            }
            else {
              if(settings.pushing) {
                if(module.is.bound() &amp;&amp; scroll.bottom &lt;= context.bottom ) {
                  module.debug(&#39;Fixing bottom attached element to bottom of browser.&#39;);
                  module.fixBottom();
                }
              }
              else {
                if(module.is.bound() &amp;&amp; (scroll.top &lt;= context.bottom - element.height) ) {
                  module.debug(&#39;Fixing bottom attached element to top of browser.&#39;);
                  module.fixTop();
                }
              }
            }
          }
        }
      },

      bindTop: function() {
        module.debug(&#39;Binding element to top of parent container&#39;);
        module.remove.offset();
        $module
          .css({
            left         : &#39;&#39;,
            top          : &#39;&#39;,
            marginBottom : &#39;&#39;
          })
          .removeClass(className.fixed)
          .removeClass(className.bottom)
          .addClass(className.bound)
          .addClass(className.top)
        ;
        settings.onTop.call(element);
        settings.onUnstick.call(element);
      },
      bindBottom: function() {
        module.debug(&#39;Binding element to bottom of parent container&#39;);
        module.remove.offset();
        $module
          .css({
            left         : &#39;&#39;,
            top          : &#39;&#39;
          })
          .removeClass(className.fixed)
          .removeClass(className.top)
          .addClass(className.bound)
          .addClass(className.bottom)
        ;
        settings.onBottom.call(element);
        settings.onUnstick.call(element);
      },

      setInitialPosition: function() {
        module.debug(&#39;Returning to initial position&#39;);
        module.unfix();
        module.unbind();
      },

      fixTop: function() {
        module.debug(&#39;Fixing element to top of page&#39;);
        module.set.minimumSize();
        module.set.offset();
        $module
          .css({
            left         : module.cache.element.left,
            bottom       : &#39;&#39;,
            marginBottom : &#39;&#39;
          })
          .removeClass(className.bound)
          .removeClass(className.bottom)
          .addClass(className.fixed)
          .addClass(className.top)
        ;
        settings.onStick.call(element);
      },

      fixBottom: function() {
        module.debug(&#39;Sticking element to bottom of page&#39;);
        module.set.minimumSize();
        module.set.offset();
        $module
          .css({
            left         : module.cache.element.left,
            bottom       : &#39;&#39;,
            marginBottom : &#39;&#39;
          })
          .removeClass(className.bound)
          .removeClass(className.top)
          .addClass(className.fixed)
          .addClass(className.bottom)
        ;
        settings.onStick.call(element);
      },

      unbind: function() {
        if( module.is.bound() ) {
          module.debug(&#39;Removing container bound position on element&#39;);
          module.remove.offset();
          $module
            .removeClass(className.bound)
            .removeClass(className.top)
            .removeClass(className.bottom)
          ;
        }
      },

      unfix: function() {
        if( module.is.fixed() ) {
          module.debug(&#39;Removing fixed position on element&#39;);
          module.remove.offset();
          $module
            .removeClass(className.fixed)
            .removeClass(className.top)
            .removeClass(className.bottom)
          ;
          settings.onUnstick.call(element);
        }
      },

      reset: function() {
        module.debug(&#39;Reseting elements position&#39;);
        module.unbind();
        module.unfix();
        module.resetCSS();
        module.remove.offset();
        module.remove.lastScroll();
      },

      resetCSS: function() {
        $module
          .css({
            width  : &#39;&#39;,
            height : &#39;&#39;
          })
        ;
        $container
          .css({
            height: &#39;&#39;
          })
        ;
      },

      setting: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 0);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.sticky.settings = {</p>

<pre>name           : &#39;Sticky&#39;,
namespace      : &#39;sticky&#39;,

debug          : false,
verbose        : true,
performance    : true,

// whether to stick in the opposite direction on scroll up
pushing        : false,

context        : false,

// Context to watch scroll events
scrollContext  : window,

// Offset to adjust scroll
offset         : 0,

// Offset to adjust scroll when attached to bottom of screen
bottomOffset   : 0,

jitter         : 5, // will only set container height if difference between context and container is larger than this number

// Whether to automatically observe changes with Mutation Observers
observeChanges : false,

// Called when position is recalculated
onReposition   : function(){},

// Called on each scroll
onScroll       : function(){},

// Called when element is stuck to viewport
onStick        : function(){},

// Called when element is unstuck from viewport
onUnstick      : function(){},

// Called when element reaches top of context
onTop          : function(){},

// Called when element reaches bottom of context
onBottom       : function(){},

error         : {
  container      : &#39;Sticky element must be inside a relative container&#39;,
  visible        : &#39;Element is hidden, you must call refresh after element becomes visible&#39;,
  method         : &#39;The method you called is not defined.&#39;,
  invalidContext : &#39;Context specified does not exist&#39;,
  elementSize    : &#39;Sticky element is larger than its container, cannot create sticky.&#39;
},

className : {
  bound     : &#39;bound&#39;,
  fixed     : &#39;fixed&#39;,
  supported : &#39;native&#39;,
  top       : &#39;top&#39;,
  bottom    : &#39;bottom&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document ); /*!</p>

<pre> # Semantic UI 2.1.6 - Tab
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ($, window, document, undefined) {</p>

<p>“use strict”;</p>

<p>$.fn.tab = function(parameters) {</p>

<pre>var
  // use window context if none specified
  $allModules     = $.isFunction(this)
      ? $(window)
      : $(this),

  moduleSelector  = $allModules.selector || &#39;&#39;,
  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  initializedHistory = false,
  returnedValue
;

$allModules
  .each(function() {
    var

      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.tab.settings, parameters)
        : $.extend({}, $.fn.tab.settings),

      className       = settings.className,
      metadata        = settings.metadata,
      selector        = settings.selector,
      error           = settings.error,

      eventNamespace  = &#39;.&#39; + settings.namespace,
      moduleNamespace = &#39;module-&#39; + settings.namespace,

      $module         = $(this),
      $context,
      $tabs,

      cache           = {},
      firstLoad       = true,
      recursionDepth  = 0,
      element         = this,
      instance        = $module.data(moduleNamespace),

      activeTabPath,
      parameterArray,
      module,

      historyEvent

    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing tab menu item&#39;, $module);
        module.fix.callbacks();
        module.determineTabs();

        module.debug(&#39;Determining tabs&#39;, settings.context, $tabs);
        // set up automatic routing
        if(settings.auto) {
          module.set.auto();
        }
        module.bind.events();

        if(settings.history &amp;&amp; !initializedHistory) {
          module.initializeHistory();
          initializedHistory = true;
        }

        module.instantiate();
      },

      instantiate: function () {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.debug(&#39;Destroying tabs&#39;, $module);
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
      },

      bind: {
        events: function() {
          // if using $.tab don&#39;t add events
          if( !$.isWindow( element ) ) {
            module.debug(&#39;Attaching tab activation events to element&#39;, $module);
            $module
              .on(&#39;click&#39; + eventNamespace, module.event.click)
            ;
          }
        }
      },

      determineTabs: function() {
        var
          $reference
        ;

        // determine tab context
        if(settings.context === &#39;parent&#39;) {
          if($module.closest(selector.ui).length &gt; 0) {
            $reference = $module.closest(selector.ui);
            module.verbose(&#39;Using closest UI element as parent&#39;, $reference);
          }
          else {
            $reference = $module;
          }
          $context = $reference.parent();
          module.verbose(&#39;Determined parent element for creating context&#39;, $context);
        }
        else if(settings.context) {
          $context = $(settings.context);
          module.verbose(&#39;Using selector for tab context&#39;, settings.context, $context);
        }
        else {
          $context = $(&#39;body&#39;);
        }
        // find tabs
        if(settings.childrenOnly) {
          $tabs = $context.children(selector.tabs);
          module.debug(&#39;Searching tab context children for tabs&#39;, $context, $tabs);
        }
        else {
          $tabs = $context.find(selector.tabs);
          module.debug(&#39;Searching tab context for tabs&#39;, $context, $tabs);
        }
      },

      fix: {
        callbacks: function() {
          if( $.isPlainObject(parameters) &amp;&amp; (parameters.onTabLoad || parameters.onTabInit) ) {
            if(parameters.onTabLoad) {
              parameters.onLoad = parameters.onTabLoad;
              delete parameters.onTabLoad;
              module.error(error.legacyLoad, parameters.onLoad);
            }
            if(parameters.onTabInit) {
              parameters.onFirstLoad = parameters.onTabInit;
              delete parameters.onTabInit;
              module.error(error.legacyInit, parameters.onFirstLoad);
            }
            settings = $.extend(true, {}, $.fn.tab.settings, parameters);
          }
        }
      },

      initializeHistory: function() {
        module.debug(&#39;Initializing page state&#39;);
        if( $.address === undefined ) {
          module.error(error.state);
          return false;
        }
        else {
          if(settings.historyType == &#39;state&#39;) {
            module.debug(&#39;Using HTML5 to manage state&#39;);
            if(settings.path !== false) {
              $.address
                .history(true)
                .state(settings.path)
              ;
            }
            else {
              module.error(error.path);
              return false;
            }
          }
          $.address
            .bind(&#39;change&#39;, module.event.history.change)
          ;
        }
      },

      event: {
        click: function(event) {
          var
            tabPath = $(this).data(metadata.tab)
          ;
          if(tabPath !== undefined) {
            if(settings.history) {
              module.verbose(&#39;Updating page state&#39;, event);
              $.address.value(tabPath);
            }
            else {
              module.verbose(&#39;Changing tab&#39;, event);
              module.changeTab(tabPath);
            }
            event.preventDefault();
          }
          else {
            module.debug(&#39;No tab specified&#39;);
          }
        },
        history: {
          change: function(event) {
            var
              tabPath   = event.pathNames.join(&#39;/&#39;) || module.get.initialPath(),
              pageTitle = settings.templates.determineTitle(tabPath) || false
            ;
            module.performance.display();
            module.debug(&#39;History change event&#39;, tabPath, event);
            historyEvent = event;
            if(tabPath !== undefined) {
              module.changeTab(tabPath);
            }
            if(pageTitle) {
              $.address.title(pageTitle);
            }
          }
        }
      },

      refresh: function() {
        if(activeTabPath) {
          module.debug(&#39;Refreshing tab&#39;, activeTabPath);
          module.changeTab(activeTabPath);
        }
      },

      cache: {

        read: function(cacheKey) {
          return (cacheKey !== undefined)
            ? cache[cacheKey]
            : false
          ;
        },
        add: function(cacheKey, content) {
          cacheKey = cacheKey || activeTabPath;
          module.debug(&#39;Adding cached content for&#39;, cacheKey);
          cache[cacheKey] = content;
        },
        remove: function(cacheKey) {
          cacheKey = cacheKey || activeTabPath;
          module.debug(&#39;Removing cached content for&#39;, cacheKey);
          delete cache[cacheKey];
        }
      },

      set: {
        auto: function() {
          var
            url = (typeof settings.path == &#39;string&#39;)
              ? settings.path.replace(/\/$/, &#39;&#39;) + &#39;/{$tab}&#39;
              : &#39;/{$tab}&#39;
          ;
          module.verbose(&#39;Setting up automatic tab retrieval from server&#39;, url);
          if($.isPlainObject(settings.apiSettings)) {
            settings.apiSettings.url = url;
          }
          else {
            settings.apiSettings = {
              url: url
            };
          }
        },
        loading: function(tabPath) {
          var
            $tab      = module.get.tabElement(tabPath),
            isLoading = $tab.hasClass(className.loading)
          ;
          if(!isLoading) {
            module.verbose(&#39;Setting loading state for&#39;, $tab);
            $tab
              .addClass(className.loading)
              .siblings($tabs)
                .removeClass(className.active + &#39; &#39; + className.loading)
            ;
            if($tab.length &gt; 0) {
              settings.onRequest.call($tab[0], tabPath);
            }
          }
        },
        state: function(state) {
          $.address.value(state);
        }
      },

      changeTab: function(tabPath) {
        var
          pushStateAvailable = (window.history &amp;&amp; window.history.pushState),
          shouldIgnoreLoad   = (pushStateAvailable &amp;&amp; settings.ignoreFirstLoad &amp;&amp; firstLoad),
          remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),
          // only add default path if not remote content
          pathArray = (remoteContent &amp;&amp; !shouldIgnoreLoad)
            ? module.utilities.pathToArray(tabPath)
            : module.get.defaultPathArray(tabPath)
        ;
        tabPath = module.utilities.arrayToPath(pathArray);
        $.each(pathArray, function(index, tab) {
          var
            currentPathArray   = pathArray.slice(0, index + 1),
            currentPath        = module.utilities.arrayToPath(currentPathArray),

            isTab              = module.is.tab(currentPath),
            isLastIndex        = (index + 1 == pathArray.length),

            $tab               = module.get.tabElement(currentPath),
            $anchor,
            nextPathArray,
            nextPath,
            isLastTab
          ;
          module.verbose(&#39;Looking for tab&#39;, tab);
          if(isTab) {
            module.verbose(&#39;Tab was found&#39;, tab);
            // scope up
            activeTabPath  = currentPath;
            parameterArray = module.utilities.filterArray(pathArray, currentPathArray);

            if(isLastIndex) {
              isLastTab = true;
            }
            else {
              nextPathArray = pathArray.slice(0, index + 2);
              nextPath      = module.utilities.arrayToPath(nextPathArray);
              isLastTab     = ( !module.is.tab(nextPath) );
              if(isLastTab) {
                module.verbose(&#39;Tab parameters found&#39;, nextPathArray);
              }
            }
            if(isLastTab &amp;&amp; remoteContent) {
              if(!shouldIgnoreLoad) {
                module.activate.navigation(currentPath);
                module.fetch.content(currentPath, tabPath);
              }
              else {
                module.debug(&#39;Ignoring remote content on first tab load&#39;, currentPath);
                firstLoad = false;
                module.cache.add(tabPath, $tab.html());
                module.activate.all(currentPath);
                settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
              }
              return false;
            }
            else {
              module.debug(&#39;Opened local tab&#39;, currentPath);
              module.activate.all(currentPath);
              if( !module.cache.read(currentPath) ) {
                module.cache.add(currentPath, true);
                module.debug(&#39;First time tab loaded calling tab init&#39;);
                settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
              }
              settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
            }

          }
          else if(tabPath.search(&#39;/&#39;) == -1 &amp;&amp; tabPath !== &#39;&#39;) {
            // look for in page anchor
            $anchor     = $(&#39;#&#39; + tabPath + &#39;, a[name=&quot;&#39; + tabPath + &#39;&quot;]&#39;);
            currentPath = $anchor.closest(&#39;[data-tab]&#39;).data(metadata.tab);
            $tab        = module.get.tabElement(currentPath);
            // if anchor exists use parent tab
            if($anchor &amp;&amp; $anchor.length &gt; 0 &amp;&amp; currentPath) {
              module.debug(&#39;Anchor link used, opening parent tab&#39;, $tab, $anchor);
              if( !$tab.hasClass(className.active) ) {
                setTimeout(function() {
                  module.scrollTo($anchor);
                }, 0);
              }
              module.activate.all(currentPath);
              if( !module.cache.read(currentPath) ) {
                module.cache.add(currentPath, true);
                module.debug(&#39;First time tab loaded calling tab init&#39;);
                settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
              }
              settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
              return false;
            }
          }
          else {
            module.error(error.missingTab, $module, $context, currentPath);
            return false;
          }
        });
      },

      scrollTo: function($element) {
        var
          scrollOffset = ($element &amp;&amp; $element.length &gt; 0)
            ? $element.offset().top
            : false
        ;
        if(scrollOffset !== false) {
          module.debug(&#39;Forcing scroll to an in-page link in a hidden tab&#39;, scrollOffset, $element);
          $(document).scrollTop(scrollOffset);
        }
      },

      update: {
        content: function(tabPath, html, evaluateScripts) {
          var
            $tab = module.get.tabElement(tabPath),
            tab  = $tab[0]
          ;
          evaluateScripts = (evaluateScripts !== undefined)
            ? evaluateScripts
            : settings.evaluateScripts
          ;
          if(evaluateScripts) {
            module.debug(&#39;Updating HTML and evaluating inline scripts&#39;, tabPath, html);
            $tab.html(html);
          }
          else {
            module.debug(&#39;Updating HTML&#39;, tabPath, html);
            tab.innerHTML = html;
          }
        }
      },

      fetch: {

        content: function(tabPath, fullTabPath) {
          var
            $tab        = module.get.tabElement(tabPath),
            apiSettings = {
              dataType         : &#39;html&#39;,
              encodeParameters : false,
              on               : &#39;now&#39;,
              cache            : settings.alwaysRefresh,
              headers          : {
                &#39;X-Remote&#39;: true
              },
              onSuccess : function(response) {
                module.cache.add(fullTabPath, response);
                module.update.content(tabPath, response);
                if(tabPath == activeTabPath) {
                  module.debug(&#39;Content loaded&#39;, tabPath);
                  module.activate.tab(tabPath);
                }
                else {
                  module.debug(&#39;Content loaded in background&#39;, tabPath);
                }
                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);
                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);
              },
              urlData: {
                tab: fullTabPath
              }
            },
            request         = $tab.api(&#39;get request&#39;) || false,
            existingRequest = ( request &amp;&amp; request.state() === &#39;pending&#39; ),
            requestSettings,
            cachedContent
          ;

          fullTabPath   = fullTabPath || tabPath;
          cachedContent = module.cache.read(fullTabPath);

          if(settings.cache &amp;&amp; cachedContent) {
            module.activate.tab(tabPath);
            module.debug(&#39;Adding cached content&#39;, fullTabPath);
            if(settings.evaluateScripts == &#39;once&#39;) {
              module.update.content(tabPath, cachedContent, false);
            }
            else {
              module.update.content(tabPath, cachedContent);
            }
            settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);
          }
          else if(existingRequest) {
            module.set.loading(tabPath);
            module.debug(&#39;Content is already loading&#39;, fullTabPath);
          }
          else if($.api !== undefined) {
            requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);
            module.debug(&#39;Retrieving remote content&#39;, fullTabPath, requestSettings);
            module.set.loading(tabPath);
            $tab.api(requestSettings);
          }
          else {
            module.error(error.api);
          }
        }
      },

      activate: {
        all: function(tabPath) {
          module.activate.tab(tabPath);
          module.activate.navigation(tabPath);
        },
        tab: function(tabPath) {
          var
            $tab     = module.get.tabElement(tabPath),
            isActive = $tab.hasClass(className.active)
          ;
          module.verbose(&#39;Showing tab content for&#39;, $tab);
          if(!isActive) {
            $tab
              .addClass(className.active)
              .siblings($tabs)
                .removeClass(className.active + &#39; &#39; + className.loading)
            ;
            if($tab.length &gt; 0) {
              settings.onVisible.call($tab[0], tabPath);
            }
          }
        },
        navigation: function(tabPath) {
          var
            $navigation = module.get.navElement(tabPath),
            isActive    = $navigation.hasClass(className.active)
          ;
          module.verbose(&#39;Activating tab navigation for&#39;, $navigation, tabPath);
          if(!isActive) {
            $navigation
              .addClass(className.active)
              .siblings($allModules)
                .removeClass(className.active + &#39; &#39; + className.loading)
            ;
          }
        }
      },

      deactivate: {
        all: function() {
          module.deactivate.navigation();
          module.deactivate.tabs();
        },
        navigation: function() {
          $allModules
            .removeClass(className.active)
          ;
        },
        tabs: function() {
          $tabs
            .removeClass(className.active + &#39; &#39; + className.loading)
          ;
        }
      },

      is: {
        tab: function(tabName) {
          return (tabName !== undefined)
            ? ( module.get.tabElement(tabName).length &gt; 0 )
            : false
          ;
        }
      },

      get: {
        initialPath: function() {
          return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);
        },
        path: function() {
          return $.address.value();
        },
        // adds default tabs to tab path
        defaultPathArray: function(tabPath) {
          return module.utilities.pathToArray( module.get.defaultPath(tabPath) );
        },
        defaultPath: function(tabPath) {
          var
            $defaultNav = $allModules.filter(&#39;[data-&#39; + metadata.tab + &#39;^=&quot;&#39; + tabPath + &#39;/&quot;]&#39;).eq(0),
            defaultTab  = $defaultNav.data(metadata.tab) || false
          ;
          if( defaultTab ) {
            module.debug(&#39;Found default tab&#39;, defaultTab);
            if(recursionDepth &lt; settings.maxDepth) {
              recursionDepth++;
              return module.get.defaultPath(defaultTab);
            }
            module.error(error.recursion);
          }
          else {
            module.debug(&#39;No default tabs found for&#39;, tabPath, $tabs);
          }
          recursionDepth = 0;
          return tabPath;
        },
        navElement: function(tabPath) {
          tabPath = tabPath || activeTabPath;
          return $allModules.filter(&#39;[data-&#39; + metadata.tab + &#39;=&quot;&#39; + tabPath + &#39;&quot;]&#39;);
        },
        tabElement: function(tabPath) {
          var
            $fullPathTab,
            $simplePathTab,
            tabPathArray,
            lastTab
          ;
          tabPath        = tabPath || activeTabPath;
          tabPathArray   = module.utilities.pathToArray(tabPath);
          lastTab        = module.utilities.last(tabPathArray);
          $fullPathTab   = $tabs.filter(&#39;[data-&#39; + metadata.tab + &#39;=&quot;&#39; + tabPath + &#39;&quot;]&#39;);
          $simplePathTab = $tabs.filter(&#39;[data-&#39; + metadata.tab + &#39;=&quot;&#39; + lastTab + &#39;&quot;]&#39;);
          return ($fullPathTab.length &gt; 0)
            ? $fullPathTab
            : $simplePathTab
          ;
        },
        tab: function() {
          return activeTabPath;
        }
      },

      utilities: {
        filterArray: function(keepArray, removeArray) {
          return $.grep(keepArray, function(keepValue) {
            return ( $.inArray(keepValue, removeArray) == -1);
          });
        },
        last: function(array) {
          return $.isArray(array)
            ? array[ array.length - 1]
            : false
          ;
        },
        pathToArray: function(pathName) {
          if(pathName === undefined) {
            pathName = activeTabPath;
          }
          return typeof pathName == &#39;string&#39;
            ? pathName.split(&#39;/&#39;)
            : [pathName]
          ;
        },
        arrayToPath: function(pathArray) {
          return $.isArray(pathArray)
            ? pathArray.join(&#39;/&#39;)
            : false
          ;
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };
    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;
return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>// shortcut for tabbed content with no defined navigation $.tab =
function() {</p>

<pre>$(window).tab.apply(this, arguments);</pre>

<p>};</p>

<p>$.fn.tab.settings = {</p>

<pre>name            : &#39;Tab&#39;,
namespace       : &#39;tab&#39;,

debug           : false,
verbose         : false,
performance     : true,

auto            : false,  // uses pjax style endpoints fetching content from same url with remote-content headers
history         : false,  // use browser history
historyType     : &#39;hash&#39;, // #/ or html5 state
path            : false,  // base path of url

context         : false,  // specify a context that tabs must appear inside
childrenOnly    : false,  // use only tabs that are children of context
maxDepth        : 25,     // max depth a tab can be nested

alwaysRefresh   : false,  // load tab content new every tab click
cache           : true,   // cache the content requests to pull locally
ignoreFirstLoad : false,  // don&#39;t load remote content on first load

apiSettings     : false,  // settings for api call
evaluateScripts : &#39;once&#39;, // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content

onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded
onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load
onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible
onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content

templates    : {
  determineTitle: function(tabArray) {} // returns page title for path
},

error: {
  api        : &#39;You attempted to load content without API module&#39;,
  method     : &#39;The method you called is not defined&#39;,
  missingTab : &#39;Activated tab cannot be found. Tabs are case-sensitive.&#39;,
  noContent  : &#39;The tab you specified is missing a content url.&#39;,
  path       : &#39;History enabled, but no path was specified&#39;,
  recursion  : &#39;Max recursive depth reached&#39;,
  legacyInit : &#39;onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.&#39;,
  legacyLoad : &#39;onTabLoad has been renamed to onLoad in 2.0. Please adjust your code&#39;,
  state      : &#39;History requires Asual\&#39;s Address library &lt;https://github.com/asual/jquery-address&gt;&#39;
},

metadata : {
  tab    : &#39;tab&#39;,
  loaded : &#39;loaded&#39;,
  promise: &#39;promise&#39;
},

className   : {
  loading : &#39;loading&#39;,
  active  : &#39;active&#39;
},

selector    : {
  tabs : &#39;.ui.tab&#39;,
  ui   : &#39;.ui&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Transition
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.transition = function() {</p>

<pre>var
  $allModules     = $(this),
  moduleSelector  = $allModules.selector || &#39;&#39;,

  time            = new Date().getTime(),
  performance     = [],

  moduleArguments = arguments,
  query           = moduleArguments[0],
  queryArguments  = [].slice.call(arguments, 1),
  methodInvoked   = (typeof query === &#39;string&#39;),

  requestAnimationFrame = window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || function(callback) { setTimeout(callback, 0); },

  returnedValue
;
$allModules
  .each(function(index) {
    var
      $module  = $(this),
      element  = this,

      // set at run time
      settings,
      instance,

      error,
      className,
      metadata,
      animationEnd,
      animationName,

      namespace,
      moduleNamespace,
      eventNamespace,
      module
    ;

    module = {

      initialize: function() {

        // get full settings
        settings        = module.get.settings.apply(element, moduleArguments);

        // shorthand
        className       = settings.className;
        error           = settings.error;
        metadata        = settings.metadata;

        // define namespace
        eventNamespace  = &#39;.&#39; + settings.namespace;
        moduleNamespace = &#39;module-&#39; + settings.namespace;
        instance        = $module.data(moduleNamespace) || module;

        // get vendor specific events
        animationEnd    = module.get.animationEndEvent();

        if(methodInvoked) {
          methodInvoked = module.invoke(query);
        }

        // method not invoked, lets run an animation
        if(methodInvoked === false) {
          module.verbose(&#39;Converted arguments into settings object&#39;, settings);
          if(settings.interval) {
            module.delay(settings.animate);
          }
          else  {
            module.animate();
          }
          module.instantiate();
        }
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module for&#39;, element);
        $module
          .removeData(moduleNamespace)
        ;
      },

      refresh: function() {
        module.verbose(&#39;Refreshing display type on next animation&#39;);
        delete module.displayType;
      },

      forceRepaint: function() {
        module.verbose(&#39;Forcing element repaint&#39;);
        var
          $parentElement = $module.parent(),
          $nextElement = $module.next()
        ;
        if($nextElement.length === 0) {
          $module.detach().appendTo($parentElement);
        }
        else {
          $module.detach().insertBefore($nextElement);
        }
      },

      repaint: function() {
        module.verbose(&#39;Repainting element&#39;);
        var
          fakeAssignment = element.offsetWidth
        ;
      },

      delay: function(interval) {
        var
          direction = module.get.animationDirection(),
          shouldReverse,
          delay
        ;
        if(!direction) {
          direction = module.can.transition()
            ? module.get.direction()
            : &#39;static&#39;
          ;
        }
        interval = (interval !== undefined)
          ? interval
          : settings.interval
        ;
        shouldReverse = (settings.reverse == &#39;auto&#39; &amp;&amp; direction == className.outward);
        delay = (shouldReverse || settings.reverse == true)
          ? ($allModules.length - index) * settings.interval
          : index * settings.interval
        ;
        module.debug(&#39;Delaying animation by&#39;, delay);
        setTimeout(module.animate, delay);
      },

      animate: function(overrideSettings) {
        settings = overrideSettings || settings;
        if(!module.is.supported()) {
          module.error(error.support);
          return false;
        }
        module.debug(&#39;Preparing animation&#39;, settings.animation);
        if(module.is.animating()) {
          if(settings.queue) {
            if(!settings.allowRepeats &amp;&amp; module.has.direction() &amp;&amp; module.is.occurring() &amp;&amp; module.queuing !== true) {
              module.debug(&#39;Animation is currently occurring, preventing queueing same animation&#39;, settings.animation);
            }
            else {
              module.queue(settings.animation);
            }
            return false;
          }
          else if(!settings.allowRepeats &amp;&amp; module.is.occurring()) {
            module.debug(&#39;Animation is already occurring, will not execute repeated animation&#39;, settings.animation);
            return false;
          }
          else {
            module.debug(&#39;New animation started, completing previous early&#39;, settings.animation);
            instance.complete();
          }
        }
        if( module.can.animate() ) {
          module.set.animating(settings.animation);
        }
        else {
          module.error(error.noAnimation, settings.animation, element);
        }
      },

      reset: function() {
        module.debug(&#39;Resetting animation to beginning conditions&#39;);
        module.remove.animationCallbacks();
        module.restore.conditions();
        module.remove.animating();
      },

      queue: function(animation) {
        module.debug(&#39;Queueing animation of&#39;, animation);
        module.queuing = true;
        $module
          .one(animationEnd + &#39;.queue&#39; + eventNamespace, function() {
            module.queuing = false;
            module.repaint();
            module.animate.apply(this, settings);
          })
        ;
      },

      complete: function (event) {
        module.debug(&#39;Animation complete&#39;, settings.animation);
        module.remove.completeCallback();
        module.remove.failSafe();
        if(!module.is.looping()) {
          if( module.is.outward() ) {
            module.verbose(&#39;Animation is outward, hiding element&#39;);
            module.restore.conditions();
            module.hide();
          }
          else if( module.is.inward() ) {
            module.verbose(&#39;Animation is outward, showing element&#39;);
            module.restore.conditions();
            module.show();
          }
          else {
            module.verbose(&#39;Static animation completed&#39;);
            module.restore.conditions();
            settings.onComplete.call(element);
          }
        }
      },

      force: {
        visible: function() {
          var
            style          = $module.attr(&#39;style&#39;),
            userStyle      = module.get.userStyle(),
            displayType    = module.get.displayType(),
            overrideStyle  = userStyle + &#39;display: &#39; + displayType + &#39; !important;&#39;,
            currentDisplay = $module.css(&#39;display&#39;),
            emptyStyle     = (style === undefined || style === &#39;&#39;)
          ;
          if(currentDisplay !== displayType) {
            module.verbose(&#39;Overriding default display to show element&#39;, displayType);
            $module
              .attr(&#39;style&#39;, overrideStyle)
            ;
          }
          else if(emptyStyle) {
            $module.removeAttr(&#39;style&#39;);
          }
        },
        hidden: function() {
          var
            style          = $module.attr(&#39;style&#39;),
            currentDisplay = $module.css(&#39;display&#39;),
            emptyStyle     = (style === undefined || style === &#39;&#39;)
          ;
          if(currentDisplay !== &#39;none&#39; &amp;&amp; !module.is.hidden()) {
            module.verbose(&#39;Overriding default display to hide element&#39;);
            $module
              .css(&#39;display&#39;, &#39;none&#39;)
            ;
          }
          else if(emptyStyle) {
            $module
              .removeAttr(&#39;style&#39;)
            ;
          }
        }
      },

      has: {
        direction: function(animation) {
          var
            hasDirection = false
          ;
          animation = animation || settings.animation;
          if(typeof animation === &#39;string&#39;) {
            animation = animation.split(&#39; &#39;);
            $.each(animation, function(index, word){
              if(word === className.inward || word === className.outward) {
                hasDirection = true;
              }
            });
          }
          return hasDirection;
        },
        inlineDisplay: function() {
          var
            style = $module.attr(&#39;style&#39;) || &#39;&#39;
          ;
          return $.isArray(style.match(/display.*?;/, &#39;&#39;));
        }
      },

      set: {
        animating: function(animation) {
          var
            animationClass,
            direction
          ;
          // remove previous callbacks
          module.remove.completeCallback();

          // determine exact animation
          animation      = animation || settings.animation;
          animationClass = module.get.animationClass(animation);

          // save animation class in cache to restore class names
          module.save.animation(animationClass);

          // override display if necessary so animation appears visibly
          module.force.visible();

          module.remove.hidden();
          module.remove.direction();

          module.start.animation(animationClass);

        },
        duration: function(animationName, duration) {
          duration = duration || settings.duration;
          duration = (typeof duration == &#39;number&#39;)
            ? duration + &#39;ms&#39;
            : duration
          ;
          if(duration || duration === 0) {
            module.verbose(&#39;Setting animation duration&#39;, duration);
            $module
              .css({
                &#39;animation-duration&#39;:  duration
              })
            ;
          }
        },
        direction: function(direction) {
          direction = direction || module.get.direction();
          if(direction == className.inward) {
            module.set.inward();
          }
          else {
            module.set.outward();
          }
        },
        looping: function() {
          module.debug(&#39;Transition set to loop&#39;);
          $module
            .addClass(className.looping)
          ;
        },
        hidden: function() {
          $module
            .addClass(className.transition)
            .addClass(className.hidden)
          ;
        },
        inward: function() {
          module.debug(&#39;Setting direction to inward&#39;);
          $module
            .removeClass(className.outward)
            .addClass(className.inward)
          ;
        },
        outward: function() {
          module.debug(&#39;Setting direction to outward&#39;);
          $module
            .removeClass(className.inward)
            .addClass(className.outward)
          ;
        },
        visible: function() {
          $module
            .addClass(className.transition)
            .addClass(className.visible)
          ;
        }
      },

      start: {
        animation: function(animationClass) {
          animationClass = animationClass || module.get.animationClass();
          module.debug(&#39;Starting tween&#39;, animationClass);
          $module
            .addClass(animationClass)
            .one(animationEnd + &#39;.complete&#39; + eventNamespace, module.complete)
          ;
          if(settings.useFailSafe) {
            module.add.failSafe();
          }
          module.set.duration(settings.duration);
          settings.onStart.call(element);
        }
      },

      save: {
        animation: function(animation) {
          if(!module.cache) {
            module.cache = {};
          }
          module.cache.animation = animation;
        },
        displayType: function(displayType) {
          if(displayType !== &#39;none&#39;) {
            $module.data(metadata.displayType, displayType);
          }
        },
        transitionExists: function(animation, exists) {
          $.fn.transition.exists[animation] = exists;
          module.verbose(&#39;Saving existence of transition&#39;, animation, exists);
        }
      },

      restore: {
        conditions: function() {
          var
            animation = module.get.currentAnimation()
          ;
          if(animation) {
            $module
              .removeClass(animation)
            ;
            module.verbose(&#39;Removing animation class&#39;, module.cache);
          }
          module.remove.duration();
        }
      },

      add: {
        failSafe: function() {
          var
            duration = module.get.duration()
          ;
          module.timer = setTimeout(function() {
            $module.triggerHandler(animationEnd);
          }, duration + settings.failSafeDelay);
          module.verbose(&#39;Adding fail safe timer&#39;, module.timer);
        }
      },

      remove: {
        animating: function() {
          $module.removeClass(className.animating);
        },
        animationCallbacks: function() {
          module.remove.queueCallback();
          module.remove.completeCallback();
        },
        queueCallback: function() {
          $module.off(&#39;.queue&#39; + eventNamespace);
        },
        completeCallback: function() {
          $module.off(&#39;.complete&#39; + eventNamespace);
        },
        display: function() {
          $module.css(&#39;display&#39;, &#39;&#39;);
        },
        direction: function() {
          $module
            .removeClass(className.inward)
            .removeClass(className.outward)
          ;
        },
        duration: function() {
          $module
            .css(&#39;animation-duration&#39;, &#39;&#39;)
          ;
        },
        failSafe: function() {
          module.verbose(&#39;Removing fail safe timer&#39;, module.timer);
          if(module.timer) {
            clearTimeout(module.timer);
          }
        },
        hidden: function() {
          $module.removeClass(className.hidden);
        },
        visible: function() {
          $module.removeClass(className.visible);
        },
        looping: function() {
          module.debug(&#39;Transitions are no longer looping&#39;);
          if( module.is.looping() ) {
            module.reset();
            $module
              .removeClass(className.looping)
            ;
          }
        },
        transition: function() {
          $module
            .removeClass(className.visible)
            .removeClass(className.hidden)
          ;
        }
      },
      get: {
        settings: function(animation, duration, onComplete) {
          // single settings object
          if(typeof animation == &#39;object&#39;) {
            return $.extend(true, {}, $.fn.transition.settings, animation);
          }
          // all arguments provided
          else if(typeof onComplete == &#39;function&#39;) {
            return $.extend({}, $.fn.transition.settings, {
              animation  : animation,
              onComplete : onComplete,
              duration   : duration
            });
          }
          // only duration provided
          else if(typeof duration == &#39;string&#39; || typeof duration == &#39;number&#39;) {
            return $.extend({}, $.fn.transition.settings, {
              animation : animation,
              duration  : duration
            });
          }
          // duration is actually settings object
          else if(typeof duration == &#39;object&#39;) {
            return $.extend({}, $.fn.transition.settings, duration, {
              animation : animation
            });
          }
          // duration is actually callback
          else if(typeof duration == &#39;function&#39;) {
            return $.extend({}, $.fn.transition.settings, {
              animation  : animation,
              onComplete : duration
            });
          }
          // only animation provided
          else {
            return $.extend({}, $.fn.transition.settings, {
              animation : animation
            });
          }
          return $.fn.transition.settings;
        },
        animationClass: function(animation) {
          var
            animationClass = animation || settings.animation,
            directionClass = (module.can.transition() &amp;&amp; !module.has.direction())
              ? module.get.direction() + &#39; &#39;
              : &#39;&#39;
          ;
          return className.animating + &#39; &#39;
            + className.transition + &#39; &#39;
            + directionClass
            + animationClass
          ;
        },
        currentAnimation: function() {
          return (module.cache &amp;&amp; module.cache.animation !== undefined)
            ? module.cache.animation
            : false
          ;
        },
        currentDirection: function() {
          return module.is.inward()
            ? className.inward
            : className.outward
          ;
        },
        direction: function() {
          return module.is.hidden() || !module.is.visible()
            ? className.inward
            : className.outward
          ;
        },
        animationDirection: function(animation) {
          var
            direction
          ;
          animation = animation || settings.animation;
          if(typeof animation === &#39;string&#39;) {
            animation = animation.split(&#39; &#39;);
            // search animation name for out/in class
            $.each(animation, function(index, word){
              if(word === className.inward) {
                direction = className.inward;
              }
              else if(word === className.outward) {
                direction = className.outward;
              }
            });
          }
          // return found direction
          if(direction) {
            return direction;
          }
          return false;
        },
        duration: function(duration) {
          duration = duration || settings.duration;
          if(duration === false) {
            duration = $module.css(&#39;animation-duration&#39;) || 0;
          }
          return (typeof duration === &#39;string&#39;)
            ? (duration.indexOf(&#39;ms&#39;) &gt; -1)
              ? parseFloat(duration)
              : parseFloat(duration) * 1000
            : duration
          ;
        },
        displayType: function() {
          if(settings.displayType) {
            return settings.displayType;
          }
          if($module.data(metadata.displayType) === undefined) {
            // create fake element to determine display state
            module.can.transition(true);
          }
          return $module.data(metadata.displayType);
        },
        userStyle: function(style) {
          style = style || $module.attr(&#39;style&#39;) || &#39;&#39;;
          return style.replace(/display.*?;/, &#39;&#39;);
        },
        transitionExists: function(animation) {
          return $.fn.transition.exists[animation];
        },
        animationStartEvent: function() {
          var
            element     = document.createElement(&#39;div&#39;),
            animations  = {
              &#39;animation&#39;       :&#39;animationstart&#39;,
              &#39;OAnimation&#39;      :&#39;oAnimationStart&#39;,
              &#39;MozAnimation&#39;    :&#39;mozAnimationStart&#39;,
              &#39;WebkitAnimation&#39; :&#39;webkitAnimationStart&#39;
            },
            animation
          ;
          for(animation in animations){
            if( element.style[animation] !== undefined ){
              return animations[animation];
            }
          }
          return false;
        },
        animationEndEvent: function() {
          var
            element     = document.createElement(&#39;div&#39;),
            animations  = {
              &#39;animation&#39;       :&#39;animationend&#39;,
              &#39;OAnimation&#39;      :&#39;oAnimationEnd&#39;,
              &#39;MozAnimation&#39;    :&#39;mozAnimationEnd&#39;,
              &#39;WebkitAnimation&#39; :&#39;webkitAnimationEnd&#39;
            },
            animation
          ;
          for(animation in animations){
            if( element.style[animation] !== undefined ){
              return animations[animation];
            }
          }
          return false;
        }

      },

      can: {
        transition: function(forced) {
          var
            animation         = settings.animation,
            transitionExists  = module.get.transitionExists(animation),
            elementClass,
            tagName,
            $clone,
            currentAnimation,
            inAnimation,
            directionExists,
            displayType
          ;
          if( transitionExists === undefined || forced) {
            module.verbose(&#39;Determining whether animation exists&#39;);
            elementClass = $module.attr(&#39;class&#39;);
            tagName      = $module.prop(&#39;tagName&#39;);

            $clone = $(&#39;&lt;&#39; + tagName + &#39; /&gt;&#39;).addClass( elementClass ).insertAfter($module);
            currentAnimation = $clone
              .addClass(animation)
              .removeClass(className.inward)
              .removeClass(className.outward)
              .addClass(className.animating)
              .addClass(className.transition)
              .css(&#39;animationName&#39;)
            ;
            inAnimation = $clone
              .addClass(className.inward)
              .css(&#39;animationName&#39;)
            ;
            displayType = $clone
              .attr(&#39;class&#39;, elementClass)
              .removeAttr(&#39;style&#39;)
              .removeClass(className.hidden)
              .removeClass(className.visible)
              .show()
              .css(&#39;display&#39;)
            ;
            module.verbose(&#39;Determining final display state&#39;, displayType);
            module.save.displayType(displayType);

            $clone.remove();
            if(currentAnimation != inAnimation) {
              module.debug(&#39;Direction exists for animation&#39;, animation);
              directionExists = true;
            }
            else if(currentAnimation == &#39;none&#39; || !currentAnimation) {
              module.debug(&#39;No animation defined in css&#39;, animation);
              return;
            }
            else {
              module.debug(&#39;Static animation found&#39;, animation, displayType);
              directionExists = false;
            }
            module.save.transitionExists(animation, directionExists);
          }
          return (transitionExists !== undefined)
            ? transitionExists
            : directionExists
          ;
        },
        animate: function() {
          // can transition does not return a value if animation does not exist
          return (module.can.transition() !== undefined);
        }
      },

      is: {
        animating: function() {
          return $module.hasClass(className.animating);
        },
        inward: function() {
          return $module.hasClass(className.inward);
        },
        outward: function() {
          return $module.hasClass(className.outward);
        },
        looping: function() {
          return $module.hasClass(className.looping);
        },
        occurring: function(animation) {
          animation = animation || settings.animation;
          animation = &#39;.&#39; + animation.replace(&#39; &#39;, &#39;.&#39;);
          return ( $module.filter(animation).length &gt; 0 );
        },
        visible: function() {
          return $module.is(&#39;:visible&#39;);
        },
        hidden: function() {
          return $module.css(&#39;visibility&#39;) === &#39;hidden&#39;;
        },
        supported: function() {
          return(animationEnd !== false);
        }
      },

      hide: function() {
        module.verbose(&#39;Hiding element&#39;);
        if( module.is.animating() ) {
          module.reset();
        }
        element.blur(); // IE will trigger focus change if element is not blurred before hiding
        module.remove.display();
        module.remove.visible();
        module.set.hidden();
        module.force.hidden();
        settings.onHide.call(element);
        settings.onComplete.call(element);
        // module.repaint();
      },

      show: function(display) {
        module.verbose(&#39;Showing element&#39;, display);
        module.remove.hidden();
        module.set.visible();
        module.force.visible();
        settings.onShow.call(element);
        settings.onComplete.call(element);
        // module.repaint();
      },

      toggle: function() {
        if( module.is.visible() ) {
          module.hide();
        }
        else {
          module.show();
        }
      },

      stop: function() {
        module.debug(&#39;Stopping current animation&#39;);
        $module.triggerHandler(animationEnd);
      },

      stopAll: function() {
        module.debug(&#39;Stopping all animation&#39;);
        module.remove.queueCallback();
        $module.triggerHandler(animationEnd);
      },

      clear: {
        queue: function() {
          module.debug(&#39;Clearing animation queue&#39;);
          module.remove.queueCallback();
        }
      },

      enable: function() {
        module.verbose(&#39;Starting animation&#39;);
        $module.removeClass(className.disabled);
      },

      disable: function() {
        module.debug(&#39;Stopping animation&#39;);
        $module.addClass(className.disabled);
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if($allModules.length &gt; 1) {
            title += &#39; &#39; + &#39;(&#39; + $allModules.length + &#39;)&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      // modified for transition to return invoke success
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }

        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return (found !== undefined)
          ? found
          : false
        ;
      }
    };
    module.initialize();
  })
;
return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>// Records if CSS transition is available $.fn.transition.exists = {};</p>

<p>$.fn.transition.settings = {</p>

<pre>// module info
name          : &#39;Transition&#39;,

// debug content outputted to console
debug         : false,

// verbose debug output
verbose       : false,

// performance data output
performance   : true,

// event namespace
namespace     : &#39;transition&#39;,

// delay between animations in group
interval      : 0,

// whether group animations should be reversed
reverse       : &#39;auto&#39;,

// animation callback event
onStart       : function() {},
onComplete    : function() {},
onShow        : function() {},
onHide        : function() {},

// whether timeout should be used to ensure callback fires in cases animationend does not
useFailSafe   : true,

// delay in ms for fail safe
failSafeDelay : 100,

// whether EXACT animation can occur twice in a row
allowRepeats  : false,

// Override final display type on visible
displayType   : false,

// animation duration
animation     : &#39;fade&#39;,
duration      : false,

// new animations will occur after previous ones
queue         : true,

metadata : {
  displayType: &#39;display&#39;
},

className   : {
  animating  : &#39;animating&#39;,
  disabled   : &#39;disabled&#39;,
  hidden     : &#39;hidden&#39;,
  inward     : &#39;in&#39;,
  loading    : &#39;loading&#39;,
  looping    : &#39;looping&#39;,
  outward    : &#39;out&#39;,
  transition : &#39;transition&#39;,
  visible    : &#39;visible&#39;
},

// possible errors
error: {
  noAnimation : &#39;There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.&#39;,
  repeated    : &#39;That animation is already occurring, cancelling repeated animation&#39;,
  method      : &#39;The method you called is not defined&#39;,
  support     : &#39;This browser does not support CSS animations&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - API
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.api = $.fn.api = function(parameters) {</p>

<pre>var
  // use window context if none specified
  $allModules     = $.isFunction(this)
      ? $(window)
      : $(this),
  moduleSelector = $allModules.selector || &#39;&#39;,
  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),

  returnedValue
;

$allModules
  .each(function() {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.api.settings, parameters)
        : $.extend({}, $.fn.api.settings),

      // internal aliases
      namespace       = settings.namespace,
      metadata        = settings.metadata,
      selector        = settings.selector,
      error           = settings.error,
      className       = settings.className,

      // define namespaces for modules
      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      // element that creates request
      $module         = $(this),
      $form           = $module.closest(selector.form),

      // context used for state
      $context        = (settings.stateContext)
        ? $(settings.stateContext)
        : $module,

      // request details
      ajaxSettings,
      requestSettings,
      url,
      data,
      requestStartTime,

      // standard module
      element         = this,
      context         = $context[0],
      instance        = $module.data(moduleNamespace),
      module
    ;

    module = {

      initialize: function() {
        if(!methodInvoked) {
          module.bind.events();
        }
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, instance)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module for&#39;, element);
        $module
          .removeData(moduleNamespace)
          .off(eventNamespace)
        ;
      },

      bind: {
        events: function() {
          var
            triggerEvent = module.get.event()
          ;
          if( triggerEvent ) {
            module.verbose(&#39;Attaching API events to element&#39;, triggerEvent);
            $module
              .on(triggerEvent + eventNamespace, module.event.trigger)
            ;
          }
          else if(settings.on == &#39;now&#39;) {
            module.debug(&#39;Querying API endpoint immediately&#39;);
            module.query();
          }
        }
      },

      decode: {
        json: function(response) {
          if(response !== undefined &amp;&amp; typeof response == &#39;string&#39;) {
            try {
             response = JSON.parse(response);
            }
            catch(e) {
              // isnt json string
            }
          }
          return response;
        }
      },

      read: {
        cachedResponse: function(url) {
          var
            response
          ;
          if(window.Storage === undefined) {
            module.error(error.noStorage);
            return;
          }
          response = sessionStorage.getItem(url);
          module.debug(&#39;Using cached response&#39;, url, response);
          response = module.decode.json(response);
          return false;
        }
      },
      write: {
        cachedResponse: function(url, response) {
          if(response &amp;&amp; response === &#39;&#39;) {
            module.debug(&#39;Response empty, not caching&#39;, response);
            return;
          }
          if(window.Storage === undefined) {
            module.error(error.noStorage);
            return;
          }
          if( $.isPlainObject(response) ) {
            response = JSON.stringify(response);
          }
          sessionStorage.setItem(url, response);
          module.verbose(&#39;Storing cached response for url&#39;, url, response);
        }
      },

      query: function() {

        if(module.is.disabled()) {
          module.debug(&#39;Element is disabled API request aborted&#39;);
          return;
        }

        if(module.is.loading()) {
          if(settings.interruptRequests) {
            module.debug(&#39;Interrupting previous request&#39;);
            module.abort();
          }
          else {
            module.debug(&#39;Cancelling request, previous request is still pending&#39;);
            return;
          }
        }

        // pass element metadata to url (value, text)
        if(settings.defaultData) {
          $.extend(true, settings.urlData, module.get.defaultData());
        }

        // Add form content
        if(settings.serializeForm) {
          settings.data = module.add.formData(settings.data);
        }

        // call beforesend and get any settings changes
        requestSettings = module.get.settings();

        // check if before send cancelled request
        if(requestSettings === false) {
          module.cancelled = true;
          module.error(error.beforeSend);
          return;
        }
        else {
          module.cancelled = false;
        }

        // get url
        url = module.get.templatedURL();

        if(!url &amp;&amp; !module.is.mocked()) {
          module.error(error.missingURL);
          return;
        }

        // replace variables
        url = module.add.urlData( url );

        // missing url parameters
        if( !url &amp;&amp; !module.is.mocked()) {
          return;
        }

        // look for jQuery ajax parameters in settings
        ajaxSettings = $.extend(true, {}, settings, {
          type       : settings.method || settings.type,
          data       : data,
          url        : settings.base + url,
          beforeSend : settings.beforeXHR,
          success    : function() {},
          failure    : function() {},
          complete   : function() {}
        });

        module.debug(&#39;Querying URL&#39;, ajaxSettings.url);
        module.verbose(&#39;Using AJAX settings&#39;, ajaxSettings);

        if(settings.cache === &#39;local&#39; &amp;&amp; module.read.cachedResponse(url)) {
          module.debug(&#39;Response returned from local cache&#39;);
          module.request = module.create.request();
          module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);
          return;
        }

        if( !settings.throttle ) {
          module.debug(&#39;Sending request&#39;, data, ajaxSettings.method);
          module.send.request();
        }
        else {
          if(!settings.throttleFirstRequest &amp;&amp; !module.timer) {
            module.debug(&#39;Sending request&#39;, data, ajaxSettings.method);
            module.send.request();
            module.timer = setTimeout(function(){}, settings.throttle);
          }
          else {
            module.debug(&#39;Throttling request&#39;, settings.throttle);
            clearTimeout(module.timer);
            module.timer = setTimeout(function() {
              if(module.timer) {
                delete module.timer;
              }
              module.debug(&#39;Sending throttled request&#39;, data, ajaxSettings.method);
              module.send.request();
            }, settings.throttle);
          }
        }

      },

      should: {
        removeError: function() {
          return ( settings.hideError === true || (settings.hideError === &#39;auto&#39; &amp;&amp; !module.is.form()) );
        }
      },

      is: {
        disabled: function() {
          return ($module.filter(selector.disabled).length &gt; 0);
        },
        form: function() {
          return $module.is(&#39;form&#39;) || $context.is(&#39;form&#39;);
        },
        mocked: function() {
          return (settings.mockResponse || settings.mockResponseAsync);
        },
        input: function() {
          return $module.is(&#39;input&#39;);
        },
        loading: function() {
          return (module.request &amp;&amp; module.request.state() == &#39;pending&#39;);
        },
        abortedRequest: function(xhr) {
          if(xhr &amp;&amp; xhr.readyState !== undefined &amp;&amp; xhr.readyState === 0) {
            module.verbose(&#39;XHR request determined to be aborted&#39;);
            return true;
          }
          else {
            module.verbose(&#39;XHR request was not aborted&#39;);
            return false;
          }
        },
        validResponse: function(response) {
          if( (settings.dataType !== &#39;json&#39; &amp;&amp; settings.dataType !== &#39;jsonp&#39;) || !$.isFunction(settings.successTest) ) {
            module.verbose(&#39;Response is not JSON, skipping validation&#39;, settings.successTest, response);
            return true;
          }
          module.debug(&#39;Checking JSON returned success&#39;, settings.successTest, response);
          if( settings.successTest(response) ) {
            module.debug(&#39;Response passed success test&#39;, response);
            return true;
          }
          else {
            module.debug(&#39;Response failed success test&#39;, response);
            return false;
          }
        }
      },

      was: {
        cancelled: function() {
          return (module.cancelled || false);
        },
        succesful: function() {
          return (module.request &amp;&amp; module.request.state() == &#39;resolved&#39;);
        },
        failure: function() {
          return (module.request &amp;&amp; module.request.state() == &#39;rejected&#39;);
        },
        complete: function() {
          return (module.request &amp;&amp; (module.request.state() == &#39;resolved&#39; || module.request.state() == &#39;rejected&#39;) );
        }
      },

      add: {
        urlData: function(url, urlData) {
          var
            requiredVariables,
            optionalVariables
          ;
          if(url) {
            requiredVariables = url.match(settings.regExp.required);
            optionalVariables = url.match(settings.regExp.optional);
            urlData           = urlData || settings.urlData;
            if(requiredVariables) {
              module.debug(&#39;Looking for required URL variables&#39;, requiredVariables);
              $.each(requiredVariables, function(index, templatedString) {
                var
                  // allow legacy {$var} style
                  variable = (templatedString.indexOf(&#39;$&#39;) !== -1)
                    ? templatedString.substr(2, templatedString.length - 3)
                    : templatedString.substr(1, templatedString.length - 2),
                  value   = ($.isPlainObject(urlData) &amp;&amp; urlData[variable] !== undefined)
                    ? urlData[variable]
                    : ($module.data(variable) !== undefined)
                      ? $module.data(variable)
                      : ($context.data(variable) !== undefined)
                        ? $context.data(variable)
                        : urlData[variable]
                ;
                // remove value
                if(value === undefined) {
                  module.error(error.requiredParameter, variable, url);
                  url = false;
                  return false;
                }
                else {
                  module.verbose(&#39;Found required variable&#39;, variable, value);
                  value = (settings.encodeParameters)
                    ? module.get.urlEncodedValue(value)
                    : value
                  ;
                  url = url.replace(templatedString, value);
                }
              });
            }
            if(optionalVariables) {
              module.debug(&#39;Looking for optional URL variables&#39;, requiredVariables);
              $.each(optionalVariables, function(index, templatedString) {
                var
                  // allow legacy {/$var} style
                  variable = (templatedString.indexOf(&#39;$&#39;) !== -1)
                    ? templatedString.substr(3, templatedString.length - 4)
                    : templatedString.substr(2, templatedString.length - 3),
                  value   = ($.isPlainObject(urlData) &amp;&amp; urlData[variable] !== undefined)
                    ? urlData[variable]
                    : ($module.data(variable) !== undefined)
                      ? $module.data(variable)
                      : ($context.data(variable) !== undefined)
                        ? $context.data(variable)
                        : urlData[variable]
                ;
                // optional replacement
                if(value !== undefined) {
                  module.verbose(&#39;Optional variable Found&#39;, variable, value);
                  url = url.replace(templatedString, value);
                }
                else {
                  module.verbose(&#39;Optional variable not found&#39;, variable);
                  // remove preceding slash if set
                  if(url.indexOf(&#39;/&#39; + templatedString) !== -1) {
                    url = url.replace(&#39;/&#39; + templatedString, &#39;&#39;);
                  }
                  else {
                    url = url.replace(templatedString, &#39;&#39;);
                  }
                }
              });
            }
          }
          return url;
        },
        formData: function(data) {
          var
            canSerialize = ($.fn.serializeObject !== undefined),
            formData     = (canSerialize)
              ? $form.serializeObject()
              : $form.serialize(),
            hasOtherData
          ;
          data         = data || settings.data;
          hasOtherData = $.isPlainObject(data);

          if(hasOtherData) {
            if(canSerialize) {
              module.debug(&#39;Extending existing data with form data&#39;, data, formData);
              data = $.extend(true, {}, data, formData);
            }
            else {
              module.error(error.missingSerialize);
              module.debug(&#39;Cant extend data. Replacing data with form data&#39;, data, formData);
              data = formData;
            }
          }
          else {
            module.debug(&#39;Adding form data&#39;, formData);
            data = formData;
          }
          return data;
        }
      },

      send: {
        request: function() {
          module.set.loading();
          module.request = module.create.request();
          if( module.is.mocked() ) {
            module.mockedXHR = module.create.mockedXHR();
          }
          else {
            module.xhr = module.create.xhr();
          }
          settings.onRequest.call(context, module.request, module.xhr);
        }
      },

      event: {
        trigger: function(event) {
          module.query();
          if(event.type == &#39;submit&#39; || event.type == &#39;click&#39;) {
            event.preventDefault();
          }
        },
        xhr: {
          always: function() {
            // nothing special
          },
          done: function(response, textStatus, xhr) {
            var
              context            = this,
              elapsedTime        = (new Date().getTime() - requestStartTime),
              timeLeft           = (settings.loadingDuration - elapsedTime),
              translatedResponse = ( $.isFunction(settings.onResponse) )
                ? settings.onResponse.call(context, $.extend(true, {}, response))
                : false
            ;
            timeLeft = (timeLeft &gt; 0)
              ? timeLeft
              : 0
            ;
            if(translatedResponse) {
              module.debug(&#39;Modified API response in onResponse callback&#39;, settings.onResponse, translatedResponse, response);
              response = translatedResponse;
            }
            if(timeLeft &gt; 0) {
              module.debug(&#39;Response completed early delaying state change by&#39;, timeLeft);
            }
            setTimeout(function() {
              if( module.is.validResponse(response) ) {
                module.request.resolveWith(context, [response, xhr]);
              }
              else {
                module.request.rejectWith(context, [xhr, &#39;invalid&#39;]);
              }
            }, timeLeft);
          },
          fail: function(xhr, status, httpMessage) {
            var
              context     = this,
              elapsedTime = (new Date().getTime() - requestStartTime),
              timeLeft    = (settings.loadingDuration - elapsedTime)
            ;
            timeLeft = (timeLeft &gt; 0)
              ? timeLeft
              : 0
            ;
            if(timeLeft &gt; 0) {
              module.debug(&#39;Response completed early delaying state change by&#39;, timeLeft);
            }
            setTimeout(function() {
              if( module.is.abortedRequest(xhr) ) {
                module.request.rejectWith(context, [xhr, &#39;aborted&#39;, httpMessage]);
              }
              else {
                module.request.rejectWith(context, [xhr, &#39;error&#39;, status, httpMessage]);
              }
            }, timeLeft);
          }
        },
        request: {
          done: function(response, xhr) {
            module.debug(&#39;Successful API Response&#39;, response);
            if(settings.cache === &#39;local&#39; &amp;&amp; url) {
              module.write.cachedResponse(url, response);
              module.debug(&#39;Saving server response locally&#39;, module.cache);
            }
            settings.onSuccess.call(context, response, $module, xhr);
          },
          complete: function(firstParameter, secondParameter) {
            var
              xhr,
              response
            ;
            // have to guess callback parameters based on request success
            if( module.was.succesful() ) {
              response = firstParameter;
              xhr      = secondParameter;
            }
            else {
              xhr      = firstParameter;
              response = module.get.responseFromXHR(xhr);
            }
            module.remove.loading();
            settings.onComplete.call(context, response, $module, xhr);
          },
          fail: function(xhr, status, httpMessage) {
            var
              // pull response from xhr if available
              response     = module.get.responseFromXHR(xhr),
              errorMessage = module.get.errorFromRequest(response, status, httpMessage)
            ;
            if(status == &#39;aborted&#39;) {
              module.debug(&#39;XHR Aborted (Most likely caused by page navigation or CORS Policy)&#39;, status, httpMessage);
              settings.onAbort.call(context, status, $module, xhr);
            }
            else if(status == &#39;invalid&#39;) {
              module.debug(&#39;JSON did not pass success test. A server-side error has most likely occurred&#39;, response);
            }
            else if(status == &#39;error&#39;)  {
              if(xhr !== undefined) {
                module.debug(&#39;XHR produced a server error&#39;, status, httpMessage);
                // make sure we have an error to display to console
                if( xhr.status != 200 &amp;&amp; httpMessage !== undefined &amp;&amp; httpMessage !== &#39;&#39;) {
                  module.error(error.statusMessage + httpMessage, ajaxSettings.url);
                }
                settings.onError.call(context, errorMessage, $module, xhr);
              }
            }

            if(settings.errorDuration &amp;&amp; status !== &#39;aborted&#39;) {
              module.debug(&#39;Adding error state&#39;);
              module.set.error();
              if( module.should.removeError() ) {
                setTimeout(module.remove.error, settings.errorDuration);
              }
            }
            module.debug(&#39;API Request failed&#39;, errorMessage, xhr);
            settings.onFailure.call(context, response, $module, xhr);
          }
        }
      },

      create: {

        request: function() {
          // api request promise
          return $.Deferred()
            .always(module.event.request.complete)
            .done(module.event.request.done)
            .fail(module.event.request.fail)
          ;
        },

        mockedXHR: function () {
          var
            // xhr does not simulate these properties of xhr but must return them
            textStatus  = false,
            status      = false,
            httpMessage = false,
            asyncCallback,
            response,
            mockedXHR
          ;

          mockedXHR = $.Deferred()
            .always(module.event.xhr.complete)
            .done(module.event.xhr.done)
            .fail(module.event.xhr.fail)
          ;

          if(settings.mockResponse) {
            if( $.isFunction(settings.mockResponse) ) {
              module.debug(&#39;Using mocked callback returning response&#39;, settings.mockResponse);
              response = settings.mockResponse.call(context, settings);
            }
            else {
              module.debug(&#39;Using specified response&#39;, settings.mockResponse);
              response = settings.mockResponse;
            }
            // simulating response
            mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);
          }
          else if( $.isFunction(settings.mockResponseAsync) ) {
            asyncCallback = function(response) {
              module.debug(&#39;Async callback returned response&#39;, response);

              if(response) {
                mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);
              }
              else {
                mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);
              }
            };
            module.debug(&#39;Using async mocked response&#39;, settings.mockResponseAsync);
            settings.mockResponseAsync.call(context, settings, asyncCallback);
          }
          return mockedXHR;
        },

        xhr: function() {
          var
            xhr
          ;
          // ajax request promise
          xhr = $.ajax(ajaxSettings)
            .always(module.event.xhr.always)
            .done(module.event.xhr.done)
            .fail(module.event.xhr.fail)
          ;
          module.verbose(&#39;Created server request&#39;, xhr);
          return xhr;
        }
      },

      set: {
        error: function() {
          module.verbose(&#39;Adding error state to element&#39;, $context);
          $context.addClass(className.error);
        },
        loading: function() {
          module.verbose(&#39;Adding loading state to element&#39;, $context);
          $context.addClass(className.loading);
          requestStartTime = new Date().getTime();
        }
      },

      remove: {
        error: function() {
          module.verbose(&#39;Removing error state from element&#39;, $context);
          $context.removeClass(className.error);
        },
        loading: function() {
          module.verbose(&#39;Removing loading state from element&#39;, $context);
          $context.removeClass(className.loading);
        }
      },

      get: {
        responseFromXHR: function(xhr) {
          return $.isPlainObject(xhr)
            ? (settings.dataType == &#39;json&#39; || settings.dataType == &#39;jsonp&#39;)
              ? module.decode.json(xhr.responseText)
              : xhr.responseText
            : false
          ;
        },
        errorFromRequest: function(response, status, httpMessage) {
          return ($.isPlainObject(response) &amp;&amp; response.error !== undefined)
            ? response.error // use json error message
            : (settings.error[status] !== undefined) // use server error message
              ? settings.error[status]
              : httpMessage
          ;
        },
        request: function() {
          return module.request || false;
        },
        xhr: function() {
          return module.xhr || false;
        },
        settings: function() {
          var
            runSettings
          ;
          runSettings = settings.beforeSend.call(context, settings);
          if(runSettings) {
            if(runSettings.success !== undefined) {
              module.debug(&#39;Legacy success callback detected&#39;, runSettings);
              module.error(error.legacyParameters, runSettings.success);
              runSettings.onSuccess = runSettings.success;
            }
            if(runSettings.failure !== undefined) {
              module.debug(&#39;Legacy failure callback detected&#39;, runSettings);
              module.error(error.legacyParameters, runSettings.failure);
              runSettings.onFailure = runSettings.failure;
            }
            if(runSettings.complete !== undefined) {
              module.debug(&#39;Legacy complete callback detected&#39;, runSettings);
              module.error(error.legacyParameters, runSettings.complete);
              runSettings.onComplete = runSettings.complete;
            }
          }
          if(runSettings === undefined) {
            module.error(error.noReturnedValue);
          }
          return (runSettings !== undefined)
            ? runSettings
            : settings
          ;
        },
        urlEncodedValue: function(value) {
          var
            decodedValue   = window.decodeURIComponent(value),
            encodedValue   = window.encodeURIComponent(value),
            alreadyEncoded = (decodedValue !== value)
          ;
          if(alreadyEncoded) {
            module.debug(&#39;URL value is already encoded, avoiding double encoding&#39;, value);
            return value;
          }
          module.verbose(&#39;Encoding value using encodeURIComponent&#39;, value, encodedValue);
          return encodedValue;
        },
        defaultData: function() {
          var
            data = {}
          ;
          if( !$.isWindow(element) ) {
            if( module.is.input() ) {
              data.value = $module.val();
            }
            else if( !module.is.form() ) {

            }
            else {
              data.text = $module.text();
            }
          }
          return data;
        },
        event: function() {
          if( $.isWindow(element) || settings.on == &#39;now&#39; ) {
            module.debug(&#39;API called without element, no events attached&#39;);
            return false;
          }
          else if(settings.on == &#39;auto&#39;) {
            if( $module.is(&#39;input&#39;) ) {
              return (element.oninput !== undefined)
                ? &#39;input&#39;
                : (element.onpropertychange !== undefined)
                  ? &#39;propertychange&#39;
                  : &#39;keyup&#39;
              ;
            }
            else if( $module.is(&#39;form&#39;) ) {
              return &#39;submit&#39;;
            }
            else {
              return &#39;click&#39;;
            }
          }
          else {
            return settings.on;
          }
        },
        templatedURL: function(action) {
          action = action || $module.data(metadata.action) || settings.action || false;
          url    = $module.data(metadata.url) || settings.url || false;
          if(url) {
            module.debug(&#39;Using specified url&#39;, url);
            return url;
          }
          if(action) {
            module.debug(&#39;Looking up url for action&#39;, action, settings.api);
            if(settings.api[action] === undefined &amp;&amp; !module.is.mocked()) {
              module.error(error.missingAction, settings.action, settings.api);
              return;
            }
            url = settings.api[action];
          }
          else if( module.is.form() ) {
            url = $module.attr(&#39;action&#39;) || $context.attr(&#39;action&#39;) || false;
            module.debug(&#39;No url or action specified, defaulting to form action&#39;, url);
          }
          return url;
        }
      },

      abort: function() {
        var
          xhr = module.get.xhr()
        ;
        if( xhr &amp;&amp; xhr.state() !== &#39;resolved&#39;) {
          module.debug(&#39;Cancelling API request&#39;);
          xhr.abort();
        }
      },

      // reset state
      reset: function() {
        module.remove.error();
        module.remove.loading();
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              //&#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.api.settings = {</p>

<pre>name              : &#39;API&#39;,
namespace         : &#39;api&#39;,

debug             : false,
verbose           : false,
performance       : true,

// object containing all templates endpoints
api               : {},

// whether to cache responses
cache             : true,

// whether new requests should abort previous requests
interruptRequests : true,

// event binding
on                : &#39;auto&#39;,

// context for applying state classes
stateContext      : false,

// duration for loading state
loadingDuration   : 0,

// whether to hide errors after a period of time
hideError         : &#39;auto&#39;,

// duration for error state
errorDuration     : 2000,

// whether parameters should be encoded with encodeURIComponent
encodeParameters  : true,

// API action to use
action            : false,

// templated URL to use
url               : false,

// base URL to apply to all endpoints
base              : &#39;&#39;,

// data that will
urlData           : {},

// whether to add default data to url data
defaultData          : true,

// whether to serialize closest form
serializeForm        : false,

// how long to wait before request should occur
throttle             : 0,

// whether to throttle first request or only repeated
throttleFirstRequest : true,

// standard ajax settings
method            : &#39;get&#39;,
data              : {},
dataType          : &#39;json&#39;,

// mock response
mockResponse      : false,
mockResponseAsync : false,

// callbacks before request
beforeSend  : function(settings) { return settings; },
beforeXHR   : function(xhr) {},
onRequest   : function(promise, xhr) {},

// after request
onResponse  : false, // function(response) { },

// response was successful, if JSON passed validation
onSuccess   : function(response, $module) {},

// request finished without aborting
onComplete  : function(response, $module) {},

// failed JSON success test
onFailure   : function(response, $module) {},

// server error
onError     : function(errorMessage, $module) {},

// request aborted
onAbort     : function(errorMessage, $module) {},

successTest : false,

// errors
error : {
  beforeSend        : &#39;The before send function has aborted the request&#39;,
  error             : &#39;There was an error with your request&#39;,
  exitConditions    : &#39;API Request Aborted. Exit conditions met&#39;,
  JSONParse         : &#39;JSON could not be parsed during error handling&#39;,
  legacyParameters  : &#39;You are using legacy API success callback names&#39;,
  method            : &#39;The method you called is not defined&#39;,
  missingAction     : &#39;API action used but no url was defined&#39;,
  missingSerialize  : &#39;jquery-serialize-object is required to add form data to an existing data object&#39;,
  missingURL        : &#39;No URL specified for api event&#39;,
  noReturnedValue   : &#39;The beforeSend callback must return a settings object, beforeSend ignored.&#39;,
  noStorage         : &#39;Caching responses locally requires session storage&#39;,
  parseError        : &#39;There was an error parsing your request&#39;,
  requiredParameter : &#39;Missing a required URL parameter: &#39;,
  statusMessage     : &#39;Server gave an error: &#39;,
  timeout           : &#39;Your request timed out&#39;
},

regExp  : {
  required : /\{\$*[A-z0-9]+\}/g,
  optional : /\{\/\$*[A-z0-9]+\}/g,
},

className: {
  loading : &#39;loading&#39;,
  error   : &#39;error&#39;
},

selector: {
  disabled : &#39;.disabled&#39;,
  form      : &#39;form&#39;
},

metadata: {
  action  : &#39;action&#39;,
  url     : &#39;url&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - State
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.state = function(parameters) {</p>

<pre>var
  $allModules     = $(this),

  moduleSelector  = $allModules.selector || &#39;&#39;,

  hasTouch        = (&#39;ontouchstart&#39; in document.documentElement),
  time            = new Date().getTime(),
  performance     = [],

  query           = arguments[0],
  methodInvoked   = (typeof query == &#39;string&#39;),
  queryArguments  = [].slice.call(arguments, 1),

  returnedValue
;
$allModules
  .each(function() {
    var
      settings          = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.state.settings, parameters)
        : $.extend({}, $.fn.state.settings),

      error           = settings.error,
      metadata        = settings.metadata,
      className       = settings.className,
      namespace       = settings.namespace,
      states          = settings.states,
      text            = settings.text,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = namespace + &#39;-module&#39;,

      $module         = $(this),

      element         = this,
      instance        = $module.data(moduleNamespace),

      module
    ;
    module = {

      initialize: function() {
        module.verbose(&#39;Initializing module&#39;);

        // allow module to guess desired state based on element
        if(settings.automatic) {
          module.add.defaults();
        }

        // bind events with delegated events
        if(settings.context &amp;&amp; moduleSelector !== &#39;&#39;) {
          $(settings.context)
            .on(moduleSelector, &#39;mouseenter&#39; + eventNamespace, module.change.text)
            .on(moduleSelector, &#39;mouseleave&#39; + eventNamespace, module.reset.text)
            .on(moduleSelector, &#39;click&#39;      + eventNamespace, module.toggle.state)
          ;
        }
        else {
          $module
            .on(&#39;mouseenter&#39; + eventNamespace, module.change.text)
            .on(&#39;mouseleave&#39; + eventNamespace, module.reset.text)
            .on(&#39;click&#39;      + eventNamespace, module.toggle.state)
          ;
        }
        module.instantiate();
      },

      instantiate: function() {
        module.verbose(&#39;Storing instance of module&#39;, module);
        instance = module;
        $module
          .data(moduleNamespace, module)
        ;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module&#39;, instance);
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
      },

      refresh: function() {
        module.verbose(&#39;Refreshing selector cache&#39;);
        $module = $(element);
      },

      add: {
        defaults: function() {
          var
            userStates = parameters &amp;&amp; $.isPlainObject(parameters.states)
              ? parameters.states
              : {}
          ;
          $.each(settings.defaults, function(type, typeStates) {
            if( module.is[type] !== undefined &amp;&amp; module.is[type]() ) {
              module.verbose(&#39;Adding default states&#39;, type, element);
              $.extend(settings.states, typeStates, userStates);
            }
          });
        }
      },

      is: {

        active: function() {
          return $module.hasClass(className.active);
        },
        loading: function() {
          return $module.hasClass(className.loading);
        },
        inactive: function() {
          return !( $module.hasClass(className.active) );
        },
        state: function(state) {
          if(className[state] === undefined) {
            return false;
          }
          return $module.hasClass( className[state] );
        },

        enabled: function() {
          return !( $module.is(settings.filter.active) );
        },
        disabled: function() {
          return ( $module.is(settings.filter.active) );
        },
        textEnabled: function() {
          return !( $module.is(settings.filter.text) );
        },

        // definitions for automatic type detection
        button: function() {
          return $module.is(&#39;.button:not(a, .submit)&#39;);
        },
        input: function() {
          return $module.is(&#39;input&#39;);
        },
        progress: function() {
          return $module.is(&#39;.ui.progress&#39;);
        }
      },

      allow: function(state) {
        module.debug(&#39;Now allowing state&#39;, state);
        states[state] = true;
      },
      disallow: function(state) {
        module.debug(&#39;No longer allowing&#39;, state);
        states[state] = false;
      },

      allows: function(state) {
        return states[state] || false;
      },

      enable: function() {
        $module.removeClass(className.disabled);
      },

      disable: function() {
        $module.addClass(className.disabled);
      },

      setState: function(state) {
        if(module.allows(state)) {
          $module.addClass( className[state] );
        }
      },

      removeState: function(state) {
        if(module.allows(state)) {
          $module.removeClass( className[state] );
        }
      },

      toggle: {
        state: function() {
          var
            apiRequest,
            requestCancelled
          ;
          if( module.allows(&#39;active&#39;) &amp;&amp; module.is.enabled() ) {
            module.refresh();
            if($.fn.api !== undefined) {
              apiRequest       = $module.api(&#39;get request&#39;);
              requestCancelled = $module.api(&#39;was cancelled&#39;);
              if( requestCancelled ) {
                module.debug(&#39;API Request cancelled by beforesend&#39;);
                settings.activateTest   = function(){ return false; };
                settings.deactivateTest = function(){ return false; };
              }
              else if(apiRequest) {
                module.listenTo(apiRequest);
                return;
              }
            }
            module.change.state();
          }
        }
      },

      listenTo: function(apiRequest) {
        module.debug(&#39;API request detected, waiting for state signal&#39;, apiRequest);
        if(apiRequest) {
          if(text.loading) {
            module.update.text(text.loading);
          }
          $.when(apiRequest)
            .then(function() {
              if(apiRequest.state() == &#39;resolved&#39;) {
                module.debug(&#39;API request succeeded&#39;);
                settings.activateTest   = function(){ return true; };
                settings.deactivateTest = function(){ return true; };
              }
              else {
                module.debug(&#39;API request failed&#39;);
                settings.activateTest   = function(){ return false; };
                settings.deactivateTest = function(){ return false; };
              }
              module.change.state();
            })
          ;
        }
      },

      // checks whether active/inactive state can be given
      change: {

        state: function() {
          module.debug(&#39;Determining state change direction&#39;);
          // inactive to active change
          if( module.is.inactive() ) {
            module.activate();
          }
          else {
            module.deactivate();
          }
          if(settings.sync) {
            module.sync();
          }
          settings.onChange.call(element);
        },

        text: function() {
          if( module.is.textEnabled() ) {
            if(module.is.disabled() ) {
              module.verbose(&#39;Changing text to disabled text&#39;, text.hover);
              module.update.text(text.disabled);
            }
            else if( module.is.active() ) {
              if(text.hover) {
                module.verbose(&#39;Changing text to hover text&#39;, text.hover);
                module.update.text(text.hover);
              }
              else if(text.deactivate) {
                module.verbose(&#39;Changing text to deactivating text&#39;, text.deactivate);
                module.update.text(text.deactivate);
              }
            }
            else {
              if(text.hover) {
                module.verbose(&#39;Changing text to hover text&#39;, text.hover);
                module.update.text(text.hover);
              }
              else if(text.activate){
                module.verbose(&#39;Changing text to activating text&#39;, text.activate);
                module.update.text(text.activate);
              }
            }
          }
        }

      },

      activate: function() {
        if( settings.activateTest.call(element) ) {
          module.debug(&#39;Setting state to active&#39;);
          $module
            .addClass(className.active)
          ;
          module.update.text(text.active);
          settings.onActivate.call(element);
        }
      },

      deactivate: function() {
        if( settings.deactivateTest.call(element) ) {
          module.debug(&#39;Setting state to inactive&#39;);
          $module
            .removeClass(className.active)
          ;
          module.update.text(text.inactive);
          settings.onDeactivate.call(element);
        }
      },

      sync: function() {
        module.verbose(&#39;Syncing other buttons to current state&#39;);
        if( module.is.active() ) {
          $allModules
            .not($module)
              .state(&#39;activate&#39;);
        }
        else {
          $allModules
            .not($module)
              .state(&#39;deactivate&#39;)
          ;
        }
      },

      get: {
        text: function() {
          return (settings.selector.text)
            ? $module.find(settings.selector.text).text()
            : $module.html()
          ;
        },
        textFor: function(state) {
          return text[state] || false;
        }
      },

      flash: {
        text: function(text, duration, callback) {
          var
            previousText = module.get.text()
          ;
          module.debug(&#39;Flashing text message&#39;, text, duration);
          text     = text     || settings.text.flash;
          duration = duration || settings.flashDuration;
          callback = callback || function() {};
          module.update.text(text);
          setTimeout(function(){
            module.update.text(previousText);
            callback.call(element);
          }, duration);
        }
      },

      reset: {
        // on mouseout sets text to previous value
        text: function() {
          var
            activeText   = text.active   || $module.data(metadata.storedText),
            inactiveText = text.inactive || $module.data(metadata.storedText)
          ;
          if( module.is.textEnabled() ) {
            if( module.is.active() &amp;&amp; activeText) {
              module.verbose(&#39;Resetting active text&#39;, activeText);
              module.update.text(activeText);
            }
            else if(inactiveText) {
              module.verbose(&#39;Resetting inactive text&#39;, activeText);
              module.update.text(inactiveText);
            }
          }
        }
      },

      update: {
        text: function(text) {
          var
            currentText = module.get.text()
          ;
          if(text &amp;&amp; text !== currentText) {
            module.debug(&#39;Updating text&#39;, text);
            if(settings.selector.text) {
              $module
                .data(metadata.storedText, text)
                .find(settings.selector.text)
                  .text(text)
              ;
            }
            else {
              $module
                .data(metadata.storedText, text)
                .html(text)
              ;
            }
          }
          else {
            module.debug(&#39;Text is already set, ignoring update&#39;, text);
          }
        }
      },

      setting: function(name, value) {
        module.debug(&#39;Changing setting&#39;, name, value);
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.state.settings = {</p>

<pre>// module info
name           : &#39;State&#39;,

// debug output
debug          : false,

// verbose debug output
verbose        : false,

// namespace for events
namespace      : &#39;state&#39;,

// debug data includes performance
performance    : true,

// callback occurs on state change
onActivate     : function() {},
onDeactivate   : function() {},
onChange       : function() {},

// state test functions
activateTest   : function() { return true; },
deactivateTest : function() { return true; },

// whether to automatically map default states
automatic      : true,

// activate / deactivate changes all elements instantiated at same time
sync           : false,

// default flash text duration, used for temporarily changing text of an element
flashDuration  : 1000,

// selector filter
filter     : {
  text   : &#39;.loading, .disabled&#39;,
  active : &#39;.disabled&#39;
},

context    : false,

// error
error: {
  beforeSend : &#39;The before send function has cancelled state change&#39;,
  method     : &#39;The method you called is not defined.&#39;
},

// metadata
metadata: {
  promise    : &#39;promise&#39;,
  storedText : &#39;stored-text&#39;
},

// change class on state
className: {
  active   : &#39;active&#39;,
  disabled : &#39;disabled&#39;,
  error    : &#39;error&#39;,
  loading  : &#39;loading&#39;,
  success  : &#39;success&#39;,
  warning  : &#39;warning&#39;
},

selector: {
  // selector for text node
  text: false
},

defaults : {
  input: {
    disabled : true,
    loading  : true,
    active   : true
  },
  button: {
    disabled : true,
    loading  : true,
    active   : true,
  },
  progress: {
    active   : true,
    success  : true,
    warning  : true,
    error    : true
  }
},

states     : {
  active   : true,
  disabled : true,
  error    : true,
  loading  : true,
  success  : true,
  warning  : true
},

text     : {
  disabled   : false,
  flash      : false,
  hover      : false,
  active     : false,
  inactive   : false,
  activate   : false,
  deactivate : false
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>

<p>/*!</p>

<pre> # Semantic UI 2.1.6 - Visibility
 http://github.com/semantic-org/semantic-ui/

 Copyright 2015 Contributors
 Released under the MIT license
 http://opensource.org/licenses/MIT

/</pre>

<p>;(function ( $, window, document, undefined ) {</p>

<p>“use strict”;</p>

<p>$.fn.visibility = function(parameters) {</p>

<pre>var
  $allModules    = $(this),
  moduleSelector = $allModules.selector || &#39;&#39;,

  time           = new Date().getTime(),
  performance    = [],

  query          = arguments[0],
  methodInvoked  = (typeof query == &#39;string&#39;),
  queryArguments = [].slice.call(arguments, 1),
  returnedValue
;

$allModules
  .each(function() {
    var
      settings        = ( $.isPlainObject(parameters) )
        ? $.extend(true, {}, $.fn.visibility.settings, parameters)
        : $.extend({}, $.fn.visibility.settings),

      className       = settings.className,
      namespace       = settings.namespace,
      error           = settings.error,
      metadata        = settings.metadata,

      eventNamespace  = &#39;.&#39; + namespace,
      moduleNamespace = &#39;module-&#39; + namespace,

      $window         = $(window),

      $module         = $(this),
      $context        = $(settings.context),

      $placeholder,

      selector        = $module.selector || &#39;&#39;,
      instance        = $module.data(moduleNamespace),

      requestAnimationFrame = window.requestAnimationFrame
        || window.mozRequestAnimationFrame
        || window.webkitRequestAnimationFrame
        || window.msRequestAnimationFrame
        || function(callback) { setTimeout(callback, 0); },

      element         = this,
      disabled        = false,

      observer,
      module
    ;

    module = {

      initialize: function() {
        module.debug(&#39;Initializing&#39;, settings);

        module.setup.cache();

        if( module.should.trackChanges() ) {

          if(settings.type == &#39;image&#39;) {
            module.setup.image();
          }
          if(settings.type == &#39;fixed&#39;) {
            module.setup.fixed();
          }

          if(settings.observeChanges) {
            module.observeChanges();
          }
          module.bind.events();
        }

        module.save.position();
        if( !module.is.visible() ) {
          module.error(error.visible, $module);
        }

        if(settings.initialCheck) {
          module.checkVisibility();
        }
        module.instantiate();
      },

      instantiate: function() {
        module.debug(&#39;Storing instance&#39;, module);
        $module
          .data(moduleNamespace, module)
        ;
        instance = module;
      },

      destroy: function() {
        module.verbose(&#39;Destroying previous module&#39;);
        if(observer) {
          observer.disconnect();
        }
        $window
          .off(&#39;load&#39;   + eventNamespace, module.event.load)
          .off(&#39;resize&#39; + eventNamespace, module.event.resize)
        ;
        $context
          .off(&#39;scrollchange&#39; + eventNamespace, module.event.scrollchange)
        ;
        $module
          .off(eventNamespace)
          .removeData(moduleNamespace)
        ;
      },

      observeChanges: function() {
        if(&#39;MutationObserver&#39; in window) {
          observer = new MutationObserver(function(mutations) {
            module.verbose(&#39;DOM tree modified, updating visibility calculations&#39;);
            module.timer = setTimeout(function() {
              module.verbose(&#39;DOM tree modified, updating sticky menu&#39;);
              module.refresh();
            }, 100);
          });
          observer.observe(element, {
            childList : true,
            subtree   : true
          });
          module.debug(&#39;Setting up mutation observer&#39;, observer);
        }
      },

      bind: {
        events: function() {
          module.verbose(&#39;Binding visibility events to scroll and resize&#39;);
          if(settings.refreshOnLoad) {
            $window
              .on(&#39;load&#39;   + eventNamespace, module.event.load)
            ;
          }
          $window
            .on(&#39;resize&#39; + eventNamespace, module.event.resize)
          ;
          // pub/sub pattern
          $context
            .off(&#39;scroll&#39;      + eventNamespace)
            .on(&#39;scroll&#39;       + eventNamespace, module.event.scroll)
            .on(&#39;scrollchange&#39; + eventNamespace, module.event.scrollchange)
          ;
        }
      },

      event: {
        resize: function() {
          module.debug(&#39;Window resized&#39;);
          if(settings.refreshOnResize) {
            requestAnimationFrame(module.refresh);
          }
        },
        load: function() {
          module.debug(&#39;Page finished loading&#39;);
          requestAnimationFrame(module.refresh);
        },
        // publishes scrollchange event on one scroll
        scroll: function() {
          if(settings.throttle) {
            clearTimeout(module.timer);
            module.timer = setTimeout(function() {
              $context.triggerHandler(&#39;scrollchange&#39; + eventNamespace, [ $context.scrollTop() ]);
            }, settings.throttle);
          }
          else {
            requestAnimationFrame(function() {
              $context.triggerHandler(&#39;scrollchange&#39; + eventNamespace, [ $context.scrollTop() ]);
            });
          }
        },
        // subscribes to scrollchange
        scrollchange: function(event, scrollPosition) {
          module.checkVisibility(scrollPosition);
        },
      },

      precache: function(images, callback) {
        if (!(images instanceof Array)) {
          images = [images];
        }
        var
          imagesLength  = images.length,
          loadedCounter = 0,
          cache         = [],
          cacheImage    = document.createElement(&#39;img&#39;),
          handleLoad    = function() {
            loadedCounter++;
            if (loadedCounter &gt;= images.length) {
              if ($.isFunction(callback)) {
                callback();
              }
            }
          }
        ;
        while (imagesLength--) {
          cacheImage         = document.createElement(&#39;img&#39;);
          cacheImage.onload  = handleLoad;
          cacheImage.onerror = handleLoad;
          cacheImage.src     = images[imagesLength];
          cache.push(cacheImage);
        }
      },

      enableCallbacks: function() {
        module.debug(&#39;Allowing callbacks to occur&#39;);
        disabled = false;
      },

      disableCallbacks: function() {
        module.debug(&#39;Disabling all callbacks temporarily&#39;);
        disabled = true;
      },

      should: {
        trackChanges: function() {
          if(methodInvoked) {
            module.debug(&#39;One time query, no need to bind events&#39;);
            return false;
          }
          module.debug(&#39;Callbacks being attached&#39;);
          return true;
        }
      },

      setup: {
        cache: function() {
          module.cache = {
            occurred : {},
            screen   : {},
            element  : {},
          };
        },
        image: function() {
          var
            src = $module.data(metadata.src)
          ;
          if(src) {
            module.verbose(&#39;Lazy loading image&#39;, src);
            settings.once           = true;
            settings.observeChanges = false;

            // show when top visible
            settings.onOnScreen = function() {
              module.debug(&#39;Image on screen&#39;, element);
              module.precache(src, function() {
                module.set.image(src);
              });
            };
          }
        },
        fixed: function() {
          module.debug(&#39;Setting up fixed&#39;);
          settings.once           = false;
          settings.observeChanges = false;
          settings.initialCheck   = true;
          settings.refreshOnLoad  = true;
          if(!parameters.transition) {
            settings.transition = false;
          }
          module.create.placeholder();
          module.debug(&#39;Added placeholder&#39;, $placeholder);
          settings.onTopPassed = function() {
            module.debug(&#39;Element passed, adding fixed position&#39;, $module);
            module.show.placeholder();
            module.set.fixed();
            if(settings.transition) {
              if($.fn.transition !== undefined) {
                $module.transition(settings.transition, settings.duration);
              }
            }
          };
          settings.onTopPassedReverse = function() {
            module.debug(&#39;Element returned to position, removing fixed&#39;, $module);
            module.hide.placeholder();
            module.remove.fixed();
          };
        }
      },

      create: {
        placeholder: function() {
          module.verbose(&#39;Creating fixed position placeholder&#39;);
          $placeholder = $module
            .clone(false)
            .css(&#39;display&#39;, &#39;none&#39;)
            .addClass(className.placeholder)
            .insertAfter($module)
          ;
        }
      },

      show: {
        placeholder: function() {
          module.verbose(&#39;Showing placeholder&#39;);
          $placeholder
            .css(&#39;display&#39;, &#39;block&#39;)
            .css(&#39;visibility&#39;, &#39;hidden&#39;)
          ;
        }
      },
      hide: {
        placeholder: function() {
          module.verbose(&#39;Hiding placeholder&#39;);
          $placeholder
            .css(&#39;display&#39;, &#39;none&#39;)
            .css(&#39;visibility&#39;, &#39;&#39;)
          ;
        }
      },

      set: {
        fixed: function() {
          module.verbose(&#39;Setting element to fixed position&#39;);
          $module
            .addClass(className.fixed)
            .css({
              position : &#39;fixed&#39;,
              top      : settings.offset + &#39;px&#39;,
              left     : &#39;auto&#39;,
              zIndex   : &#39;1&#39;
            })
          ;
        },
        image: function(src) {
          $module
            .attr(&#39;src&#39;, src)
          ;
          if(settings.transition) {
            if( $.fn.transition !== undefined ) {
              $module.transition(settings.transition, settings.duration);
            }
            else {
              $module.fadeIn(settings.duration);
            }
          }
          else {
            $module.show();
          }
        }
      },

      is: {
        onScreen: function() {
          var
            calculations   = module.get.elementCalculations()
          ;
          return calculations.onScreen;
        },
        offScreen: function() {
          var
            calculations   = module.get.elementCalculations()
          ;
          return calculations.offScreen;
        },
        visible: function() {
          if(module.cache &amp;&amp; module.cache.element) {
            return !(module.cache.element.width === 0 &amp;&amp; module.cache.element.offset.top === 0);
          }
          return false;
        }
      },

      refresh: function() {
        module.debug(&#39;Refreshing constants (width/height)&#39;);
        if(settings.type == &#39;fixed&#39;) {
          module.remove.fixed();
          module.remove.occurred();
        }
        module.reset();
        module.save.position();
        if(settings.checkOnRefresh) {
          module.checkVisibility();
        }
        settings.onRefresh.call(element);
      },

      reset: function() {
        module.verbose(&#39;Reseting all cached values&#39;);
        if( $.isPlainObject(module.cache) ) {
          module.cache.screen = {};
          module.cache.element = {};
        }
      },

      checkVisibility: function(scroll) {
        module.verbose(&#39;Checking visibility of element&#39;, module.cache.element);

        if( !disabled &amp;&amp; module.is.visible() ) {

          // save scroll position
          module.save.scroll(scroll);

          // update calculations derived from scroll
          module.save.calculations();

          // percentage
          module.passed();

          // reverse (must be first)
          module.passingReverse();
          module.topVisibleReverse();
          module.bottomVisibleReverse();
          module.topPassedReverse();
          module.bottomPassedReverse();

          // one time
          module.onScreen();
          module.offScreen();
          module.passing();
          module.topVisible();
          module.bottomVisible();
          module.topPassed();
          module.bottomPassed();

          // on update callback
          if(settings.onUpdate) {
            settings.onUpdate.call(element, module.get.elementCalculations());
          }
        }
      },

      passed: function(amount, newCallback) {
        var
          calculations   = module.get.elementCalculations(),
          amountInPixels
        ;
        // assign callback
        if(amount &amp;&amp; newCallback) {
          settings.onPassed[amount] = newCallback;
        }
        else if(amount !== undefined) {
          return (module.get.pixelsPassed(amount) &gt; calculations.pixelsPassed);
        }
        else if(calculations.passing) {
          $.each(settings.onPassed, function(amount, callback) {
            if(calculations.bottomVisible || calculations.pixelsPassed &gt; module.get.pixelsPassed(amount)) {
              module.execute(callback, amount);
            }
            else if(!settings.once) {
              module.remove.occurred(callback);
            }
          });
        }
      },

      onScreen: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onOnScreen,
          callbackName = &#39;onScreen&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for onScreen&#39;, newCallback);
          settings.onOnScreen = newCallback;
        }
        if(calculations.onScreen) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback !== undefined) {
          return calculations.onOnScreen;
        }
      },

      offScreen: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onOffScreen,
          callbackName = &#39;offScreen&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for offScreen&#39;, newCallback);
          settings.onOffScreen = newCallback;
        }
        if(calculations.offScreen) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback !== undefined) {
          return calculations.onOffScreen;
        }
      },

      passing: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onPassing,
          callbackName = &#39;passing&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for passing&#39;, newCallback);
          settings.onPassing = newCallback;
        }
        if(calculations.passing) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback !== undefined) {
          return calculations.passing;
        }
      },

      topVisible: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onTopVisible,
          callbackName = &#39;topVisible&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for top visible&#39;, newCallback);
          settings.onTopVisible = newCallback;
        }
        if(calculations.topVisible) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return calculations.topVisible;
        }
      },

      bottomVisible: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onBottomVisible,
          callbackName = &#39;bottomVisible&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for bottom visible&#39;, newCallback);
          settings.onBottomVisible = newCallback;
        }
        if(calculations.bottomVisible) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return calculations.bottomVisible;
        }
      },

      topPassed: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onTopPassed,
          callbackName = &#39;topPassed&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for top passed&#39;, newCallback);
          settings.onTopPassed = newCallback;
        }
        if(calculations.topPassed) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return calculations.topPassed;
        }
      },

      bottomPassed: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onBottomPassed,
          callbackName = &#39;bottomPassed&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for bottom passed&#39;, newCallback);
          settings.onBottomPassed = newCallback;
        }
        if(calculations.bottomPassed) {
          module.execute(callback, callbackName);
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return calculations.bottomPassed;
        }
      },

      passingReverse: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onPassingReverse,
          callbackName = &#39;passingReverse&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for passing reverse&#39;, newCallback);
          settings.onPassingReverse = newCallback;
        }
        if(!calculations.passing) {
          if(module.get.occurred(&#39;passing&#39;)) {
            module.execute(callback, callbackName);
          }
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback !== undefined) {
          return !calculations.passing;
        }
      },

      topVisibleReverse: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onTopVisibleReverse,
          callbackName = &#39;topVisibleReverse&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for top visible reverse&#39;, newCallback);
          settings.onTopVisibleReverse = newCallback;
        }
        if(!calculations.topVisible) {
          if(module.get.occurred(&#39;topVisible&#39;)) {
            module.execute(callback, callbackName);
          }
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return !calculations.topVisible;
        }
      },

      bottomVisibleReverse: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onBottomVisibleReverse,
          callbackName = &#39;bottomVisibleReverse&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for bottom visible reverse&#39;, newCallback);
          settings.onBottomVisibleReverse = newCallback;
        }
        if(!calculations.bottomVisible) {
          if(module.get.occurred(&#39;bottomVisible&#39;)) {
            module.execute(callback, callbackName);
          }
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return !calculations.bottomVisible;
        }
      },

      topPassedReverse: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onTopPassedReverse,
          callbackName = &#39;topPassedReverse&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for top passed reverse&#39;, newCallback);
          settings.onTopPassedReverse = newCallback;
        }
        if(!calculations.topPassed) {
          if(module.get.occurred(&#39;topPassed&#39;)) {
            module.execute(callback, callbackName);
          }
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return !calculations.onTopPassed;
        }
      },

      bottomPassedReverse: function(newCallback) {
        var
          calculations = module.get.elementCalculations(),
          callback     = newCallback || settings.onBottomPassedReverse,
          callbackName = &#39;bottomPassedReverse&#39;
        ;
        if(newCallback) {
          module.debug(&#39;Adding callback for bottom passed reverse&#39;, newCallback);
          settings.onBottomPassedReverse = newCallback;
        }
        if(!calculations.bottomPassed) {
          if(module.get.occurred(&#39;bottomPassed&#39;)) {
            module.execute(callback, callbackName);
          }
        }
        else if(!settings.once) {
          module.remove.occurred(callbackName);
        }
        if(newCallback === undefined) {
          return !calculations.bottomPassed;
        }
      },

      execute: function(callback, callbackName) {
        var
          calculations = module.get.elementCalculations(),
          screen       = module.get.screenCalculations()
        ;
        callback = callback || false;
        if(callback) {
          if(settings.continuous) {
            module.debug(&#39;Callback being called continuously&#39;, callbackName, calculations);
            callback.call(element, calculations, screen);
          }
          else if(!module.get.occurred(callbackName)) {
            module.debug(&#39;Conditions met&#39;, callbackName, calculations);
            callback.call(element, calculations, screen);
          }
        }
        module.save.occurred(callbackName);
      },

      remove: {
        fixed: function() {
          module.debug(&#39;Removing fixed position&#39;);
          $module
            .removeClass(className.fixed)
            .css({
              position : &#39;&#39;,
              top      : &#39;&#39;,
              left     : &#39;&#39;,
              zIndex   : &#39;&#39;
            })
          ;
        },
        occurred: function(callback) {
          if(callback) {
            var
              occurred = module.cache.occurred
            ;
            if(occurred[callback] !== undefined &amp;&amp; occurred[callback] === true) {
              module.debug(&#39;Callback can now be called again&#39;, callback);
              module.cache.occurred[callback] = false;
            }
          }
          else {
            module.cache.occurred = {};
          }
        }
      },

      save: {
        calculations: function() {
          module.verbose(&#39;Saving all calculations necessary to determine positioning&#39;);
          module.save.direction();
          module.save.screenCalculations();
          module.save.elementCalculations();
        },
        occurred: function(callback) {
          if(callback) {
            if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {
              module.verbose(&#39;Saving callback occurred&#39;, callback);
              module.cache.occurred[callback] = true;
            }
          }
        },
        scroll: function(scrollPosition) {
          scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;
          module.cache.scroll = scrollPosition;
        },
        direction: function() {
          var
            scroll     = module.get.scroll(),
            lastScroll = module.get.lastScroll(),
            direction
          ;
          if(scroll &gt; lastScroll &amp;&amp; lastScroll) {
            direction = &#39;down&#39;;
          }
          else if(scroll &lt; lastScroll &amp;&amp; lastScroll) {
            direction = &#39;up&#39;;
          }
          else {
            direction = &#39;static&#39;;
          }
          module.cache.direction = direction;
          return module.cache.direction;
        },
        elementPosition: function() {
          var
            element = module.cache.element,
            screen  = module.get.screenSize()
          ;
          module.verbose(&#39;Saving element position&#39;);
          // (quicker than $.extend)
          element.fits          = (element.height &lt; screen.height);
          element.offset        = $module.offset();
          element.width         = $module.outerWidth();
          element.height        = $module.outerHeight();
          // store
          module.cache.element = element;
          return element;
        },
        elementCalculations: function() {
          var
            screen     = module.get.screenCalculations(),
            element    = module.get.elementPosition()
          ;
          // offset
          if(settings.includeMargin) {
            element.margin        = {};
            element.margin.top    = parseInt($module.css(&#39;margin-top&#39;), 10);
            element.margin.bottom = parseInt($module.css(&#39;margin-bottom&#39;), 10);
            element.top    = element.offset.top - element.margin.top;
            element.bottom = element.offset.top + element.height + element.margin.bottom;
          }
          else {
            element.top    = element.offset.top;
            element.bottom = element.offset.top + element.height;
          }

          // visibility
          element.topVisible       = (screen.bottom &gt;= element.top);
          element.topPassed        = (screen.top &gt;= element.top);
          element.bottomVisible    = (screen.bottom &gt;= element.bottom);
          element.bottomPassed     = (screen.top &gt;= element.bottom);
          element.pixelsPassed     = 0;
          element.percentagePassed = 0;

          // meta calculations
          element.onScreen  = (element.topVisible &amp;&amp; !element.bottomPassed);
          element.passing   = (element.topPassed &amp;&amp; !element.bottomPassed);
          element.offScreen = (!element.onScreen);

          // passing calculations
          if(element.passing) {
            element.pixelsPassed     = (screen.top - element.top);
            element.percentagePassed = (screen.top - element.top) / element.height;
          }
          module.cache.element = element;
          module.verbose(&#39;Updated element calculations&#39;, element);
          return element;
        },
        screenCalculations: function() {
          var
            scroll = module.get.scroll()
          ;
          module.save.direction();
          module.cache.screen.top    = scroll;
          module.cache.screen.bottom = scroll + module.cache.screen.height;
          return module.cache.screen;
        },
        screenSize: function() {
          module.verbose(&#39;Saving window position&#39;);
          module.cache.screen = {
            height: $context.height()
          };
        },
        position: function() {
          module.save.screenSize();
          module.save.elementPosition();
        }
      },

      get: {
        pixelsPassed: function(amount) {
          var
            element = module.get.elementCalculations()
          ;
          if(amount.search(&#39;%&#39;) &gt; -1) {
            return ( element.height * (parseInt(amount, 10) / 100) );
          }
          return parseInt(amount, 10);
        },
        occurred: function(callback) {
          return (module.cache.occurred !== undefined)
            ? module.cache.occurred[callback] || false
            : false
          ;
        },
        direction: function() {
          if(module.cache.direction === undefined) {
            module.save.direction();
          }
          return module.cache.direction;
        },
        elementPosition: function() {
          if(module.cache.element === undefined) {
            module.save.elementPosition();
          }
          return module.cache.element;
        },
        elementCalculations: function() {
          if(module.cache.element === undefined) {
            module.save.elementCalculations();
          }
          return module.cache.element;
        },
        screenCalculations: function() {
          if(module.cache.screen === undefined) {
            module.save.screenCalculations();
          }
          return module.cache.screen;
        },
        screenSize: function() {
          if(module.cache.screen === undefined) {
            module.save.screenSize();
          }
          return module.cache.screen;
        },
        scroll: function() {
          if(module.cache.scroll === undefined) {
            module.save.scroll();
          }
          return module.cache.scroll;
        },
        lastScroll: function() {
          if(module.cache.screen === undefined) {
            module.debug(&#39;First scroll event, no last scroll could be found&#39;);
            return false;
          }
          return module.cache.screen.top;
        }
      },

      setting: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, settings, name);
        }
        else if(value !== undefined) {
          settings[name] = value;
        }
        else {
          return settings[name];
        }
      },
      internal: function(name, value) {
        if( $.isPlainObject(name) ) {
          $.extend(true, module, name);
        }
        else if(value !== undefined) {
          module[name] = value;
        }
        else {
          return module[name];
        }
      },
      debug: function() {
        if(settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function() {
        if(settings.verbose &amp;&amp; settings.debug) {
          if(settings.performance) {
            module.performance.log(arguments);
          }
          else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + &#39;:&#39;);
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function() {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + &#39;:&#39;);
        module.error.apply(console, arguments);
      },
      performance: {
        log: function(message) {
          var
            currentTime,
            executionTime,
            previousTime
          ;
          if(settings.performance) {
            currentTime   = new Date().getTime();
            previousTime  = time || currentTime;
            executionTime = currentTime - previousTime;
            time          = currentTime;
            performance.push({
              &#39;Name&#39;           : message[0],
              &#39;Arguments&#39;      : [].slice.call(message, 1) || &#39;&#39;,
              &#39;Element&#39;        : element,
              &#39;Execution Time&#39; : executionTime
            });
          }
          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function() {
          var
            title = settings.name + &#39;:&#39;,
            totalTime = 0
          ;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function(index, data) {
            totalTime += data[&#39;Execution Time&#39;];
          });
          title += &#39; &#39; + totalTime + &#39;ms&#39;;
          if(moduleSelector) {
            title += &#39; \&#39;&#39; + moduleSelector + &#39;\&#39;&#39;;
          }
          if( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; 0) {
            console.groupCollapsed(title);
            if(console.table) {
              console.table(performance);
            }
            else {
              $.each(performance, function(index, data) {
                console.log(data[&#39;Name&#39;] + &#39;: &#39; + data[&#39;Execution Time&#39;]+&#39;ms&#39;);
              });
            }
            console.groupEnd();
          }
          performance = [];
        }
      },
      invoke: function(query, passedArguments, context) {
        var
          object = instance,
          maxDepth,
          found,
          response
        ;
        passedArguments = passedArguments || queryArguments;
        context         = element         || context;
        if(typeof query == &#39;string&#39; &amp;&amp; object !== undefined) {
          query    = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function(depth, value) {
            var camelCaseValue = (depth != maxDepth)
              ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)
              : query
            ;
            if( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[camelCaseValue];
            }
            else if( object[camelCaseValue] !== undefined ) {
              found = object[camelCaseValue];
              return false;
            }
            else if( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) {
              object = object[value];
            }
            else if( object[value] !== undefined ) {
              found = object[value];
              return false;
            }
            else {
              module.error(error.method, query);
              return false;
            }
          });
        }
        if ( $.isFunction( found ) ) {
          response = found.apply(context, passedArguments);
        }
        else if(found !== undefined) {
          response = found;
        }
        if($.isArray(returnedValue)) {
          returnedValue.push(response);
        }
        else if(returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        }
        else if(response !== undefined) {
          returnedValue = response;
        }
        return found;
      }
    };

    if(methodInvoked) {
      if(instance === undefined) {
        module.initialize();
      }
      instance.save.scroll();
      instance.save.calculations();
      module.invoke(query);
    }
    else {
      if(instance !== undefined) {
        instance.invoke(&#39;destroy&#39;);
      }
      module.initialize();
    }
  })
;

return (returnedValue !== undefined)
  ? returnedValue
  : this
;</pre>

<p>};</p>

<p>$.fn.visibility.settings = {</p>

<pre>name                   : &#39;Visibility&#39;,
namespace              : &#39;visibility&#39;,

debug                  : false,
verbose                : false,
performance            : true,

// whether to use mutation observers to follow changes
observeChanges         : true,

// check position immediately on init
initialCheck           : true,

// whether to refresh calculations after all page images load
refreshOnLoad          : true,

// whether to refresh calculations after page resize event
refreshOnResize        : true,

// should call callbacks on refresh event (resize, etc)
checkOnRefresh         : true,

// callback should only occur one time
once                   : true,

// callback should fire continuously whe evaluates to true
continuous             : false,

// offset to use with scroll top
offset                 : 0,

// whether to include margin in elements position
includeMargin          : false,

// scroll context for visibility checks
context                : window,

// visibility check delay in ms (defaults to animationFrame)
throttle               : false,

// special visibility type (image, fixed)
type                   : false,

// image only animation settings
transition             : &#39;fade in&#39;,
duration               : 1000,

// array of callbacks for percentage
onPassed               : {},

// standard callbacks
onOnScreen             : false,
onOffScreen            : false,
onPassing              : false,
onTopVisible           : false,
onBottomVisible        : false,
onTopPassed            : false,
onBottomPassed         : false,

// reverse callbacks
onPassingReverse       : false,
onTopVisibleReverse    : false,
onBottomVisibleReverse : false,
onTopPassedReverse     : false,
onBottomPassedReverse  : false,

// utility callbacks
onUpdate               : false, // disabled by default for performance
onRefresh              : function(){},

metadata : {
  src: &#39;src&#39;
},

className: {
  fixed       : &#39;fixed&#39;,
  placeholder : &#39;placeholder&#39;
},

error : {
  method  : &#39;The method you called is not defined.&#39;,
  visible : &#39;Element is hidden, you must call refresh after element becomes visible&#39;
}</pre>

<p>};</p>

<p>})( jQuery, window, document );</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

