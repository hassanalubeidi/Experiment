<h1 class="ui header">
<%= @subject.name %>
</h1>
<div class="ui blue message">
  <div class="header">
    How scoring works
  </div>
  <p>The amount of marks per topic is added together, then multiplied multiplied by the time degredation function</p>
  <p>This takes into account how long ago the question was done, and the time of year it was done it (revision or new content?)
  (Remove this on release)
</div>
<% if Topic.count == 0 then %>
<div class="ui message">
  <div class="header">
    No topics!
  </div>
  <p>It looks like you don't have any topics for this subject. <%= link_to "Create some?", new_topic_path %></p>
</div>
<% end %>
<%= link_to "Add a question?", new_question_path, class: "ui fluid teal button" %>
<% @subject.topics.each do |topic| %>
<div>
	<h3><%= link_to topic.name, topic_path(topic) %></h3>
	<strong>Score: </strong><%= '%.2f' % progress_in_topic(topic) %>
	<div class="ui cards">
	<% get_questions_of_topic(topic).each do |question| %>
		<%= render "card", question: question %>
	<% end %>
	</div>

	<div class="ui accordion">
		
	    <div class="title">
	      <i class="dropdown icon"></i>
	      Objectives
	    </div>
	    <div class="content">
	    	<div class="ui segment"><ul>
		    <% topic.objectives.each do |objective| %>
		      <li><%= objective.name %></li>
		    <% end %>
	    	</ul></div>
	    </div>
	   
	  </div>
</div>
</div>

<% end %>
<%= link_to 'Edit', edit_subject_path(@subject) %> |
<strong><%= @subject.user.username %></strong>
